var Vl=Object.defineProperty;var zl=(e,t,n)=>t in e?Vl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>zl(e,typeof t!="symbol"?t+"":t,n);import{e as Yl,r as H,s as ql,c as ne,w as Qe,i as no,d as Te,g as Io,h as Ln,a as Xl,o as Ze,b as Dt,F as be,f as B,T as Kl,j as Bn,k as P,l as f,n as Ke,m as Y,t as $,p as J,q as C,u as g,v as dt,x as ke,y as le,z as ae,A as vt,B as or,C as De,D as ce,E as Ql,G as Jl,H as To,I as Zl,J as rs,K as ei,L as ti,M as ni,N as En,O as oi,P as ri,Q as si}from"./vue-Ch3f0zQg.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const ai="modulepreload",li=function(e){return"/"+e},ss={},Ea=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),i=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=a(n.map(c=>{if(c=li(c),c in ss)return;ss[c]=!0;const u=c.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ai,u||(h.as="script"),h.crossOrigin="",h.href=c,i&&h.setAttribute("nonce",i),document.head.appendChild(h),u)return new Promise((d,y)=>{h.addEventListener("load",d),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},ii=typeof chrome<"u"&&(chrome==null?void 0:chrome.storage);let Fo=null;async function wt(){if(!ii)return null;if(!Fo){const e=await Ea(()=>import("./browser-polyfill-Bl22BZwB.js").then(t=>t.b),[]);Fo=e.default||e}return Fo}const oo={theme:"system",accentColor:"blue",language:"zh-CN",showPoetry:!0,showFullNote:!1,searchEngine:"google",showSeconds:!1,use24Hour:!0,blinkSeparator:!0,timeFontWeight:"normal",blurIntensity:20,dockSize:"medium",autoFocusSearch:!0,autoShowAppGrid:!1,showGreeting:!0,username:"",smoothMode:!1,reduceMotion:!1,searchBoxAnimation:!1,overlayBlur:!0,shortcutBlur:!1,wallpaperResolution:"1080p",wallpaperVignette:!0,autoClearSearchBar:!0,searchHistory:!0,tabSwitchBehavior:"searchEngine",showShortcutDock:!0,openInNewTab:!0,showMoreShortcutsPerRow:!1,enableSync:!1},ro={type:"default",url:null,localData:null,localImages:[],defaultIndex:0,dynamicIndex:0,blur:!0,blurAmount:30,brightness:100},nn=[{id:"1",name:"翻译",url:"https://fanyi.qq.com/",icon:"ri:translate-2",iconType:"iconify",iconColor:"#4285f4",backgroundColor:"#ffffff",isInDock:!0,order:0,dockOrder:0},{id:"2",name:"AI 工具",url:"https://chat.openai.com",icon:"ri:openai-fill",iconType:"iconify",iconColor:"#10a37f",backgroundColor:"#ffffff",isInDock:!0,order:1,dockOrder:1},{id:"3",name:"图片",url:"https://unsplash.com",icon:"ri:image-line",iconType:"iconify",iconColor:"#e91e63",backgroundColor:"#ffffff",isInDock:!0,order:2,dockOrder:2},{id:"4",name:"便笺",url:"#notes",icon:"ri:sticky-note-line",iconType:"iconify",iconColor:"#fbbc04",backgroundColor:"#ffffff",isInDock:!0,order:3,dockOrder:3},{id:"5",name:"GitHub",url:"https://github.com",icon:"ri:github-fill",iconType:"iconify",iconColor:"#24292e",backgroundColor:"#ffffff",isInDock:!0,order:4,dockOrder:4},{id:"6",name:"QQ 邮箱",url:"https://mail.qq.com",icon:"ri:mail-line",iconType:"iconify",iconColor:"#ff5722",backgroundColor:"#ffffff",isInDock:!0,order:5,dockOrder:5},{id:"7",name:"云音乐",url:"https://music.163.com",icon:"ri:netease-cloud-music-line",iconType:"iconify",iconColor:"#e60026",backgroundColor:"#ffffff",isInDock:!0,order:6,dockOrder:6},{id:"8",name:"bilibili",url:"https://bilibili.com",icon:"ri:bilibili-line",iconType:"iconify",iconColor:"#fb7299",backgroundColor:"#ffffff",isInDock:!0,order:7,dockOrder:7},{id:"9",name:"壁纸",url:"https://wallhaven.cc",icon:"ri:gallery-line",iconType:"iconify",iconColor:"#00bcd4",backgroundColor:"#ffffff",isInDock:!0,order:8,dockOrder:8},{id:"10",name:"深色主题",url:"#theme-toggle",icon:"ri:sun-line",iconType:"iconify",iconColor:"#ff9800",backgroundColor:"#ffffff",isInDock:!0,order:9,dockOrder:9}];function ot(e,t){try{const n=localStorage.getItem(e);if(n){const r=JSON.parse(n);return Array.isArray(r)&&r.length===0?t:r}return t}catch{return t}}function rt(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{}}async function go(){try{const e=await wt();if(e){const n=(await e.storage.sync.get("settings")).settings;return{...oo,...n}}return ot("settings",oo)}catch{return ot("settings",oo)}}async function ci(e){try{const t=await wt();if(t){const n=await go();await t.storage.sync.set({settings:{...n,...e}})}else{const n=await go();rt("settings",{...n,...e})}}catch{const t=ot("settings",oo);rt("settings",{...t,...e})}}function Bo(e){return Array.isArray(e)?e.map((t,n)=>{let r={...t};if(t.id==="1"&&t.url==="https://translate.google.com"&&(r.url="https://fanyi.qq.com/"),t.id==="5"&&(t.url==="https://airportal.cn"||t.name==="空投快传")&&(r={...r,name:"GitHub",url:"https://github.com",icon:"ri:github-fill",iconColor:"#24292e"}),t.isInDock&&t.dockOrder===void 0){const s=e.filter(a=>a.isInDock).findIndex(a=>a.id===t.id);r.dockOrder=s>=0?s:n}return r}):(console.error("migrateApps 接收到非数组数据:",e),nn)}async function dn(){return(await go()).enableSync===!0}async function ui(){try{const e=await wt(),t=await dn();if(e){let a=(await(t?e.storage.sync:e.storage.local).get("apps")).apps;if(!a||(!Array.isArray(a)&&typeof a=="object"&&(a=Object.keys(a).filter(c=>!isNaN(Number(c))).sort((c,u)=>Number(c)-Number(u)).map(c=>a[c])),!Array.isArray(a)||a.length===0))return nn;const l=Bo(a);return JSON.stringify(l)!==JSON.stringify(a)&&await mt(l),l}const n=ot("apps",null);if(!n||n.length===0)return nn;const r=Bo(n);return JSON.stringify(r)!==JSON.stringify(n)&&rt("apps",r),r}catch(e){console.error("加载应用数据失败:",e);const t=ot("apps",null);if(!t||t.length===0)return nn;const n=Bo(t);return JSON.stringify(n)!==JSON.stringify(t)&&rt("apps",n),n}}async function mt(e){if(!Array.isArray(e)){console.error("saveApps 接收到非数组数据:",e);return}try{const t=await wt(),n=await dn();t?await(n?t.storage.sync:t.storage.local).set({apps:e}):rt("apps",e)}catch(t){console.error("保存应用数据失败:",t),rt("apps",e)}}async function rr(){try{const e=await wt(),t=await dn();if(e){const o=(await(t?e.storage.sync:e.storage.local).get("wallpaper")).wallpaper;return{...ro,...o}}return ot("wallpaper",ro)}catch{return ot("wallpaper",ro)}}async function ze(e){try{const t=await wt(),n=await dn();if(t){const r=n?t.storage.sync:t.storage.local,o=await rr();await r.set({wallpaper:{...o,...e}})}else{const r=await rr();rt("wallpaper",{...r,...e})}}catch{const t=ot("wallpaper",ro);rt("wallpaper",{...t,...e})}}function Ca(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function di(){return JSON.parse(JSON.stringify(nn))}async function Wo(){try{const e=await wt();return e?(await e.storage.local.get("bingWallpaperCache")).bingWallpaperCache||null:ot("bingWallpaperCache",null)}catch{return ot("bingWallpaperCache",null)}}async function fi(e){try{const t=await wt();t?await t.storage.local.set({bingWallpaperCache:e}):rt("bingWallpaperCache",e)}catch{rt("bingWallpaperCache",e)}}function pi(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}async function hi(){try{const e=await wt(),t=await dn();if(e){let o=(await(t?e.storage.sync:e.storage.local).get("notes")).notes;return o?(!Array.isArray(o)&&typeof o=="object"&&(o=Object.keys(o).filter(a=>!isNaN(Number(a))).sort((a,l)=>Number(a)-Number(l)).map(a=>o[a])),Array.isArray(o)?o:[]):[]}return ot("notes",[])}catch(e){return console.error("加载便笺数据失败:",e),ot("notes",[])}}async function gn(e){if(!Array.isArray(e)){console.error("saveNotes 接收到非数组数据:",e);return}try{const t=await wt(),n=await dn();t?await(n?t.storage.sync:t.storage.local).set({notes:e}):rt("notes",e)}catch(t){console.error("保存便笺数据失败:",t),rt("notes",e)}}/*!
  * shared v11.2.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function gi(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const mo=typeof window<"u",Ot=(e,t=!1)=>t?Symbol.for(e):Symbol(e),mi=(e,t,n)=>vi({l:e,k:t,s:n}),vi=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Pe=e=>typeof e=="number"&&isFinite(e),bi=e=>Dr(e)==="[object Date]",an=e=>Dr(e)==="[object RegExp]",Ao=e=>se(e)&&Object.keys(e).length===0,Oe=Object.assign,_i=Object.create,_e=(e=null)=>_i(e);let as;const Vt=()=>as||(as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:_e());function ls(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function is(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yi(e){return e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,o,s)=>`${o}="${is(s)}"`),e=e.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,o,s)=>`${o}='${is(s)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{e=e.replace(r,"$1javascript&#58;")}),e}const wi=Object.prototype.hasOwnProperty;function ft(e,t){return wi.call(e,t)}const Ie=Array.isArray,Se=e=>typeof e=="function",z=e=>typeof e=="string",ue=e=>typeof e=="boolean",pe=e=>e!==null&&typeof e=="object",ki=e=>pe(e)&&Se(e.then)&&Se(e.catch),Ia=Object.prototype.toString,Dr=e=>Ia.call(e),se=e=>Dr(e)==="[object Object]",Si=e=>e==null?"":Ie(e)||se(e)&&e.toString===Ia?JSON.stringify(e,null,2):String(e);function Nr(e,t=""){return e.reduce((n,r,o)=>o===0?n+r:n+t+r,"")}const zn=e=>!pe(e)||Ie(e);function so(e,t){if(zn(e)||zn(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:o}=n.pop();Object.keys(r).forEach(s=>{s!=="__proto__"&&(pe(r[s])&&!pe(o[s])&&(o[s]=Array.isArray(r[s])?[]:_e()),zn(o[s])||zn(r[s])?o[s]=r[s]:n.push({src:r[s],des:o[s]}))})}}/*!
  * message-compiler v11.2.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function xi(e,t,n){return{line:e,column:t,offset:n}}function sr(e,t,n){return{start:e,end:t}}const he={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},Ei=17;function Do(e,t,n={}){const{domain:r,messages:o,args:s}=n,a=e,l=new SyntaxError(String(a));return l.code=e,t&&(l.location=t),l.domain=r,l}function Ci(e){throw e}const ht=" ",Ii="\r",Be=`
`,Ti="\u2028",Ai="\u2029";function Di(e){const t=e;let n=0,r=1,o=1,s=0;const a=D=>t[D]===Ii&&t[D+1]===Be,l=D=>t[D]===Be,i=D=>t[D]===Ai,c=D=>t[D]===Ti,u=D=>a(D)||l(D)||i(D)||c(D),p=()=>n,h=()=>r,d=()=>o,y=()=>s,v=D=>a(D)||i(D)||c(D)?Be:t[D],w=()=>v(n),m=()=>v(n+s);function k(){return s=0,u(n)&&(r++,o=0),a(n)&&n++,n++,o++,t[n]}function E(){return a(n+s)&&s++,s++,t[n+s]}function S(){n=0,r=1,o=1,s=0}function N(D=0){s=D}function L(){const D=n+s;for(;D!==n;)k();s=0}return{index:p,line:h,column:d,peekOffset:y,charAt:v,currentChar:w,currentPeek:m,next:k,peek:E,reset:S,resetPeek:N,skipToPeek:L}}const xt=void 0,Ni=".",cs="'",Li="tokenizer";function $i(e,t={}){const n=t.location!==!1,r=Di(e),o=()=>r.index(),s=()=>xi(r.line(),r.column(),r.index()),a=s(),l=o(),i={currentType:13,offset:l,startLoc:a,endLoc:a,lastType:13,lastOffset:l,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},c=()=>i,{onError:u}=t;function p(b,_,O,...X){const ge=c();if(_.column+=O,_.offset+=O,u){const q=n?sr(ge.startLoc,_):null,A=Do(b,q,{domain:Li,args:X});u(A)}}function h(b,_,O){b.endLoc=s(),b.currentType=_;const X={type:_};return n&&(X.loc=sr(b.startLoc,b.endLoc)),O!=null&&(X.value=O),X}const d=b=>h(b,13);function y(b,_){return b.currentChar()===_?(b.next(),_):(p(he.EXPECTED_TOKEN,s(),0,_),"")}function v(b){let _="";for(;b.currentPeek()===ht||b.currentPeek()===Be;)_+=b.currentPeek(),b.peek();return _}function w(b){const _=v(b);return b.skipToPeek(),_}function m(b){if(b===xt)return!1;const _=b.charCodeAt(0);return _>=97&&_<=122||_>=65&&_<=90||_===95}function k(b){if(b===xt)return!1;const _=b.charCodeAt(0);return _>=48&&_<=57}function E(b,_){const{currentType:O}=_;if(O!==2)return!1;v(b);const X=m(b.currentPeek());return b.resetPeek(),X}function S(b,_){const{currentType:O}=_;if(O!==2)return!1;v(b);const X=b.currentPeek()==="-"?b.peek():b.currentPeek(),ge=k(X);return b.resetPeek(),ge}function N(b,_){const{currentType:O}=_;if(O!==2)return!1;v(b);const X=b.currentPeek()===cs;return b.resetPeek(),X}function L(b,_){const{currentType:O}=_;if(O!==7)return!1;v(b);const X=b.currentPeek()===".";return b.resetPeek(),X}function D(b,_){const{currentType:O}=_;if(O!==8)return!1;v(b);const X=m(b.currentPeek());return b.resetPeek(),X}function x(b,_){const{currentType:O}=_;if(!(O===7||O===11))return!1;v(b);const X=b.currentPeek()===":";return b.resetPeek(),X}function T(b,_){const{currentType:O}=_;if(O!==9)return!1;const X=()=>{const q=b.currentPeek();return q==="{"?m(b.peek()):q==="@"||q==="|"||q===":"||q==="."||q===ht||!q?!1:q===Be?(b.peek(),X()):Q(b,!1)},ge=X();return b.resetPeek(),ge}function W(b){v(b);const _=b.currentPeek()==="|";return b.resetPeek(),_}function Q(b,_=!0){const O=(ge=!1,q="")=>{const A=b.currentPeek();return A==="{"||A==="@"||!A?ge:A==="|"?!(q===ht||q===Be):A===ht?(b.peek(),O(!0,ht)):A===Be?(b.peek(),O(!0,Be)):!0},X=O();return _&&b.resetPeek(),X}function I(b,_){const O=b.currentChar();return O===xt?xt:_(O)?(b.next(),O):null}function R(b){const _=b.charCodeAt(0);return _>=97&&_<=122||_>=65&&_<=90||_>=48&&_<=57||_===95||_===36}function M(b){return I(b,R)}function j(b){const _=b.charCodeAt(0);return _>=97&&_<=122||_>=65&&_<=90||_>=48&&_<=57||_===95||_===36||_===45}function re(b){return I(b,j)}function Ne(b){const _=b.charCodeAt(0);return _>=48&&_<=57}function kt(b){return I(b,Ne)}function je(b){const _=b.charCodeAt(0);return _>=48&&_<=57||_>=65&&_<=70||_>=97&&_<=102}function St(b){return I(b,je)}function Ft(b){let _="",O="";for(;_=kt(b);)O+=_;return O}function pt(b){let _="";for(;;){const O=b.currentChar();if(O==="{"||O==="}"||O==="@"||O==="|"||!O)break;if(O===ht||O===Be)if(Q(b))_+=O,b.next();else{if(W(b))break;_+=O,b.next()}else _+=O,b.next()}return _}function qt(b){w(b);let _="",O="";for(;_=re(b);)O+=_;const X=b.currentChar();if(X&&X!=="}"&&X!==xt&&X!==ht&&X!==Be&&X!=="　"){const ge=Wt(b);return p(he.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,O+ge),O+ge}return b.currentChar()===xt&&p(he.UNTERMINATED_CLOSING_BRACE,s(),0),O}function fn(b){w(b);let _="";return b.currentChar()==="-"?(b.next(),_+=`-${Ft(b)}`):_+=Ft(b),b.currentChar()===xt&&p(he.UNTERMINATED_CLOSING_BRACE,s(),0),_}function Gn(b){return b!==cs&&b!==Be}function Xt(b){w(b),y(b,"'");let _="",O="";for(;_=I(b,Gn);)_==="\\"?O+=pn(b):O+=_;const X=b.currentChar();return X===Be||X===xt?(p(he.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),X===Be&&(b.next(),y(b,"'")),O):(y(b,"'"),O)}function pn(b){const _=b.currentChar();switch(_){case"\\":case"'":return b.next(),`\\${_}`;case"u":return Bt(b,_,4);case"U":return Bt(b,_,6);default:return p(he.UNKNOWN_ESCAPE_SEQUENCE,s(),0,_),""}}function Bt(b,_,O){y(b,_);let X="";for(let ge=0;ge<O;ge++){const q=St(b);if(!q){p(he.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${_}${X}${b.currentChar()}`);break}X+=q}return`\\${_}${X}`}function Kt(b){return b!=="{"&&b!=="}"&&b!==ht&&b!==Be}function Wt(b){w(b);let _="",O="";for(;_=I(b,Kt);)O+=_;return O}function hn(b){let _="",O="";for(;_=M(b);)O+=_;return O}function Z(b){const _=O=>{const X=b.currentChar();return X==="{"||X==="@"||X==="|"||X==="("||X===")"||!X||X===ht?O:(O+=X,b.next(),_(O))};return _("")}function G(b){w(b);const _=y(b,"|");return w(b),_}function ye(b,_){let O=null;switch(b.currentChar()){case"{":return _.braceNest>=1&&p(he.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),b.next(),O=h(_,2,"{"),w(b),_.braceNest++,O;case"}":return _.braceNest>0&&_.currentType===2&&p(he.EMPTY_PLACEHOLDER,s(),0),b.next(),O=h(_,3,"}"),_.braceNest--,_.braceNest>0&&w(b),_.inLinked&&_.braceNest===0&&(_.inLinked=!1),O;case"@":return _.braceNest>0&&p(he.UNTERMINATED_CLOSING_BRACE,s(),0),O=et(b,_)||d(_),_.braceNest=0,O;default:{let ge=!0,q=!0,A=!0;if(W(b))return _.braceNest>0&&p(he.UNTERMINATED_CLOSING_BRACE,s(),0),O=h(_,1,G(b)),_.braceNest=0,_.inLinked=!1,O;if(_.braceNest>0&&(_.currentType===4||_.currentType===5||_.currentType===6))return p(he.UNTERMINATED_CLOSING_BRACE,s(),0),_.braceNest=0,at(b,_);if(ge=E(b,_))return O=h(_,4,qt(b)),w(b),O;if(q=S(b,_))return O=h(_,5,fn(b)),w(b),O;if(A=N(b,_))return O=h(_,6,Xt(b)),w(b),O;if(!ge&&!q&&!A)return O=h(_,12,Wt(b)),p(he.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,O.value),w(b),O;break}}return O}function et(b,_){const{currentType:O}=_;let X=null;const ge=b.currentChar();switch((O===7||O===8||O===11||O===9)&&(ge===Be||ge===ht)&&p(he.INVALID_LINKED_FORMAT,s(),0),ge){case"@":return b.next(),X=h(_,7,"@"),_.inLinked=!0,X;case".":return w(b),b.next(),h(_,8,".");case":":return w(b),b.next(),h(_,9,":");default:return W(b)?(X=h(_,1,G(b)),_.braceNest=0,_.inLinked=!1,X):L(b,_)||x(b,_)?(w(b),et(b,_)):D(b,_)?(w(b),h(_,11,hn(b))):T(b,_)?(w(b),ge==="{"?ye(b,_)||X:h(_,10,Z(b))):(O===7&&p(he.INVALID_LINKED_FORMAT,s(),0),_.braceNest=0,_.inLinked=!1,at(b,_))}}function at(b,_){let O={type:13};if(_.braceNest>0)return ye(b,_)||d(_);if(_.inLinked)return et(b,_)||d(_);switch(b.currentChar()){case"{":return ye(b,_)||d(_);case"}":return p(he.UNBALANCED_CLOSING_BRACE,s(),0),b.next(),h(_,3,"}");case"@":return et(b,_)||d(_);default:{if(W(b))return O=h(_,1,G(b)),_.braceNest=0,_.inLinked=!1,O;if(Q(b))return h(_,0,pt(b));break}}return O}function K(){const{currentType:b,offset:_,startLoc:O,endLoc:X}=i;return i.lastType=b,i.lastOffset=_,i.lastStartLoc=O,i.lastEndLoc=X,i.offset=o(),i.startLoc=s(),r.currentChar()===xt?h(i,13):at(r,i)}return{nextToken:K,currentOffset:o,currentPosition:s,context:c}}const Pi="parser",Oi=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Ri(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function Mi(e={}){const t=e.location!==!1,{onError:n}=e;function r(m,k,E,S,...N){const L=m.currentPosition();if(L.offset+=S,L.column+=S,n){const D=t?sr(E,L):null,x=Do(k,D,{domain:Pi,args:N});n(x)}}function o(m,k,E){const S={type:m};return t&&(S.start=k,S.end=k,S.loc={start:E,end:E}),S}function s(m,k,E,S){t&&(m.end=k,m.loc&&(m.loc.end=E))}function a(m,k){const E=m.context(),S=o(3,E.offset,E.startLoc);return S.value=k,s(S,m.currentOffset(),m.currentPosition()),S}function l(m,k){const E=m.context(),{lastOffset:S,lastStartLoc:N}=E,L=o(5,S,N);return L.index=parseInt(k,10),m.nextToken(),s(L,m.currentOffset(),m.currentPosition()),L}function i(m,k){const E=m.context(),{lastOffset:S,lastStartLoc:N}=E,L=o(4,S,N);return L.key=k,m.nextToken(),s(L,m.currentOffset(),m.currentPosition()),L}function c(m,k){const E=m.context(),{lastOffset:S,lastStartLoc:N}=E,L=o(9,S,N);return L.value=k.replace(Oi,Ri),m.nextToken(),s(L,m.currentOffset(),m.currentPosition()),L}function u(m){const k=m.nextToken(),E=m.context(),{lastOffset:S,lastStartLoc:N}=E,L=o(8,S,N);return k.type!==11?(r(m,he.UNEXPECTED_EMPTY_LINKED_MODIFIER,E.lastStartLoc,0),L.value="",s(L,S,N),{nextConsumeToken:k,node:L}):(k.value==null&&r(m,he.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,gt(k)),L.value=k.value||"",s(L,m.currentOffset(),m.currentPosition()),{node:L})}function p(m,k){const E=m.context(),S=o(7,E.offset,E.startLoc);return S.value=k,s(S,m.currentOffset(),m.currentPosition()),S}function h(m){const k=m.context(),E=o(6,k.offset,k.startLoc);let S=m.nextToken();if(S.type===8){const N=u(m);E.modifier=N.node,S=N.nextConsumeToken||m.nextToken()}switch(S.type!==9&&r(m,he.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,gt(S)),S=m.nextToken(),S.type===2&&(S=m.nextToken()),S.type){case 10:S.value==null&&r(m,he.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,gt(S)),E.key=p(m,S.value||"");break;case 4:S.value==null&&r(m,he.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,gt(S)),E.key=i(m,S.value||"");break;case 5:S.value==null&&r(m,he.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,gt(S)),E.key=l(m,S.value||"");break;case 6:S.value==null&&r(m,he.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,gt(S)),E.key=c(m,S.value||"");break;default:{r(m,he.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const N=m.context(),L=o(7,N.offset,N.startLoc);return L.value="",s(L,N.offset,N.startLoc),E.key=L,s(E,N.offset,N.startLoc),{nextConsumeToken:S,node:E}}}return s(E,m.currentOffset(),m.currentPosition()),{node:E}}function d(m){const k=m.context(),E=k.currentType===1?m.currentOffset():k.offset,S=k.currentType===1?k.endLoc:k.startLoc,N=o(2,E,S);N.items=[];let L=null;do{const T=L||m.nextToken();switch(L=null,T.type){case 0:T.value==null&&r(m,he.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,gt(T)),N.items.push(a(m,T.value||""));break;case 5:T.value==null&&r(m,he.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,gt(T)),N.items.push(l(m,T.value||""));break;case 4:T.value==null&&r(m,he.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,gt(T)),N.items.push(i(m,T.value||""));break;case 6:T.value==null&&r(m,he.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,gt(T)),N.items.push(c(m,T.value||""));break;case 7:{const W=h(m);N.items.push(W.node),L=W.nextConsumeToken||null;break}}}while(k.currentType!==13&&k.currentType!==1);const D=k.currentType===1?k.lastOffset:m.currentOffset(),x=k.currentType===1?k.lastEndLoc:m.currentPosition();return s(N,D,x),N}function y(m,k,E,S){const N=m.context();let L=S.items.length===0;const D=o(1,k,E);D.cases=[],D.cases.push(S);do{const x=d(m);L||(L=x.items.length===0),D.cases.push(x)}while(N.currentType!==13);return L&&r(m,he.MUST_HAVE_MESSAGES_IN_PLURAL,E,0),s(D,m.currentOffset(),m.currentPosition()),D}function v(m){const k=m.context(),{offset:E,startLoc:S}=k,N=d(m);return k.currentType===13?N:y(m,E,S,N)}function w(m){const k=$i(m,Oe({},e)),E=k.context(),S=o(0,E.offset,E.startLoc);return t&&S.loc&&(S.loc.source=m),S.body=v(k),e.onCacheKey&&(S.cacheKey=e.onCacheKey(m)),E.currentType!==13&&r(k,he.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,m[E.offset]||""),s(S,k.currentOffset(),k.currentPosition()),S}return{parse:w}}function gt(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function Fi(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function us(e,t){for(let n=0;n<e.length;n++)Lr(e[n],t)}function Lr(e,t){switch(e.type){case 1:us(e.cases,t),t.helper("plural");break;case 2:us(e.items,t);break;case 6:{Lr(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Bi(e,t={}){const n=Fi(e);n.helper("normalize"),e.body&&Lr(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function Wi(e){const t=e.body;return t.type===2?ds(t):t.cases.forEach(n=>ds(n)),e}function ds(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=Nr(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function en(e){switch(e.t=e.type,e.type){case 0:{const t=e;en(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)en(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)en(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;en(t.key),t.k=t.key,delete t.key,t.modifier&&(en(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function Ui(e,t){const{filename:n,breakLineCode:r,needIndent:o}=t,s=t.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:o,indentLevel:0};s&&e.loc&&(a.source=e.loc.source);const l=()=>a;function i(v,w){a.code+=v}function c(v,w=!0){const m=w?r:"";i(o?m+"  ".repeat(v):m)}function u(v=!0){const w=++a.indentLevel;v&&c(w)}function p(v=!0){const w=--a.indentLevel;v&&c(w)}function h(){c(a.indentLevel)}return{context:l,push:i,indent:u,deindent:p,newline:h,helper:v=>`_${v}`,needIndent:()=>a.needIndent}}function Hi(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),ln(e,t.key),t.modifier?(e.push(", "),ln(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function ji(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const o=t.items.length;for(let s=0;s<o&&(ln(e,t.items[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function Gi(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const o=t.cases.length;for(let s=0;s<o&&(ln(e,t.cases[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function Vi(e,t){t.body?ln(e,t.body):e.push("null")}function ln(e,t){const{helper:n}=e;switch(t.type){case 0:Vi(e,t);break;case 1:Gi(e,t);break;case 2:ji(e,t);break;case 6:Hi(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const zi=(e,t={})=>{const n=z(t.mode)?t.mode:"normal",r=z(t.filename)?t.filename:"message.intl";t.sourceMap;const o=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,s=t.needIndent?t.needIndent:n!=="arrow",a=e.helpers||[],l=Ui(e,{filename:r,breakLineCode:o,needIndent:s});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),a.length>0&&(l.push(`const { ${Nr(a.map(u=>`${u}: _${u}`),", ")} } = ctx`),l.newline()),l.push("return "),ln(l,e),l.deindent(s),l.push("}"),delete e.helpers;const{code:i,map:c}=l.context();return{ast:e,code:i,map:c?c.toJSON():void 0}};function Yi(e,t={}){const n=Oe({},t),r=!!n.jit,o=!!n.minify,s=n.optimize==null?!0:n.optimize,l=Mi(n).parse(e);return r?(s&&Wi(l),o&&en(l),{ast:l,code:""}):(Bi(l,n),zi(l,n))}/*!
  * core-base v11.2.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function qi(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vt().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Vt().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function bt(e){return pe(e)&&$r(e)===0&&(ft(e,"b")||ft(e,"body"))}const Ta=["b","body"];function Xi(e){return Rt(e,Ta)}const Aa=["c","cases"];function Ki(e){return Rt(e,Aa,[])}const Da=["s","static"];function Qi(e){return Rt(e,Da)}const Na=["i","items"];function Ji(e){return Rt(e,Na,[])}const La=["t","type"];function $r(e){return Rt(e,La)}const $a=["v","value"];function Yn(e,t){const n=Rt(e,$a);if(n!=null)return n;throw $n(t)}const Pa=["m","modifier"];function Zi(e){return Rt(e,Pa)}const Oa=["k","key"];function ec(e){const t=Rt(e,Oa);if(t)return t;throw $n(6)}function Rt(e,t,n){for(let r=0;r<t.length;r++){const o=t[r];if(ft(e,o)&&e[o]!=null)return e[o]}return n}const Ra=[...Ta,...Aa,...Da,...Na,...Oa,...Pa,...$a,...La];function $n(e){return new Error(`unhandled node type: ${e}`)}function Uo(e){return n=>tc(n,e)}function tc(e,t){const n=Xi(t);if(n==null)throw $n(0);if($r(n)===1){const s=Ki(n);return e.plural(s.reduce((a,l)=>[...a,fs(e,l)],[]))}else return fs(e,n)}function fs(e,t){const n=Qi(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const r=Ji(t).reduce((o,s)=>[...o,ar(e,s)],[]);return e.normalize(r)}}function ar(e,t){const n=$r(t);switch(n){case 3:return Yn(t,n);case 9:return Yn(t,n);case 4:{const r=t;if(ft(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(ft(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw $n(n)}case 5:{const r=t;if(ft(r,"i")&&Pe(r.i))return e.interpolate(e.list(r.i));if(ft(r,"index")&&Pe(r.index))return e.interpolate(e.list(r.index));throw $n(n)}case 6:{const r=t,o=Zi(r),s=ec(r);return e.linked(ar(e,s),o?ar(e,o):void 0,e.type)}case 7:return Yn(t,n);case 8:return Yn(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const nc=e=>e;let qn=_e();function oc(e,t={}){let n=!1;const r=t.onError||Ci;return t.onError=o=>{n=!0,r(o)},{...Yi(e,t),detectError:n}}function rc(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&z(e)){ue(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||nc)(e),o=qn[r];if(o)return o;const{ast:s,detectError:a}=oc(e,{...t,location:!1,jit:!0}),l=Uo(s);return a?l:qn[r]=l}else{const n=e.cacheKey;if(n){const r=qn[n];return r||(qn[n]=Uo(e))}else return Uo(e)}}let Pn=null;function sc(e){Pn=e}function ac(e,t,n){Pn&&Pn.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const lc=ic("function:translate");function ic(e){return t=>Pn&&Pn.emit(e,t)}const Ct={INVALID_ARGUMENT:Ei,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},cc=24;function It(e){return Do(e,null,void 0)}function Pr(e,t){return t.locale!=null?ps(t.locale):ps(e.locale)}let Ho;function ps(e){if(z(e))return e;if(Se(e)){if(e.resolvedOnce&&Ho!=null)return Ho;if(e.constructor.name==="Function"){const t=e();if(ki(t))throw It(Ct.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Ho=t}else throw It(Ct.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw It(Ct.NOT_SUPPORT_LOCALE_TYPE)}function uc(e,t,n){return[...new Set([n,...Ie(t)?t:pe(t)?Object.keys(t):z(t)?[t]:[n]])]}function Ma(e,t,n){const r=z(n)?n:On,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let s=o.__localeChainCache.get(r);if(!s){s=[];let a=[n];for(;Ie(a);)a=hs(s,a,t);const l=Ie(t)||!se(t)?t:t.default?t.default:null;a=z(l)?[l]:l,Ie(a)&&hs(s,a,!1),o.__localeChainCache.set(r,s)}return s}function hs(e,t,n){let r=!0;for(let o=0;o<t.length&&ue(r);o++){const s=t[o];z(s)&&(r=dc(e,t[o],n))}return r}function dc(e,t,n){let r;const o=t.split("-");do{const s=o.join("-");r=fc(e,s,n),o.splice(-1,1)}while(o.length&&r===!0);return r}function fc(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const o=t.replace(/!/g,"");e.push(o),(Ie(n)||se(n))&&n[o]&&(r=n[o])}return r}const Mt=[];Mt[0]={w:[0],i:[3,0],"[":[4],o:[7]};Mt[1]={w:[1],".":[2],"[":[4],o:[7]};Mt[2]={w:[2],i:[3,0],0:[3,0]};Mt[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Mt[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Mt[5]={"'":[4,0],o:8,l:[5,0]};Mt[6]={'"':[4,0],o:8,l:[6,0]};const pc=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function hc(e){return pc.test(e)}function gc(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function mc(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function vc(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:hc(t)?gc(t):"*"+t}function bc(e){const t=[];let n=-1,r=0,o=0,s,a,l,i,c,u,p;const h=[];h[0]=()=>{a===void 0?a=l:a+=l},h[1]=()=>{a!==void 0&&(t.push(a),a=void 0)},h[2]=()=>{h[0](),o++},h[3]=()=>{if(o>0)o--,r=4,h[0]();else{if(o=0,a===void 0||(a=vc(a),a===!1))return!1;h[1]()}};function d(){const y=e[n+1];if(r===5&&y==="'"||r===6&&y==='"')return n++,l="\\"+y,h[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&d())){if(i=mc(s),p=Mt[r],c=p[i]||p.l||8,c===8||(r=c[0],c[1]!==void 0&&(u=h[c[1]],u&&(l=s,u()===!1))))return;if(r===7)return t}}const gs=new Map;function _c(e,t){return pe(e)?e[t]:null}function yc(e,t){if(!pe(e))return null;let n=gs.get(t);if(n||(n=bc(t),n&&gs.set(t,n)),!n)return null;const r=n.length;let o=e,s=0;for(;s<r;){const a=n[s];if(Ra.includes(a)&&bt(o))return null;const l=o[a];if(l===void 0||Se(o))return null;o=l,s++}return o}const wc="11.2.2",No=-1,On="en-US",ms="",vs=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function kc(){return{upper:(e,t)=>t==="text"&&z(e)?e.toUpperCase():t==="vnode"&&pe(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&z(e)?e.toLowerCase():t==="vnode"&&pe(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&z(e)?vs(e):t==="vnode"&&pe(e)&&"__v_isVNode"in e?vs(e.children):e}}let Fa;function Sc(e){Fa=e}let Ba;function xc(e){Ba=e}let Wa;function Ec(e){Wa=e}let Ua=null;const Cc=e=>{Ua=e},Ic=()=>Ua;let Ha=null;const bs=e=>{Ha=e},Tc=()=>Ha;let _s=0;function Ac(e={}){const t=Se(e.onWarn)?e.onWarn:gi,n=z(e.version)?e.version:wc,r=z(e.locale)||Se(e.locale)?e.locale:On,o=Se(r)?On:r,s=Ie(e.fallbackLocale)||se(e.fallbackLocale)||z(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o,a=se(e.messages)?e.messages:jo(o),l=se(e.datetimeFormats)?e.datetimeFormats:jo(o),i=se(e.numberFormats)?e.numberFormats:jo(o),c=Oe(_e(),e.modifiers,kc()),u=e.pluralRules||_e(),p=Se(e.missing)?e.missing:null,h=ue(e.missingWarn)||an(e.missingWarn)?e.missingWarn:!0,d=ue(e.fallbackWarn)||an(e.fallbackWarn)?e.fallbackWarn:!0,y=!!e.fallbackFormat,v=!!e.unresolving,w=Se(e.postTranslation)?e.postTranslation:null,m=se(e.processor)?e.processor:null,k=ue(e.warnHtmlMessage)?e.warnHtmlMessage:!0,E=!!e.escapeParameter,S=Se(e.messageCompiler)?e.messageCompiler:Fa,N=Se(e.messageResolver)?e.messageResolver:Ba||_c,L=Se(e.localeFallbacker)?e.localeFallbacker:Wa||uc,D=pe(e.fallbackContext)?e.fallbackContext:void 0,x=e,T=pe(x.__datetimeFormatters)?x.__datetimeFormatters:new Map,W=pe(x.__numberFormatters)?x.__numberFormatters:new Map,Q=pe(x.__meta)?x.__meta:{};_s++;const I={version:n,cid:_s,locale:r,fallbackLocale:s,messages:a,modifiers:c,pluralRules:u,missing:p,missingWarn:h,fallbackWarn:d,fallbackFormat:y,unresolving:v,postTranslation:w,processor:m,warnHtmlMessage:k,escapeParameter:E,messageCompiler:S,messageResolver:N,localeFallbacker:L,fallbackContext:D,onWarn:t,__meta:Q};return I.datetimeFormats=l,I.numberFormats=i,I.__datetimeFormatters=T,I.__numberFormatters=W,__INTLIFY_PROD_DEVTOOLS__&&ac(I,n,Q),I}const jo=e=>({[e]:_e()});function Or(e,t,n,r,o){const{missing:s,onWarn:a}=e;if(s!==null){const l=s(e,n,t,o);return z(l)?l:t}else return t}function mn(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Dc(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Nc(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(Dc(e,t[r]))return!0;return!1}function ys(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:a}=e,{__datetimeFormatters:l}=e,[i,c,u,p]=lr(...t),h=ue(u.missingWarn)?u.missingWarn:e.missingWarn;ue(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,y=Pr(e,u),v=a(e,o,y);if(!z(i)||i==="")return new Intl.DateTimeFormat(y,p).format(c);let w={},m,k=null;const E="datetime format";for(let L=0;L<v.length&&(m=v[L],w=n[m]||{},k=w[i],!se(k));L++)Or(e,i,m,h,E);if(!se(k)||!z(m))return r?No:i;let S=`${m}__${i}`;Ao(p)||(S=`${S}__${JSON.stringify(p)}`);let N=l.get(S);return N||(N=new Intl.DateTimeFormat(m,Oe({},k,p)),l.set(S,N)),d?N.formatToParts(c):N.format(c)}const ja=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function lr(...e){const[t,n,r,o]=e,s=_e();let a=_e(),l;if(z(t)){const i=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!i)throw It(Ct.INVALID_ISO_DATE_ARGUMENT);const c=i[3]?i[3].trim().startsWith("T")?`${i[1].trim()}${i[3].trim()}`:`${i[1].trim()}T${i[3].trim()}`:i[1].trim();l=new Date(c);try{l.toISOString()}catch{throw It(Ct.INVALID_ISO_DATE_ARGUMENT)}}else if(bi(t)){if(isNaN(t.getTime()))throw It(Ct.INVALID_DATE_ARGUMENT);l=t}else if(Pe(t))l=t;else throw It(Ct.INVALID_ARGUMENT);return z(n)?s.key=n:se(n)&&Object.keys(n).forEach(i=>{ja.includes(i)?a[i]=n[i]:s[i]=n[i]}),z(r)?s.locale=r:se(r)&&(a=r),se(o)&&(a=o),[s.key||"",l,s,a]}function ws(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function ks(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:a}=e,{__numberFormatters:l}=e,[i,c,u,p]=ir(...t),h=ue(u.missingWarn)?u.missingWarn:e.missingWarn;ue(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,y=Pr(e,u),v=a(e,o,y);if(!z(i)||i==="")return new Intl.NumberFormat(y,p).format(c);let w={},m,k=null;const E="number format";for(let L=0;L<v.length&&(m=v[L],w=n[m]||{},k=w[i],!se(k));L++)Or(e,i,m,h,E);if(!se(k)||!z(m))return r?No:i;let S=`${m}__${i}`;Ao(p)||(S=`${S}__${JSON.stringify(p)}`);let N=l.get(S);return N||(N=new Intl.NumberFormat(m,Oe({},k,p)),l.set(S,N)),d?N.formatToParts(c):N.format(c)}const Ga=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function ir(...e){const[t,n,r,o]=e,s=_e();let a=_e();if(!Pe(t))throw It(Ct.INVALID_ARGUMENT);const l=t;return z(n)?s.key=n:se(n)&&Object.keys(n).forEach(i=>{Ga.includes(i)?a[i]=n[i]:s[i]=n[i]}),z(r)?s.locale=r:se(r)&&(a=r),se(o)&&(a=o),[s.key||"",l,s,a]}function Ss(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}const Lc=e=>e,$c=e=>"",Pc="text",Oc=e=>e.length===0?"":Nr(e),Rc=Si;function xs(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Mc(e){const t=Pe(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Pe(e.named.count)||Pe(e.named.n))?Pe(e.named.count)?e.named.count:Pe(e.named.n)?e.named.n:t:t}function Fc(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Bc(e={}){const t=e.locale,n=Mc(e),r=pe(e.pluralRules)&&z(t)&&Se(e.pluralRules[t])?e.pluralRules[t]:xs,o=pe(e.pluralRules)&&z(t)&&Se(e.pluralRules[t])?xs:void 0,s=m=>m[r(n,m.length,o)],a=e.list||[],l=m=>a[m],i=e.named||_e();Pe(e.pluralIndex)&&Fc(n,i);const c=m=>i[m];function u(m,k){const E=Se(e.messages)?e.messages(m,!!k):pe(e.messages)?e.messages[m]:!1;return E||(e.parent?e.parent.message(m):$c)}const p=m=>e.modifiers?e.modifiers[m]:Lc,h=se(e.processor)&&Se(e.processor.normalize)?e.processor.normalize:Oc,d=se(e.processor)&&Se(e.processor.interpolate)?e.processor.interpolate:Rc,y=se(e.processor)&&z(e.processor.type)?e.processor.type:Pc,w={list:l,named:c,plural:s,linked:(m,...k)=>{const[E,S]=k;let N="text",L="";k.length===1?pe(E)?(L=E.modifier||L,N=E.type||N):z(E)&&(L=E||L):k.length===2&&(z(E)&&(L=E||L),z(S)&&(N=S||N));const D=u(m,!0)(w),x=N==="vnode"&&Ie(D)&&L?D[0]:D;return L?p(L)(x,N):x},message:u,type:y,interpolate:d,normalize:h,values:Oe(_e(),a,i)};return w}const Es=()=>"",nt=e=>Se(e);function Cs(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:o,messageCompiler:s,fallbackLocale:a,messages:l}=e,[i,c]=cr(...t),u=ue(c.missingWarn)?c.missingWarn:e.missingWarn,p=ue(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,h=ue(c.escapeParameter)?c.escapeParameter:e.escapeParameter,d=!!c.resolvedMessage,y=z(c.default)||ue(c.default)?ue(c.default)?s?i:()=>i:c.default:n?s?i:()=>i:null,v=n||y!=null&&(z(y)||Se(y)),w=Pr(e,c);h&&Wc(c);let[m,k,E]=d?[i,w,l[w]||_e()]:Va(e,i,w,a,p,u),S=m,N=i;if(!d&&!(z(S)||bt(S)||nt(S))&&v&&(S=y,N=S),!d&&(!(z(S)||bt(S)||nt(S))||!z(k)))return o?No:i;let L=!1;const D=()=>{L=!0},x=nt(S)?S:za(e,i,k,S,N,D);if(L)return S;const T=jc(e,k,E,c),W=Bc(T),Q=Uc(e,x,W);let I=r?r(Q,i):Q;if(h&&z(I)&&(I=yi(I)),__INTLIFY_PROD_DEVTOOLS__){const R={timestamp:Date.now(),key:z(i)?i:nt(S)?S.key:"",locale:k||(nt(S)?S.locale:""),format:z(S)?S:nt(S)?S.source:"",message:I};R.meta=Oe({},e.__meta,Ic()||{}),lc(R)}return I}function Wc(e){Ie(e.list)?e.list=e.list.map(t=>z(t)?ls(t):t):pe(e.named)&&Object.keys(e.named).forEach(t=>{z(e.named[t])&&(e.named[t]=ls(e.named[t]))})}function Va(e,t,n,r,o,s){const{messages:a,onWarn:l,messageResolver:i,localeFallbacker:c}=e,u=c(e,r,n);let p=_e(),h,d=null;const y="translate";for(let v=0;v<u.length&&(h=u[v],p=a[h]||_e(),(d=i(p,t))===null&&(d=p[t]),!(z(d)||bt(d)||nt(d)));v++)if(!Nc(h,u)){const w=Or(e,t,h,s,y);w!==t&&(d=w)}return[d,h,p]}function za(e,t,n,r,o,s){const{messageCompiler:a,warnHtmlMessage:l}=e;if(nt(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||t,c}if(a==null){const c=(()=>r);return c.locale=n,c.key=t,c}const i=a(r,Hc(e,n,o,r,l,s));return i.locale=n,i.key=t,i.source=r,i}function Uc(e,t,n){return t(n)}function cr(...e){const[t,n,r]=e,o=_e();if(!z(t)&&!Pe(t)&&!nt(t)&&!bt(t))throw It(Ct.INVALID_ARGUMENT);const s=Pe(t)?String(t):(nt(t),t);return Pe(n)?o.plural=n:z(n)?o.default=n:se(n)&&!Ao(n)?o.named=n:Ie(n)&&(o.list=n),Pe(r)?o.plural=r:z(r)?o.default=r:se(r)&&Oe(o,r),[s,o]}function Hc(e,t,n,r,o,s){return{locale:t,key:n,warnHtmlMessage:o,onError:a=>{throw s&&s(a),a},onCacheKey:a=>mi(t,n,a)}}function jc(e,t,n,r){const{modifiers:o,pluralRules:s,messageResolver:a,fallbackLocale:l,fallbackWarn:i,missingWarn:c,fallbackContext:u}=e,h={locale:t,modifiers:o,pluralRules:s,messages:(d,y)=>{let v=a(n,d);if(v==null&&(u||y)){const[,,w]=Va(u||e,d,t,l,i,c);v=a(w,d)}if(z(v)||bt(v)){let w=!1;const k=za(e,d,t,v,d,()=>{w=!0});return w?Es:k}else return nt(v)?v:Es}};return e.processor&&(h.processor=e.processor),r.list&&(h.list=r.list),r.named&&(h.named=r.named),Pe(r.plural)&&(h.pluralIndex=r.plural),h}qi();/*!
  * vue-i18n v11.2.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Gc="11.2.2";function Vc(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Vt().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Vt().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Vt().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vt().__INTLIFY_PROD_DEVTOOLS__=!1)}const Ve={UNEXPECTED_RETURN_TYPE:cc,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Je(e,...t){return Do(e,null,void 0)}const ur=Ot("__translateVNode"),dr=Ot("__datetimeParts"),fr=Ot("__numberParts"),Ya=Ot("__setPluralRules"),qa=Ot("__injectWithOption"),pr=Ot("__dispose");function Rn(e){if(!pe(e)||bt(e))return e;for(const t in e)if(ft(e,t))if(!t.includes("."))pe(e[t])&&Rn(e[t]);else{const n=t.split("."),r=n.length-1;let o=e,s=!1;for(let a=0;a<r;a++){if(n[a]==="__proto__")throw new Error(`unsafe key: ${n[a]}`);if(n[a]in o||(o[n[a]]=_e()),!pe(o[n[a]])){s=!0;break}o=o[n[a]]}if(s||(bt(o)?Ra.includes(n[r])||delete e[t]:(o[n[r]]=e[t],delete e[t])),!bt(o)){const a=o[n[r]];pe(a)&&Rn(a)}}return e}function Rr(e,t){const{messages:n,__i18n:r,messageResolver:o,flatJson:s}=t,a=se(n)?n:Ie(r)?_e():{[e]:_e()};if(Ie(r)&&r.forEach(l=>{if("locale"in l&&"resource"in l){const{locale:i,resource:c}=l;i?(a[i]=a[i]||_e(),so(c,a[i])):so(c,a)}else z(l)&&so(JSON.parse(l),a)}),o==null&&s)for(const l in a)ft(a,l)&&Rn(a[l]);return a}function Xa(e){return e.type}function Ka(e,t,n){let r=pe(t.messages)?t.messages:_e();"__i18nGlobal"in n&&(r=Rr(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const o=Object.keys(r);o.length&&o.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(pe(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(a=>{e.mergeDateTimeFormat(a,t.datetimeFormats[a])})}if(pe(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(a=>{e.mergeNumberFormat(a,t.numberFormats[a])})}}}function Is(e){return B(Kl,null,e,0)}function Mn(){return Io()}const Ts="__INTLIFY_META__",As=()=>[],zc=()=>!1;let Ds=0;function Ns(e){return((t,n,r,o)=>e(n,r,Mn()||void 0,o))}const Yc=()=>{const e=Mn();let t=null;return e&&(t=Xa(e)[Ts])?{[Ts]:t}:null};function Mr(e={}){const{__root:t,__injectWithOption:n}=e,r=t===void 0,o=e.flatJson,s=mo?H:ql;let a=ue(e.inheritLocale)?e.inheritLocale:!0;const l=s(t&&a?t.locale.value:z(e.locale)?e.locale:On),i=s(t&&a?t.fallbackLocale.value:z(e.fallbackLocale)||Ie(e.fallbackLocale)||se(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:l.value),c=s(Rr(l.value,e)),u=s(se(e.datetimeFormats)?e.datetimeFormats:{[l.value]:{}}),p=s(se(e.numberFormats)?e.numberFormats:{[l.value]:{}});let h=t?t.missingWarn:ue(e.missingWarn)||an(e.missingWarn)?e.missingWarn:!0,d=t?t.fallbackWarn:ue(e.fallbackWarn)||an(e.fallbackWarn)?e.fallbackWarn:!0,y=t?t.fallbackRoot:ue(e.fallbackRoot)?e.fallbackRoot:!0,v=!!e.fallbackFormat,w=Se(e.missing)?e.missing:null,m=Se(e.missing)?Ns(e.missing):null,k=Se(e.postTranslation)?e.postTranslation:null,E=t?t.warnHtmlMessage:ue(e.warnHtmlMessage)?e.warnHtmlMessage:!0,S=!!e.escapeParameter;const N=t?t.modifiers:se(e.modifiers)?e.modifiers:{};let L=e.pluralRules||t&&t.pluralRules,D;D=(()=>{r&&bs(null);const A={version:Gc,locale:l.value,fallbackLocale:i.value,messages:c.value,modifiers:N,pluralRules:L,missing:m===null?void 0:m,missingWarn:h,fallbackWarn:d,fallbackFormat:v,unresolving:!0,postTranslation:k===null?void 0:k,warnHtmlMessage:E,escapeParameter:S,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};A.datetimeFormats=u.value,A.numberFormats=p.value,A.__datetimeFormatters=se(D)?D.__datetimeFormatters:void 0,A.__numberFormatters=se(D)?D.__numberFormatters:void 0;const F=Ac(A);return r&&bs(F),F})(),mn(D,l.value,i.value);function T(){return[l.value,i.value,c.value,u.value,p.value]}const W=ne({get:()=>l.value,set:A=>{D.locale=A,l.value=A}}),Q=ne({get:()=>i.value,set:A=>{D.fallbackLocale=A,i.value=A,mn(D,l.value,A)}}),I=ne(()=>c.value),R=ne(()=>u.value),M=ne(()=>p.value);function j(){return Se(k)?k:null}function re(A){k=A,D.postTranslation=A}function Ne(){return w}function kt(A){A!==null&&(m=Ns(A)),w=A,D.missing=m}const je=(A,F,we,Ae,Ut,Vn)=>{T();let Qt;try{__INTLIFY_PROD_DEVTOOLS__,r||(D.fallbackContext=t?Tc():void 0),Qt=A(D)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(D.fallbackContext=void 0)}if(we!=="translate exists"&&Pe(Qt)&&Qt===No||we==="translate exists"&&!Qt){const[Gl,mb]=F();return t&&y?Ae(t):Ut(Gl)}else{if(Vn(Qt))return Qt;throw Je(Ve.UNEXPECTED_RETURN_TYPE)}};function St(...A){return je(F=>Reflect.apply(Cs,null,[F,...A]),()=>cr(...A),"translate",F=>Reflect.apply(F.t,F,[...A]),F=>F,F=>z(F))}function Ft(...A){const[F,we,Ae]=A;if(Ae&&!pe(Ae))throw Je(Ve.INVALID_ARGUMENT);return St(F,we,Oe({resolvedMessage:!0},Ae||{}))}function pt(...A){return je(F=>Reflect.apply(ys,null,[F,...A]),()=>lr(...A),"datetime format",F=>Reflect.apply(F.d,F,[...A]),()=>ms,F=>z(F)||Ie(F))}function qt(...A){return je(F=>Reflect.apply(ks,null,[F,...A]),()=>ir(...A),"number format",F=>Reflect.apply(F.n,F,[...A]),()=>ms,F=>z(F)||Ie(F))}function fn(A){return A.map(F=>z(F)||Pe(F)||ue(F)?Is(String(F)):F)}const Xt={normalize:fn,interpolate:A=>A,type:"vnode"};function pn(...A){return je(F=>{let we;const Ae=F;try{Ae.processor=Xt,we=Reflect.apply(Cs,null,[Ae,...A])}finally{Ae.processor=null}return we},()=>cr(...A),"translate",F=>F[ur](...A),F=>[Is(F)],F=>Ie(F))}function Bt(...A){return je(F=>Reflect.apply(ks,null,[F,...A]),()=>ir(...A),"number format",F=>F[fr](...A),As,F=>z(F)||Ie(F))}function Kt(...A){return je(F=>Reflect.apply(ys,null,[F,...A]),()=>lr(...A),"datetime format",F=>F[dr](...A),As,F=>z(F)||Ie(F))}function Wt(A){L=A,D.pluralRules=L}function hn(A,F){return je(()=>{if(!A)return!1;const we=z(F)?F:l.value,Ae=ye(we),Ut=D.messageResolver(Ae,A);return bt(Ut)||nt(Ut)||z(Ut)},()=>[A],"translate exists",we=>Reflect.apply(we.te,we,[A,F]),zc,we=>ue(we))}function Z(A){let F=null;const we=Ma(D,i.value,l.value);for(let Ae=0;Ae<we.length;Ae++){const Ut=c.value[we[Ae]]||{},Vn=D.messageResolver(Ut,A);if(Vn!=null){F=Vn;break}}return F}function G(A){const F=Z(A);return F??(t?t.tm(A)||{}:{})}function ye(A){return c.value[A]||{}}function et(A,F){if(o){const we={[A]:F};for(const Ae in we)ft(we,Ae)&&Rn(we[Ae]);F=we[A]}c.value[A]=F,D.messages=c.value}function at(A,F){c.value[A]=c.value[A]||{};const we={[A]:F};if(o)for(const Ae in we)ft(we,Ae)&&Rn(we[Ae]);F=we[A],so(F,c.value[A]),D.messages=c.value}function K(A){return u.value[A]||{}}function b(A,F){u.value[A]=F,D.datetimeFormats=u.value,ws(D,A,F)}function _(A,F){u.value[A]=Oe(u.value[A]||{},F),D.datetimeFormats=u.value,ws(D,A,F)}function O(A){return p.value[A]||{}}function X(A,F){p.value[A]=F,D.numberFormats=p.value,Ss(D,A,F)}function ge(A,F){p.value[A]=Oe(p.value[A]||{},F),D.numberFormats=p.value,Ss(D,A,F)}Ds++,t&&mo&&(Qe(t.locale,A=>{a&&(l.value=A,D.locale=A,mn(D,l.value,i.value))}),Qe(t.fallbackLocale,A=>{a&&(i.value=A,D.fallbackLocale=A,mn(D,l.value,i.value))}));const q={id:Ds,locale:W,fallbackLocale:Q,get inheritLocale(){return a},set inheritLocale(A){a=A,A&&t&&(l.value=t.locale.value,i.value=t.fallbackLocale.value,mn(D,l.value,i.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:I,get modifiers(){return N},get pluralRules(){return L||{}},get isGlobal(){return r},get missingWarn(){return h},set missingWarn(A){h=A,D.missingWarn=h},get fallbackWarn(){return d},set fallbackWarn(A){d=A,D.fallbackWarn=d},get fallbackRoot(){return y},set fallbackRoot(A){y=A},get fallbackFormat(){return v},set fallbackFormat(A){v=A,D.fallbackFormat=v},get warnHtmlMessage(){return E},set warnHtmlMessage(A){E=A,D.warnHtmlMessage=A},get escapeParameter(){return S},set escapeParameter(A){S=A,D.escapeParameter=A},t:St,getLocaleMessage:ye,setLocaleMessage:et,mergeLocaleMessage:at,getPostTranslationHandler:j,setPostTranslationHandler:re,getMissingHandler:Ne,setMissingHandler:kt,[Ya]:Wt};return q.datetimeFormats=R,q.numberFormats=M,q.rt=Ft,q.te=hn,q.tm=G,q.d=pt,q.n=qt,q.getDateTimeFormat=K,q.setDateTimeFormat=b,q.mergeDateTimeFormat=_,q.getNumberFormat=O,q.setNumberFormat=X,q.mergeNumberFormat=ge,q[qa]=n,q[ur]=pn,q[dr]=Kt,q[fr]=Bt,q}function qc(e){const t=z(e.locale)?e.locale:On,n=z(e.fallbackLocale)||Ie(e.fallbackLocale)||se(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=Se(e.missing)?e.missing:void 0,o=ue(e.silentTranslationWarn)||an(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=ue(e.silentFallbackWarn)||an(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,a=ue(e.fallbackRoot)?e.fallbackRoot:!0,l=!!e.formatFallbackMessages,i=se(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=Se(e.postTranslation)?e.postTranslation:void 0,p=z(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,h=!!e.escapeParameterHtml,d=ue(e.sync)?e.sync:!0;let y=e.messages;if(se(e.sharedMessages)){const N=e.sharedMessages;y=Object.keys(N).reduce((D,x)=>{const T=D[x]||(D[x]={});return Oe(T,N[x]),D},y||{})}const{__i18n:v,__root:w,__injectWithOption:m}=e,k=e.datetimeFormats,E=e.numberFormats,S=e.flatJson;return{locale:t,fallbackLocale:n,messages:y,flatJson:S,datetimeFormats:k,numberFormats:E,missing:r,missingWarn:o,fallbackWarn:s,fallbackRoot:a,fallbackFormat:l,modifiers:i,pluralRules:c,postTranslation:u,warnHtmlMessage:p,escapeParameter:h,messageResolver:e.messageResolver,inheritLocale:d,__i18n:v,__root:w,__injectWithOption:m}}function hr(e={}){const t=Mr(qc(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(o){t.locale.value=o},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(o){t.fallbackLocale.value=o},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(o){t.setMissingHandler(o)},get silentTranslationWarn(){return ue(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(o){t.missingWarn=ue(o)?!o:o},get silentFallbackWarn(){return ue(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(o){t.fallbackWarn=ue(o)?!o:o},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(o){t.fallbackFormat=o},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(o){t.setPostTranslationHandler(o)},get sync(){return t.inheritLocale},set sync(o){t.inheritLocale=o},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){t.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(o){t.escapeParameter=o},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...o){return Reflect.apply(t.t,t,[...o])},rt(...o){return Reflect.apply(t.rt,t,[...o])},te(o,s){return t.te(o,s)},tm(o){return t.tm(o)},getLocaleMessage(o){return t.getLocaleMessage(o)},setLocaleMessage(o,s){t.setLocaleMessage(o,s)},mergeLocaleMessage(o,s){t.mergeLocaleMessage(o,s)},d(...o){return Reflect.apply(t.d,t,[...o])},getDateTimeFormat(o){return t.getDateTimeFormat(o)},setDateTimeFormat(o,s){t.setDateTimeFormat(o,s)},mergeDateTimeFormat(o,s){t.mergeDateTimeFormat(o,s)},n(...o){return Reflect.apply(t.n,t,[...o])},getNumberFormat(o){return t.getNumberFormat(o)},setNumberFormat(o,s){t.setNumberFormat(o,s)},mergeNumberFormat(o,s){t.mergeNumberFormat(o,s)}};return r.__extender=n,r}function Xc(e,t,n){return{beforeCreate(){const r=Mn();if(!r)throw Je(Ve.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const s=o.i18n;if(o.__i18n&&(s.__i18n=o.__i18n),s.__root=t,this===this.$root)this.$i18n=Ls(e,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=hr(s);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=Ls(e,o);else{this.$i18n=hr({__i18n:o.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;o.__i18nGlobal&&Ka(t,o,o),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$te=(s,a)=>this.$i18n.te(s,a),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Mn();if(!r)throw Je(Ve.UNEXPECTED_ERROR);const o=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__disposer&&(o.__disposer(),delete o.__disposer,delete o.__extender),n.__deleteInstance(r),delete this.$i18n}}}function Ls(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Ya](t.pluralizationRules||e.pluralizationRules);const n=Rr(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const Fr={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Kc({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,o)=>[...r,...o.type===be?o.children:[o]],[]):t.reduce((n,r)=>{const o=e[r];return o&&(n[r]=o()),n},_e())}function Qa(){return be}const Qc=Te({name:"i18n-t",props:Oe({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Pe(e)||!isNaN(e)}},Fr),setup(e,t){const{slots:n,attrs:r}=t,o=e.i18n||He({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(p=>p[0]!=="_"),a=_e();e.locale&&(a.locale=e.locale),e.plural!==void 0&&(a.plural=z(e.plural)?+e.plural:e.plural);const l=Kc(t,s),i=o[ur](e.keypath,l,a),c=Oe(_e(),r),u=z(e.tag)||pe(e.tag)?e.tag:Qa();return Ln(u,c,i)}}}),$s=Qc;function Jc(e){return Ie(e)&&!z(e[0])}function Ja(e,t,n,r){const{slots:o,attrs:s}=t;return()=>{const a={part:!0};let l=_e();e.locale&&(a.locale=e.locale),z(e.format)?a.key=e.format:pe(e.format)&&(z(e.format.key)&&(a.key=e.format.key),l=Object.keys(e.format).reduce((h,d)=>n.includes(d)?Oe(_e(),h,{[d]:e.format[d]}):h,_e()));const i=r(e.value,a,l);let c=[a.key];Ie(i)?c=i.map((h,d)=>{const y=o[h.type],v=y?y({[h.type]:h.value,index:d,parts:i}):[h.value];return Jc(v)&&(v[0].key=`${h.type}-${d}`),v}):z(i)&&(c=[i]);const u=Oe(_e(),s),p=z(e.tag)||pe(e.tag)?e.tag:Qa();return Ln(p,u,c)}}const Zc=Te({name:"i18n-n",props:Oe({value:{type:Number,required:!0},format:{type:[String,Object]}},Fr),setup(e,t){const n=e.i18n||He({useScope:e.scope,__useComponent:!0});return Ja(e,t,Ga,(...r)=>n[fr](...r))}}),Ps=Zc;function eu(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function tu(e){const t=a=>{const{instance:l,value:i}=a;if(!l||!l.$)throw Je(Ve.UNEXPECTED_ERROR);const c=eu(e,l.$),u=Os(i);return[Reflect.apply(c.t,c,[...Rs(u)]),c]};return{created:(a,l)=>{const[i,c]=t(l);mo&&e.global===c&&(a.__i18nWatcher=Qe(c.locale,()=>{l.instance&&l.instance.$forceUpdate()})),a.__composer=c,a.textContent=i},unmounted:a=>{mo&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:l})=>{if(a.__composer){const i=a.__composer,c=Os(l);a.textContent=Reflect.apply(i.t,i,[...Rs(c)])}},getSSRProps:a=>{const[l]=t(a);return{textContent:l}}}}function Os(e){if(z(e))return{path:e};if(se(e)){if(!("path"in e))throw Je(Ve.REQUIRED_VALUE,"path");return e}else throw Je(Ve.INVALID_VALUE)}function Rs(e){const{path:t,locale:n,args:r,choice:o,plural:s}=e,a={},l=r||{};return z(n)&&(a.locale=n),Pe(o)&&(a.plural=o),Pe(s)&&(a.plural=s),[t,l,a]}function nu(e,t,...n){const r=se(n[0])?n[0]:{};(ue(r.globalInstall)?r.globalInstall:!0)&&([$s.name,"I18nT"].forEach(s=>e.component(s,$s)),[Ps.name,"I18nN"].forEach(s=>e.component(s,Ps)),[Fs.name,"I18nD"].forEach(s=>e.component(s,Fs))),e.directive("t",tu(t))}const ou=Ot("global-vue-i18n");function ru(e={}){const t=__VUE_I18N_LEGACY_API__&&ue(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=ue(e.globalInjection)?e.globalInjection:!0,r=new Map,[o,s]=su(e,t),a=Ot("");function l(p){return r.get(p)||null}function i(p,h){r.set(p,h)}function c(p){r.delete(p)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(p,...h){if(p.__VUE_I18N_SYMBOL__=a,p.provide(p.__VUE_I18N_SYMBOL__,u),se(h[0])){const v=h[0];u.__composerExtend=v.__composerExtend,u.__vueI18nExtend=v.__vueI18nExtend}let d=null;!t&&n&&(d=pu(p,u.global)),__VUE_I18N_FULL_INSTALL__&&nu(p,u,...h),__VUE_I18N_LEGACY_API__&&t&&p.mixin(Xc(s,s.__composer,u));const y=p.unmount;p.unmount=()=>{d&&d(),u.dispose(),y()}},get global(){return s},dispose(){o.stop()},__instances:r,__getInstance:l,__setInstance:i,__deleteInstance:c};return u}function He(e={}){const t=Mn();if(t==null)throw Je(Ve.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Je(Ve.NOT_INSTALLED);const n=au(t),r=iu(n),o=Xa(t),s=lu(e,o);if(s==="global")return Ka(r,e,o),r;if(s==="parent"){let i=cu(n,t,e.__useComponent);return i==null&&(i=r),i}const a=n;let l=a.__getInstance(t);if(l==null){const i=Oe({},e);"__i18n"in o&&(i.__i18n=o.__i18n),r&&(i.__root=r),l=Mr(i),a.__composerExtend&&(l[pr]=a.__composerExtend(l)),du(a,t,l),a.__setInstance(t,l)}return l}function su(e,t){const n=Yl(),r=__VUE_I18N_LEGACY_API__&&t?n.run(()=>hr(e)):n.run(()=>Mr(e));if(r==null)throw Je(Ve.UNEXPECTED_ERROR);return[n,r]}function au(e){const t=Xl(e.isCE?ou:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Je(e.isCE?Ve.NOT_INSTALLED_WITH_PROVIDE:Ve.UNEXPECTED_ERROR);return t}function lu(e,t){return Ao(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function iu(e){return e.mode==="composition"?e.global:e.global.__composer}function cu(e,t,n=!1){let r=null;const o=t.root;let s=uu(t,n);for(;s!=null;){const a=e;if(e.mode==="composition")r=a.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const l=a.__getInstance(s);l!=null&&(r=l.__composer,n&&r&&!r[qa]&&(r=null))}if(r!=null||o===s)break;s=s.parent}return r}function uu(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function du(e,t,n){Ze(()=>{},t),Dt(()=>{const r=n;e.__deleteInstance(t);const o=r[pr];o&&(o(),delete r[pr])},t)}const fu=["locale","fallbackLocale","availableLocales"],Ms=["t","rt","d","n","tm","te"];function pu(e,t){const n=Object.create(null);return fu.forEach(o=>{const s=Object.getOwnPropertyDescriptor(t,o);if(!s)throw Je(Ve.UNEXPECTED_ERROR);const a=no(s.value)?{get(){return s.value.value},set(l){s.value.value=l}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,o,a)}),e.config.globalProperties.$i18n=n,Ms.forEach(o=>{const s=Object.getOwnPropertyDescriptor(t,o);if(!s||!s.value)throw Je(Ve.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${o}`,s)}),()=>{delete e.config.globalProperties.$i18n,Ms.forEach(o=>{delete e.config.globalProperties[`$${o}`]})}}const hu=Te({name:"i18n-d",props:Oe({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Fr),setup(e,t){const n=e.i18n||He({useScope:e.scope,__useComponent:!0});return Ja(e,t,ja,(...r)=>n[dr](...r))}}),Fs=hu;Vc();Sc(rc);xc(yc);Ec(Ma);if(__INTLIFY_PROD_DEVTOOLS__){const e=Vt();e.__INTLIFY__=!0,sc(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const gu={common:{save:"保存",cancel:"取消",delete:"删除",edit:"编辑",add:"添加",reset:"重置",confirm:"确定",close:"关闭",search:"搜索",loading:"加载中...",noData:"暂无数据"},search:{placeholder:"搜索",clearHistory:"清除历史记录"},greeting:{morning:"早上好",noon:"中午好",afternoon:"下午好",evening:"晚上好",night:"夜深了"},appGrid:{add:"添加",confirmDelete:'确定要删除 "{name}" 吗？'},editApp:{addApp:"添加应用",editApp:"编辑应用",name:"名称",namePlaceholder:"应用名称",url:"链接",urlPlaceholder:"https://example.com",icon:"图标",iconColor:"图标颜色",addToDock:"添加到 Dock 栏"},settingsMenu:{general:"常规设置",search:"搜索引擎偏好",wallpaper:"壁纸偏好",sync:"账号同步",helpFeedback:"帮助和反馈",about:"关于"},generalSettings:{title:"常规设置",searchPlaceholder:"搜索设置",color:"颜色",accentColor:"主题色",darkMode:"深色主题",darkModeSystem:"跟随系统",darkModeOn:"开启",darkModeOff:"关闭",wallpaperVignette:"为壁纸应用暗角滤镜",general:"通用",language:"语言",poetry:"「一言」",poetryDesc:"聚焦到搜索栏时，在其下方空白处随机显示一句格言或诗词。",showFullNote:"完整显示固定到主屏幕的便笺内容",time:"时间",use24Hour:"24 小时制",showSeconds:"显示秒钟",blinkSeparator:"闪烁时间分隔符",timeFont:"时间字体",fontNormal:"常规",fontMedium:"中等",fontSemibold:"半粗",fontBold:"粗体",initialization:"初始化",autoFocusSearch:"小鱼起始页加载时自动聚焦到搜索栏",autoShowAppGrid:"小鱼起始页加载时自动显示二级界面",showGreeting:"登录后显示问候",username:"用户名",usernamePlaceholder:"设置你的用户名",extensionControlled:"由扩展控制",extensionHint:"请前往小鱼起始页扩展的设置中更改此选项。",hint:"提示",ok:"好的",performance:"视效和性能",smoothMode:"流畅模式",smoothModeDesc:"调整或关闭大部分视觉特效以提升性能。",reduceMotion:"减弱动态效果",reduceMotionDesc:"动效显示不流畅或影响您的鼠标操作时，可以开启此项。",searchBoxAnimation:"为搜索栏应用伸缩动效",overlayBlur:"为遮罩层应用毛玻璃效果",overlayBlurDesc:"关闭此项可提升性能。",shortcutBlur:"为捷径应用毛玻璃效果",shortcutBlurDesc:"关闭此项可提升性能。",wallpaperResolution:"每日壁纸分辨率",resolution1080p:"1080P",resolutionOriginal:"原图",searchSection:"搜索",autoClearSearchBar:"自动清空搜索栏",searchHistory:"搜索历史记录",tabSwitchBehavior:"在搜索栏按 Tab / Shift + Tab 键时，切换到",tabSwitchEngine:"列表中的下一个 / 上一个搜索引擎",tabSwitchSuggestion:"搜索建议",tabSwitchRecent:"最近使用的上一个搜索引擎",tabSwitchControl:"界面中的下一个 / 上一个控件",navigation:"导航",showShortcutDock:"捷径坞",openInNewTab:"在新页面打开搜索结果和网站捷径",showMoreShortcuts:"在每行显示更多捷径",showMoreShortcutsDesc:"仅在您设备屏幕的逻辑分辨率宽度 ≥ 1280 像素时生效。",resetShortcuts:"重置预设捷径",resetShortcutsDesc:"将预设捷径还原为初始状态。",resetShortcutsTitle:"重置预设捷径",resetShortcutsConfirm:"确定要将捷径重置为初始状态吗？此操作将清除所有自定义捷径。",noResults:"没有找到匹配的设置"},searchSettings:{title:"搜索引擎偏好",selectDefault:"选择默认搜索引擎",addCustom:"自定义搜索引擎",addCustomTitle:"添加自定义搜索引擎",editCustomTitle:"编辑自定义搜索引擎",name:"名称",namePlaceholder:"例如：Google",url:"URL",urlPlaceholder:"https://www.google.com/search?q=%s",urlHint:"以 https:// 开头，用 %s 代替搜索词",icon:"图标",iconHint:"Iconify 图标名称，例如：ri:google-fill",fillRequired:"请填写名称和 URL",urlInvalid:"URL 必须以 https:// 或 http:// 开头",urlMissingPlaceholder:"URL 中必须包含 %s 作为搜索词占位符",confirmDelete:'确定要删除"{name}"吗？'},wallpaperSettings:{title:"壁纸偏好",custom:"自定义",customTitle:"将您喜爱的图片或视频设为壁纸。",customDesc:"支持选择多张本地图片，起始页每次加载时随机显示一张。",localImage:"本地图片 / 视频",onlineImage:"在线图片链接",aiGenerate:"AI 作图",aiGenerateHint:"AI 作图功能即将推出，敬请期待！",today:"今日",downloadOriginal:"下载原图",imageSource:"图片来源：必应",dynamic:"动态",default:"默认",onlineImageTitle:"在线图片链接"},syncSettings:{title:"账号同步",enable:"启用账号同步",enableDesc:"启用后，你的设置、应用和壁纸将自动同步到你的浏览器账号",syncing:"正在同步数据...",chromeEdge:"Chrome/Edge：",chromeEdgeDesc:"自动同步到你的 Google 或 Microsoft 账号",firefox:"Firefox：",firefoxDesc:"自动同步到你的 Firefox 账号",note:"注意：",noteDesc:"需要登录浏览器账号并启用同步功能",limits:"同步限制",limitStorage:"同步存储限制：约 100KB",limitItem:"单个项目限制：约 8KB",limitExceed:"超出限制将自动切换回本地存储"},about:{title:"关于",appName:"小鱼起始页",version:"版本",description:"一个简洁、美观、可定制的浏览器起始页。",github:"GitHub",website:"官网",feedback:"反馈",builtWith:"使用 Vue 3 + TypeScript + TailwindCSS 构建"},notes:{title:"便笺",newNote:"新便笺",noNotes:"暂无便笺",selectOrCreate:"选择或创建一个便笺",placeholder:"在此键入以创建新的便笺",wordCount:"{count} 个字",saved:"已保存",saving:"保存中...",fullscreen:"全屏",pin:"固定到主屏幕",unpin:"取消固定",preview:"Markdown 预览",splitView:"分屏预览",maxPinned:"最多只能固定 {count} 个便笺"},dock:{apps:"应用"}},mu={common:{save:"儲存",cancel:"取消",delete:"刪除",edit:"編輯",add:"新增",reset:"重設",confirm:"確定",close:"關閉",search:"搜尋",loading:"載入中...",noData:"暫無資料"},search:{placeholder:"搜尋",clearHistory:"清除歷史記錄"},greeting:{morning:"早安",noon:"午安",afternoon:"下午好",evening:"晚上好",night:"夜深了"},appGrid:{add:"新增",confirmDelete:"確定要刪除「{name}」嗎？"},editApp:{addApp:"新增應用",editApp:"編輯應用",name:"名稱",namePlaceholder:"應用名稱",url:"連結",urlPlaceholder:"https://example.com",icon:"圖示",iconColor:"圖示顏色",addToDock:"新增到 Dock 列"},settingsMenu:{general:"一般設定",search:"搜尋引擎偏好",wallpaper:"桌布偏好",sync:"帳號同步",helpFeedback:"說明與回饋",about:"關於"},generalSettings:{title:"一般設定",searchPlaceholder:"搜尋設定",color:"顏色",accentColor:"主題色",darkMode:"深色主題",darkModeSystem:"跟隨系統",darkModeOn:"開啟",darkModeOff:"關閉",wallpaperVignette:"為桌布套用暗角濾鏡",general:"通用",language:"語言",poetry:"「一言」",poetryDesc:"聚焦到搜尋列時，在其下方空白處隨機顯示一句格言或詩詞。",showFullNote:"完整顯示固定到主螢幕的便箋內容",time:"時間",use24Hour:"24 小時制",showSeconds:"顯示秒數",blinkSeparator:"閃爍時間分隔符",timeFont:"時間字型",fontNormal:"常規",fontMedium:"中等",fontSemibold:"半粗",fontBold:"粗體",initialization:"初始化",autoFocusSearch:"小魚起始頁載入時自動聚焦到搜尋列",autoShowAppGrid:"小魚起始頁載入時自動顯示二級介面",showGreeting:"登入後顯示問候",username:"使用者名稱",usernamePlaceholder:"設定你的使用者名稱",extensionControlled:"由擴充功能控制",extensionHint:"請前往小魚起始頁擴充功能的設定中更改此選項。",hint:"提示",ok:"好的",performance:"視效和效能",smoothMode:"流暢模式",smoothModeDesc:"調整或關閉大部分視覺特效以提升效能。",reduceMotion:"減弱動態效果",reduceMotionDesc:"動效顯示不流暢或影響您的滑鼠操作時，可以開啟此項。",searchBoxAnimation:"為搜尋列套用伸縮動效",overlayBlur:"為遮罩層套用毛玻璃效果",overlayBlurDesc:"關閉此項可提升效能。",shortcutBlur:"為捷徑套用毛玻璃效果",shortcutBlurDesc:"關閉此項可提升效能。",wallpaperResolution:"每日桌布解析度",resolution1080p:"1080P",resolutionOriginal:"原圖",searchSection:"搜尋",autoClearSearchBar:"自動清空搜尋列",searchHistory:"搜尋歷史記錄",tabSwitchBehavior:"在搜尋列按 Tab / Shift + Tab 鍵時，切換到",tabSwitchEngine:"清單中的下一個 / 上一個搜尋引擎",tabSwitchSuggestion:"搜尋建議",tabSwitchRecent:"最近使用的上一個搜尋引擎",tabSwitchControl:"介面中的下一個 / 上一個控制項",navigation:"導航",showShortcutDock:"捷徑塢",openInNewTab:"在新頁面開啟搜尋結果和網站捷徑",showMoreShortcuts:"在每行顯示更多捷徑",showMoreShortcutsDesc:"僅在您裝置螢幕的邏輯解析度寬度 ≥ 1280 像素時生效。",resetShortcuts:"重設預設捷徑",resetShortcutsDesc:"將預設捷徑還原為初始狀態。",resetShortcutsTitle:"重設預設捷徑",resetShortcutsConfirm:"確定要將捷徑重設為初始狀態嗎？此操作將清除所有自訂捷徑。",noResults:"沒有找到匹配的設定"},searchSettings:{title:"搜尋引擎偏好",selectDefault:"選擇預設搜尋引擎",addCustom:"自訂搜尋引擎",addCustomTitle:"新增自訂搜尋引擎",editCustomTitle:"編輯自訂搜尋引擎",name:"名稱",namePlaceholder:"例如：Google",url:"URL",urlPlaceholder:"https://www.google.com/search?q=%s",urlHint:"以 https:// 開頭，用 %s 代替搜尋詞",icon:"圖示",iconHint:"Iconify 圖示名稱，例如：ri:google-fill",fillRequired:"請填寫名稱和 URL",urlInvalid:"URL 必須以 https:// 或 http:// 開頭",urlMissingPlaceholder:"URL 中必須包含 %s 作為搜尋詞佔位符",confirmDelete:"確定要刪除「{name}」嗎？"},wallpaperSettings:{title:"桌布偏好",custom:"自訂",customTitle:"將您喜愛的圖片或影片設為桌布。",customDesc:"支援選擇多張本機圖片，起始頁每次載入時隨機顯示一張。",localImage:"本機圖片 / 影片",onlineImage:"線上圖片連結",aiGenerate:"AI 作圖",aiGenerateHint:"AI 作圖功能即將推出，敬請期待！",today:"今日",downloadOriginal:"下載原圖",imageSource:"圖片來源：必應",dynamic:"動態",default:"預設",onlineImageTitle:"線上圖片連結"},syncSettings:{title:"帳號同步",enable:"啟用帳號同步",enableDesc:"啟用後，你的設定、應用和桌布將自動同步到你的瀏覽器帳號",syncing:"正在同步資料...",chromeEdge:"Chrome/Edge：",chromeEdgeDesc:"自動同步到你的 Google 或 Microsoft 帳號",firefox:"Firefox：",firefoxDesc:"自動同步到你的 Firefox 帳號",note:"注意：",noteDesc:"需要登入瀏覽器帳號並啟用同步功能",limits:"同步限制",limitStorage:"同步儲存限制：約 100KB",limitItem:"單個項目限制：約 8KB",limitExceed:"超出限制將自動切換回本機儲存"},about:{title:"關於",appName:"小魚起始頁",version:"版本",description:"一個簡潔、美觀、可自訂的瀏覽器起始頁。",github:"GitHub",website:"官網",feedback:"回饋",builtWith:"使用 Vue 3 + TypeScript + TailwindCSS 構建"},notes:{title:"便箋",newNote:"新便箋",noNotes:"暫無便箋",selectOrCreate:"選擇或建立一個便箋",placeholder:"在此鍵入以建立新的便箋",wordCount:"{count} 個字",saved:"已儲存",saving:"儲存中...",fullscreen:"全螢幕",pin:"固定到主螢幕",unpin:"取消固定",preview:"Markdown 預覽",splitView:"分割預覽",maxPinned:"最多只能固定 {count} 個便箋"},dock:{apps:"應用"}},vu={common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",reset:"Reset",confirm:"Confirm",close:"Close",search:"Search",loading:"Loading...",noData:"No data"},search:{placeholder:"Search",clearHistory:"Clear History"},greeting:{morning:"Good morning",noon:"Good noon",afternoon:"Good afternoon",evening:"Good evening",night:"Good night"},appGrid:{add:"Add",confirmDelete:'Are you sure you want to delete "{name}"?'},editApp:{addApp:"Add App",editApp:"Edit App",name:"Name",namePlaceholder:"App name",url:"URL",urlPlaceholder:"https://example.com",icon:"Icon",iconColor:"Icon Color",addToDock:"Add to Dock"},settingsMenu:{general:"General Settings",search:"Search Engine Preferences",wallpaper:"Wallpaper Preferences",sync:"Account Sync",helpFeedback:"Help & Feedback",about:"About"},generalSettings:{title:"General Settings",searchPlaceholder:"Search settings",color:"Color",accentColor:"Accent Color",darkMode:"Dark Mode",darkModeSystem:"System",darkModeOn:"On",darkModeOff:"Off",wallpaperVignette:"Apply vignette filter to wallpaper",general:"General",language:"Language",poetry:"Poetry",poetryDesc:"Display a random quote or poem below the search bar when focused.",showFullNote:"Show full content of pinned notes",time:"Time",use24Hour:"24-hour format",showSeconds:"Show seconds",blinkSeparator:"Blink time separator",timeFont:"Time font",fontNormal:"Normal",fontMedium:"Medium",fontSemibold:"Semibold",fontBold:"Bold",initialization:"Initialization",autoFocusSearch:"Auto focus search bar on load",autoShowAppGrid:"Auto show app grid on load",showGreeting:"Show greeting after login",username:"Username",usernamePlaceholder:"Set your username",extensionControlled:"Controlled by extension",extensionHint:"Please change this option in the extension settings.",hint:"Hint",ok:"OK",performance:"Visual Effects & Performance",smoothMode:"Smooth Mode",smoothModeDesc:"Adjust or disable most visual effects to improve performance.",reduceMotion:"Reduce Motion",reduceMotionDesc:"Enable this if animations are choppy or affect your mouse operations.",searchBoxAnimation:"Apply stretch animation to search bar",overlayBlur:"Apply blur effect to overlay",overlayBlurDesc:"Disable to improve performance.",shortcutBlur:"Apply blur effect to shortcuts",shortcutBlurDesc:"Disable to improve performance.",wallpaperResolution:"Daily wallpaper resolution",resolution1080p:"1080P",resolutionOriginal:"Original",searchSection:"Search",autoClearSearchBar:"Auto clear search bar",searchHistory:"Search history",tabSwitchBehavior:"When pressing Tab / Shift + Tab in search bar, switch to",tabSwitchEngine:"Next / previous search engine in list",tabSwitchSuggestion:"Search suggestions",tabSwitchRecent:"Last used search engine",tabSwitchControl:"Next / previous control in interface",navigation:"Navigation",showShortcutDock:"Shortcut Dock",openInNewTab:"Open search results and shortcuts in new tab",showMoreShortcuts:"Show more shortcuts per row",showMoreShortcutsDesc:"Only effective when screen width ≥ 1280 pixels.",resetShortcuts:"Reset Shortcuts",resetShortcutsDesc:"Restore shortcuts to initial state.",resetShortcutsTitle:"Reset Shortcuts",resetShortcutsConfirm:"Are you sure you want to reset shortcuts? This will clear all custom shortcuts.",noResults:"No matching settings found"},searchSettings:{title:"Search Engine Preferences",selectDefault:"Select default search engine",addCustom:"Custom Search Engine",addCustomTitle:"Add Custom Search Engine",editCustomTitle:"Edit Custom Search Engine",name:"Name",namePlaceholder:"e.g., Google",url:"URL",urlPlaceholder:"https://www.google.com/search?q=%s",urlHint:"Start with https://, use %s as search term placeholder",icon:"Icon",iconHint:"Iconify icon name, e.g., ri:google-fill",fillRequired:"Please fill in name and URL",urlInvalid:"URL must start with https:// or http://",urlMissingPlaceholder:"URL must contain %s as search term placeholder",confirmDelete:'Are you sure you want to delete "{name}"?'},wallpaperSettings:{title:"Wallpaper Preferences",custom:"Custom",customTitle:"Set your favorite image or video as wallpaper.",customDesc:"Support multiple local images, randomly display one each time the start page loads.",localImage:"Local Image / Video",onlineImage:"Online Image URL",aiGenerate:"AI Generate",aiGenerateHint:"AI generation feature coming soon!",today:"Today",downloadOriginal:"Download Original",imageSource:"Source: Bing",dynamic:"Dynamic",default:"Default",onlineImageTitle:"Online Image URL"},syncSettings:{title:"Account Sync",enable:"Enable Account Sync",enableDesc:"When enabled, your settings, apps, and wallpaper will sync to your browser account",syncing:"Syncing data...",chromeEdge:"Chrome/Edge:",chromeEdgeDesc:"Auto sync to your Google or Microsoft account",firefox:"Firefox:",firefoxDesc:"Auto sync to your Firefox account",note:"Note:",noteDesc:"Requires browser account login and sync enabled",limits:"Sync Limits",limitStorage:"Sync storage limit: ~100KB",limitItem:"Single item limit: ~8KB",limitExceed:"Will auto switch to local storage if exceeded"},about:{title:"About",appName:"Anheyu New Tab",version:"Version",description:"A clean, beautiful, and customizable browser start page.",github:"GitHub",website:"Website",feedback:"Feedback",builtWith:"Built with Vue 3 + TypeScript + TailwindCSS"},notes:{title:"Notes",newNote:"New Note",noNotes:"No notes yet",selectOrCreate:"Select or create a note",placeholder:"Type here to create a new note",wordCount:"{count} characters",saved:"Saved",saving:"Saving...",fullscreen:"Fullscreen",pin:"Pin to Home",unpin:"Unpin",preview:"Markdown Preview",splitView:"Split View",maxPinned:"Maximum {count} notes can be pinned"},dock:{apps:"Apps"}},Za=ru({legacy:!1,globalInjection:!0,locale:"zh-CN",fallbackLocale:"zh-CN",messages:{"zh-CN":gu,"zh-TW":mu,en:vu}});function bu(e){Za.global.locale.value=e}const st=Bn("settings",()=>{const e=H({theme:"system",accentColor:"blue",language:"zh-CN",showPoetry:!0,showFullNote:!1,searchEngine:"google",showSeconds:!1,use24Hour:!0,blinkSeparator:!0,timeFontWeight:"normal",blurIntensity:20,dockSize:"medium",autoFocusSearch:!0,autoShowAppGrid:!1,showGreeting:!0,username:"",smoothMode:!1,reduceMotion:!1,searchBoxAnimation:!1,overlayBlur:!0,shortcutBlur:!1,wallpaperResolution:"1080p",wallpaperVignette:!0,autoClearSearchBar:!0,searchHistory:!0,tabSwitchBehavior:"searchEngine",showShortcutDock:!0,openInNewTab:!0,showMoreShortcutsPerRow:!1}),t=H("light");let n=!1;async function r(){e.value=await go(),a(),o(),s()}function o(){bu(e.value.language)}function s(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{e.value.theme==="system"&&a()})}function a(){const u=e.value.theme;let p=!1;u==="system"?p=window.matchMedia("(prefers-color-scheme: dark)").matches:p=u==="dark",t.value=p?"dark":"light",p?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}async function l(u){if(!n){n=!0;try{e.value={...e.value,...u},await ci(e.value),"theme"in u&&a(),"language"in u&&o()}finally{n=!1}}}async function i(u){await l({theme:u})}async function c(){const u=t.value==="dark"?"light":"dark";await i(u)}return{settings:e,currentTheme:t,init:r,updateSettings:l,setTheme:i,toggleTheme:c}}),Lo=Bn("apps",()=>{const e=H([]),t=ne(()=>[...e.value].filter(d=>d.isInDock).sort((d,y)=>(d.dockOrder??d.order)-(y.dockOrder??y.order))),n=ne(()=>[...e.value].sort((d,y)=>d.order-y.order));async function r(){e.value=await ui()}async function o(d){const y={...d,id:Ca(),order:e.value.length};e.value.push(y),await mt(e.value)}async function s(d,y){const v=e.value.findIndex(w=>w.id===d);v!==-1&&(e.value[v]={...e.value[v],...y},await mt(e.value))}async function a(d){e.value=e.value.filter(y=>y.id!==d),await mt(e.value)}async function l(d){e.value=d.map((y,v)=>({...y,order:v})),await mt(e.value)}async function i(d){const y=e.value.find(v=>v.id===d);y&&(y.isInDock=!y.isInDock,await mt(e.value))}async function c(d){const y=e.value.find(v=>v.id===d);if(y&&!y.isInDock){y.isInDock=!0;const v=Math.max(...e.value.filter(w=>w.isInDock).map(w=>w.dockOrder??0),-1);y.dockOrder=v+1,await mt(e.value)}}async function u(d){const y=e.value.find(v=>v.id===d);y&&y.isInDock&&(y.isInDock=!1,await mt(e.value))}async function p(d){const y=new Map(e.value.map(v=>[v.id,v]));d.forEach((v,w)=>{const m=y.get(v.id);m&&m.isInDock&&(m.dockOrder=w)}),await mt(e.value)}async function h(){e.value=di(),await mt(e.value)}return{apps:e,dockApps:t,allApps:n,init:r,addApp:o,updateApp:s,deleteApp:a,reorderApps:l,toggleDock:i,moveToDock:c,removeFromDock:u,reorderDockApps:p,resetToDefault:h}}),_u=typeof chrome<"u"&&(chrome==null?void 0:chrome.runtime),Br=["/wallpaper/static/1.jpg","/wallpaper/static/2.jpg","/wallpaper/static/3.jpg","/wallpaper/static/4.jpg","/wallpaper/static/5.jpg","/wallpaper/static/6.jpg","/wallpaper/static/7.jpg","/wallpaper/static/8.jpg","/wallpaper/static/9.jpg","/wallpaper/static/10.jpg","/wallpaper/static/11.jpg","/wallpaper/static/12.jpg","/wallpaper/static/13.jpg","/wallpaper/static/14.jpg","/wallpaper/static/15.jpg"],gr=["/wallpaper/dynamic/Anime-Food-Compilation.mp4","/wallpaper/dynamic/anime-girl-lonely-night-city-desktop-wallpaperwaifu.com.mp4","/wallpaper/dynamic/Genshin-genshin-XiaoAether.mp4","/wallpaper/dynamic/kasumizawa-miyu-blue-archive.mp4","/wallpaper/dynamic/LiveWallpaperPC.com-Kaedehara-Kazuha.mp4","/wallpaper/dynamic/LiveWallpaperPC.com-Kamisato-Ayaka.mp4","/wallpaper/dynamic/LiveWallpaperPC.com-Warma.mp4","/wallpaper/dynamic/LiveWallpaperPC.com-Yukikaze.mp4","/wallpaper/dynamic/xue-hu-sang-virtual-youtuber-desktop-wallpaperwaifu.com.mp4"],mr=["/wallpaper/dynamic/Anime-Food-Compilation_thumb.jpg","/wallpaper/dynamic/anime-girl-lonely-night-city-desktop-wallpaperwaifu.com_thumb.jpg","/wallpaper/dynamic/Genshin-genshin-XiaoAether_thumb.jpg","/wallpaper/dynamic/kasumizawa-miyu-blue-archive_thumb.jpg","/wallpaper/dynamic/LiveWallpaperPC.com-Kaedehara-Kazuha_thumb.jpg","/wallpaper/dynamic/LiveWallpaperPC.com-Kamisato-Ayaka_thumb.jpg","/wallpaper/dynamic/LiveWallpaperPC.com-Warma_thumb.jpg","/wallpaper/dynamic/LiveWallpaperPC.com-Yukikaze_thumb.jpg","/wallpaper/dynamic/xue-hu-sang-virtual-youtuber-desktop-wallpaperwaifu.com_thumb.jpg"];function yu(e){return mr[e]||mr[0]}function vr(e){if(!e)return!1;if(e.startsWith("data:video/"))return!0;const t=[".mp4",".webm",".ogg",".mov",".avi",".mkv"],n=e.toLowerCase();return t.some(r=>n.includes(r))}const Xn=Br[0],el=Bn("wallpaper",()=>{const e=H({type:"default",url:null,localData:null,localImages:[],defaultIndex:0,dynamicIndex:0,blur:!0,blurAmount:30,brightness:100}),t=H(!1),n=H(null),r=H(0),o=ne(()=>{if(e.value.type==="dynamic")return!0;if(e.value.type==="local"){const x=e.value.localImages,T=Array.isArray(x)&&x.length>0?x[r.value]:e.value.localData;return vr(T)}return e.value.type==="url"?vr(e.value.url):!1}),s=ne(()=>{var T;const x=e.value.localImages;switch(e.value.type){case"local":return Array.isArray(x)&&x.length>0?x[r.value]:e.value.localData;case"url":return e.value.url;case"bing":return((T=n.value)==null?void 0:T.url)||Xn;case"dynamic":return gr[e.value.dynamicIndex]||gr[0];default:return Br[e.value.defaultIndex]||Xn}}),a=ne(()=>{const x=s.value;return x?{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center",filter:e.value.blur?`blur(${e.value.blurAmount}px)`:"none",opacity:e.value.brightness/100}:{}});async function l(){var T;const x=await rr();if(x.localImages||(x.localImages=[]),(x.defaultIndex===void 0||x.defaultIndex<0)&&(x.defaultIndex=0),(x.dynamicIndex===void 0||x.dynamicIndex<0)&&(x.dynamicIndex=0),e.value=x,x.type==="bing"){const W=await Wo();(T=W==null?void 0:W.data)!=null&&T.url&&(n.value=W.data),i()}x.type==="local"&&Array.isArray(x.localImages)&&x.localImages.length>0&&(r.value=Math.floor(Math.random()*x.localImages.length))}async function i(x=!1){var T,W,Q;t.value=!0;try{const I=pi();if(!x){const re=await Wo();if(re&&re.date===I&&((T=re.data)!=null&&T.url)){console.log("Using cached Bing wallpaper"),n.value=re.data,t.value=!1;return}}if(!_u){console.warn("Bing wallpaper requires browser extension environment"),n.value={url:Xn,title:"默认壁纸",copyright:"本地图片"};return}const R=await Ea(()=>import("./browser-polyfill-Bl22BZwB.js").then(re=>re.b),[]),j=await(R.default||R).runtime.sendMessage({type:"FETCH_BING_WALLPAPER"});if(j!=null&&j.success&&((W=j.data)!=null&&W.url))n.value=j.data,await fi({date:I,data:j.data}),console.log("Bing wallpaper fetched and cached");else throw new Error((j==null?void 0:j.error)||"Failed to fetch Bing wallpaper")}catch(I){console.error("Failed to fetch Bing wallpaper:",I);const R=await Wo();(Q=R==null?void 0:R.data)!=null&&Q.url?(console.log("Using expired cache as fallback"),n.value=R.data):n.value={url:Xn,title:"默认壁纸",copyright:"加载失败，显示默认壁纸"}}finally{t.value=!1}}async function c(x){e.value.type=x,x==="bing"&&await i(),await ze(e.value)}async function u(x){e.value.url=x,e.value.type="url",await ze(e.value)}async function p(x){e.value.localData=x,e.value.type="local",await ze(e.value)}async function h(x){Array.isArray(e.value.localImages)||(e.value.localImages=[]),e.value.localImages=[...e.value.localImages,...x],e.value.type="local",r.value=Math.floor(Math.random()*e.value.localImages.length),await ze(e.value)}async function d(x){e.value.localImages=x,e.value.type="local",r.value=Math.floor(Math.random()*x.length),await ze(e.value)}async function y(x){if(!Array.isArray(e.value.localImages)){e.value.localImages=[];return}e.value.localImages.splice(x,1),e.value.localImages.length===0?e.value.type="default":r.value>=e.value.localImages.length&&(r.value=0),await ze(e.value)}async function v(x){e.value.defaultIndex=x,e.value.type="default",await ze(e.value)}async function w(x){e.value.dynamicIndex=x,e.value.type="dynamic",await ze(e.value)}async function m(){e.value.type="bing",await i(),await ze(e.value)}function k(){var x;if((x=n.value)!=null&&x.url){const T=document.createElement("a");T.href=n.value.url,T.download=`bing-wallpaper-${new Date().toISOString().split("T")[0]}.jpg`,T.target="_blank",document.body.appendChild(T),T.click(),document.body.removeChild(T)}}function E(){if(e.value.localImages.length>1){let x;do x=Math.floor(Math.random()*e.value.localImages.length);while(x===r.value);r.value=x}}async function S(x){e.value.blur=x,await ze(e.value)}async function N(x){e.value.blurAmount=x,await ze(e.value)}async function L(x){e.value.brightness=x,await ze(e.value)}async function D(){e.value={type:"default",url:null,localData:null,localImages:[],defaultIndex:0,dynamicIndex:0,blur:!0,blurAmount:30,brightness:100},r.value=0,n.value=null,await ze(e.value)}return{settings:e,loading:t,currentUrl:s,wallpaperStyle:a,currentLocalIndex:r,bingWallpaper:n,isVideoWallpaper:o,init:l,setType:c,setUrl:u,setLocalImage:p,addLocalImages:h,setLocalImages:d,removeLocalImage:y,setDefaultIndex:v,setDynamicIndex:w,selectBingWallpaper:m,downloadBingWallpaper:k,fetchBingWallpaper:i,refreshRandomLocal:E,setBlur:S,setBlurAmount:N,setBrightness:L,reset:D}}),Bs=5,Wr=Bn("notes",()=>{const e=H([]),t=H(null),n=H(!1),r=ne(()=>t.value&&e.value.find(m=>m.id===t.value)||null),o=ne(()=>e.value.filter(m=>m.isPinned).sort((m,k)=>new Date(k.createdAt).getTime()-new Date(m.createdAt).getTime())),s=ne(()=>[...e.value].sort((m,k)=>new Date(k.createdAt).getTime()-new Date(m.createdAt).getTime())),a=ne(()=>o.value.length),l=ne(()=>a.value<Bs);async function i(){n.value||(e.value=await hi(),n.value=!0)}async function c(m=""){const k=new Date().toISOString(),E={id:Ca(),content:m,createdAt:k,updatedAt:k,isPinned:!1};return e.value.push(E),await gn(e.value),E}async function u(m,k){const E=e.value.find(S=>S.id===m);E&&(E.content=k,E.updatedAt=new Date().toISOString(),await gn(e.value))}async function p(m){const k=e.value.findIndex(E=>E.id===m);k!==-1&&(e.value.splice(k,1),await gn(e.value),t.value===m&&(t.value=null))}async function h(m){const k=e.value.find(E=>E.id===m);return!k||!k.isPinned&&!l.value?!1:(k.isPinned=!k.isPinned,k.updatedAt=new Date().toISOString(),await gn(e.value),!0)}async function d(m){const k=e.value.find(E=>E.id===m);k&&k.isPinned&&(k.isPinned=!1,k.updatedAt=new Date().toISOString(),await gn(e.value))}function y(m){t.value=m}function v(m){if(!m.content)return"空便笺";const k=m.content.split(`
`)[0];return k.length>50?k.substring(0,50)+"...":k||"空便笺"}function w(m){const k=new Date(m),E=new Date;return k.toDateString()===E.toDateString()?k.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):k.toLocaleDateString("zh-CN",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})}return{notes:e,selectedNoteId:t,selectedNote:r,pinnedNotes:o,sortedNotes:s,pinnedCount:a,canPin:l,isInitialized:n,init:i,addNote:c,updateNote:u,deleteNote:p,togglePin:h,unpin:d,selectNote:y,getNotePreview:v,formatDate:w,MAX_PINNED_NOTES:Bs}}),wu={class:"time-container","data-time-display":""},ku={class:"time-digit"},Su={class:"time-digit"},xu={class:"time-digit"},Eu=Te({__name:"TimeDisplay",setup(e){const t=st(),n=H(""),r=H(""),o=H(""),s=H(!0);let a=null;const l=ne(()=>t.settings.use24Hour),i=ne(()=>t.settings.showSeconds),c=ne(()=>t.settings.blinkSeparator),u=ne(()=>t.settings.timeFontWeight),p={normal:400,medium:500,semibold:600,bold:700};function h(){const d=new Date;let y=d.getHours();const v=d.getMinutes(),w=d.getSeconds();l.value||(y=y%12||12),n.value=y.toString().padStart(2,"0"),r.value=v.toString().padStart(2,"0"),o.value=w.toString().padStart(2,"0"),c.value?s.value=w%2===0:s.value=!0}return Ze(()=>{h(),a=window.setInterval(h,1e3)}),Dt(()=>{a&&clearInterval(a)}),(d,y)=>(C(),P("div",wu,[f("div",{class:"time-display",style:Ke({fontWeight:p[u.value]})},[f("span",ku,$(n.value),1),f("span",{class:J(["time-colon",{"colon-hidden":!s.value}])},":",2),f("span",Su,$(r.value),1),i.value?(C(),P(be,{key:0},[f("span",{class:J(["time-colon",{"colon-hidden":!s.value}])},":",2),f("span",xu,$(o.value),1)],64)):Y("",!0)],4)]))}}),Me=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Cu=Me(Eu,[["__scopeId","data-v-5fda2d49"]]),tl=/^[a-z0-9]+(-[a-z0-9]+)*$/,$o=(e,t,n,r="")=>{const o=e.split(":");if(e.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;r=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const l=o.pop(),i=o.pop(),c={provider:o.length>0?o[0]:r,prefix:i,name:l};return t&&!ao(c)?null:c}const s=o[0],a=s.split("-");if(a.length>1){const l={provider:r,prefix:a.shift(),name:a.join("-")};return t&&!ao(l)?null:l}if(n&&r===""){const l={provider:r,prefix:"",name:s};return t&&!ao(l,n)?null:l}return null},ao=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,nl=Object.freeze({left:0,top:0,width:16,height:16}),vo=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Po=Object.freeze({...nl,...vo}),br=Object.freeze({...Po,body:"",hidden:!1});function Iu(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function Ws(e,t){const n=Iu(e,t);for(const r in br)r in vo?r in e&&!(r in n)&&(n[r]=vo[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function Tu(e,t){const n=e.icons,r=e.aliases||Object.create(null),o=Object.create(null);function s(a){if(n[a])return o[a]=[];if(!(a in o)){o[a]=null;const l=r[a]&&r[a].parent,i=l&&s(l);i&&(o[a]=[l].concat(i))}return o[a]}return Object.keys(n).concat(Object.keys(r)).forEach(s),o}function Au(e,t,n){const r=e.icons,o=e.aliases||Object.create(null);let s={};function a(l){s=Ws(r[l]||o[l],s)}return a(t),n.forEach(a),Ws(e,s)}function ol(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(o=>{t(o,null),n.push(o)});const r=Tu(e);for(const o in r){const s=r[o];s&&(t(o,Au(e,o,s)),n.push(o))}return n}const Du={provider:"",aliases:{},not_found:{},...nl};function Go(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function rl(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!Go(e,Du))return null;const n=t.icons;for(const o in n){const s=n[o];if(!o||typeof s.body!="string"||!Go(s,br))return null}const r=t.aliases||Object.create(null);for(const o in r){const s=r[o],a=s.parent;if(!o||typeof a!="string"||!n[a]&&!r[a]||!Go(s,br))return null}return t}const Us=Object.create(null);function Nu(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function cn(e,t){const n=Us[e]||(Us[e]=Object.create(null));return n[t]||(n[t]=Nu(e,t))}function sl(e,t){return rl(t)?ol(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function Lu(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let Fn=!1;function al(e){return typeof e=="boolean"&&(Fn=e),Fn}function $u(e){const t=typeof e=="string"?$o(e,!0,Fn):e;if(t){const n=cn(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function Pu(e,t){const n=$o(e,!0,Fn);if(!n)return!1;const r=cn(n.provider,n.prefix);return t?Lu(r,n.name,t):(r.missing.add(n.name),!0)}function Ou(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),Fn&&!t&&!e.prefix){let o=!1;return rl(e)&&(e.prefix="",ol(e,(s,a)=>{Pu(s,a)&&(o=!0)})),o}const n=e.prefix;if(!ao({prefix:n,name:"a"}))return!1;const r=cn(t,n);return!!sl(r,e)}const ll=Object.freeze({width:null,height:null}),il=Object.freeze({...ll,...vo}),Ru=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Mu=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Hs(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(Ru);if(r===null||!r.length)return e;const o=[];let s=r.shift(),a=Mu.test(s);for(;;){if(a){const l=parseFloat(s);isNaN(l)?o.push(s):o.push(Math.ceil(l*t*n)/n)}else o.push(s);if(s=r.shift(),s===void 0)return o.join("");a=!a}}function Fu(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const o=e.indexOf(">",r),s=e.indexOf("</"+t);if(o===-1||s===-1)break;const a=e.indexOf(">",s);if(a===-1)break;n+=e.slice(o+1,s).trim(),e=e.slice(0,r).trim()+e.slice(a+1)}return{defs:n,content:e}}function Bu(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Wu(e,t,n){const r=Fu(e);return Bu(r.defs,t+r.content+n)}const Uu=e=>e==="unset"||e==="undefined"||e==="none";function Hu(e,t){const n={...Po,...e},r={...il,...t},o={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(v=>{const w=[],m=v.hFlip,k=v.vFlip;let E=v.rotate;m?k?E+=2:(w.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),w.push("scale(-1 1)"),o.top=o.left=0):k&&(w.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),w.push("scale(1 -1)"),o.top=o.left=0);let S;switch(E<0&&(E-=Math.floor(E/4)*4),E=E%4,E){case 1:S=o.height/2+o.top,w.unshift("rotate(90 "+S.toString()+" "+S.toString()+")");break;case 2:w.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:S=o.width/2+o.left,w.unshift("rotate(-90 "+S.toString()+" "+S.toString()+")");break}E%2===1&&(o.left!==o.top&&(S=o.left,o.left=o.top,o.top=S),o.width!==o.height&&(S=o.width,o.width=o.height,o.height=S)),w.length&&(s=Wu(s,'<g transform="'+w.join(" ")+'">',"</g>"))});const a=r.width,l=r.height,i=o.width,c=o.height;let u,p;a===null?(p=l===null?"1em":l==="auto"?c:l,u=Hs(p,i/c)):(u=a==="auto"?i:a,p=l===null?Hs(u,c/i):l==="auto"?c:l);const h={},d=(v,w)=>{Uu(w)||(h[v]=w.toString())};d("width",u),d("height",p);const y=[o.left,o.top,i,c];return h.viewBox=y.join(" "),{attributes:h,viewBox:y,body:s}}const ju=/\sid="(\S+)"/g,Gu="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Vu=0;function zu(e,t=Gu){const n=[];let r;for(;r=ju.exec(e);)n.push(r[1]);if(!n.length)return e;const o="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const a=typeof t=="function"?t(s):t+(Vu++).toString(),l=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+a+o+"$3")}),e=e.replace(new RegExp(o,"g"),""),e}const _r=Object.create(null);function Yu(e,t){_r[e]=t}function yr(e){return _r[e]||_r[""]}function Ur(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Hr=Object.create(null),vn=["https://api.simplesvg.com","https://api.unisvg.com"],lo=[];for(;vn.length>0;)vn.length===1||Math.random()>.5?lo.push(vn.shift()):lo.push(vn.pop());Hr[""]=Ur({resources:["https://api.iconify.design"].concat(lo)});function qu(e,t){const n=Ur(t);return n===null?!1:(Hr[e]=n,!0)}function jr(e){return Hr[e]}const Xu=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let js=Xu();function Ku(e,t){const n=jr(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let o=0;n.resources.forEach(a=>{o=Math.max(o,a.length)});const s=t+".json?icons=";r=n.maxURL-o-n.path.length-s.length}return r}function Qu(e){return e===404}const Ju=(e,t,n)=>{const r=[],o=Ku(e,t),s="icons";let a={type:s,provider:e,prefix:t,icons:[]},l=0;return n.forEach((i,c)=>{l+=i.length+1,l>=o&&c>0&&(r.push(a),a={type:s,provider:e,prefix:t,icons:[]},l=i.length),a.icons.push(i)}),r.push(a),r};function Zu(e){if(typeof e=="string"){const t=jr(e);if(t)return t.path}return"/"}const ed=(e,t,n)=>{if(!js){n("abort",424);return}let r=Zu(t.provider);switch(t.type){case"icons":{const s=t.prefix,l=t.icons.join(","),i=new URLSearchParams({icons:l});r+=s+".json?"+i.toString();break}case"custom":{const s=t.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let o=503;js(e+r).then(s=>{const a=s.status;if(a!==200){setTimeout(()=>{n(Qu(a)?"abort":"next",a)});return}return o=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",o)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",o)})},td={prepare:Ju,send:ed};function nd(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((o,s)=>o.provider!==s.provider?o.provider.localeCompare(s.provider):o.prefix!==s.prefix?o.prefix.localeCompare(s.prefix):o.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return e.forEach(o=>{if(r.name===o.name&&r.prefix===o.prefix&&r.provider===o.provider)return;r=o;const s=o.provider,a=o.prefix,l=o.name,i=n[s]||(n[s]=Object.create(null)),c=i[a]||(i[a]=cn(s,a));let u;l in c.icons?u=t.loaded:a===""||c.missing.has(l)?u=t.missing:u=t.pending;const p={provider:s,prefix:a,name:l};u.push(p)}),t}function cl(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(o=>o.id!==t))})}function od(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,o=e.prefix;t.forEach(s=>{const a=s.icons,l=a.pending.length;a.pending=a.pending.filter(i=>{if(i.prefix!==o)return!0;const c=i.name;if(e.icons[c])a.loaded.push({provider:r,prefix:o,name:c});else if(e.missing.has(c))a.missing.push({provider:r,prefix:o,name:c});else return n=!0,!0;return!1}),a.pending.length!==l&&(n||cl([e],s.id),s.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),s.abort))})}))}let rd=0;function sd(e,t,n){const r=rd++,o=cl.bind(null,n,r);if(!t.pending.length)return o;const s={id:r,icons:t,callback:e,abort:o};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(s)}),o}function ad(e,t=!0,n=!1){const r=[];return e.forEach(o=>{const s=typeof o=="string"?$o(o,t,n):o;s&&r.push(s)}),r}var ld={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function id(e,t,n,r){const o=e.resources.length,s=e.random?Math.floor(Math.random()*o):e.index;let a;if(e.random){let L=e.resources.slice(0);for(a=[];L.length>1;){const D=Math.floor(Math.random()*L.length);a.push(L[D]),L=L.slice(0,D).concat(L.slice(D+1))}a=a.concat(L)}else a=e.resources.slice(s).concat(e.resources.slice(0,s));const l=Date.now();let i="pending",c=0,u,p=null,h=[],d=[];typeof r=="function"&&d.push(r);function y(){p&&(clearTimeout(p),p=null)}function v(){i==="pending"&&(i="aborted"),y(),h.forEach(L=>{L.status==="pending"&&(L.status="aborted")}),h=[]}function w(L,D){D&&(d=[]),typeof L=="function"&&d.push(L)}function m(){return{startTime:l,payload:t,status:i,queriesSent:c,queriesPending:h.length,subscribe:w,abort:v}}function k(){i="failed",d.forEach(L=>{L(void 0,u)})}function E(){h.forEach(L=>{L.status==="pending"&&(L.status="aborted")}),h=[]}function S(L,D,x){const T=D!=="success";switch(h=h.filter(W=>W!==L),i){case"pending":break;case"failed":if(T||!e.dataAfterTimeout)return;break;default:return}if(D==="abort"){u=x,k();return}if(T){u=x,h.length||(a.length?N():k());return}if(y(),E(),!e.random){const W=e.resources.indexOf(L.resource);W!==-1&&W!==e.index&&(e.index=W)}i="completed",d.forEach(W=>{W(x)})}function N(){if(i!=="pending")return;y();const L=a.shift();if(L===void 0){if(h.length){p=setTimeout(()=>{y(),i==="pending"&&(E(),k())},e.timeout);return}k();return}const D={status:"pending",resource:L,callback:(x,T)=>{S(D,x,T)}};h.push(D),c++,p=setTimeout(N,e.rotate),n(L,t,D.callback)}return setTimeout(N),m}function ul(e){const t={...ld,...e};let n=[];function r(){n=n.filter(l=>l().status==="pending")}function o(l,i,c){const u=id(t,l,i,(p,h)=>{r(),c&&c(p,h)});return n.push(u),u}function s(l){return n.find(i=>l(i))||null}return{query:o,find:s,setIndex:l=>{t.index=l},getIndex:()=>t.index,cleanup:r}}function Gs(){}const Vo=Object.create(null);function cd(e){if(!Vo[e]){const t=jr(e);if(!t)return;const n=ul(t),r={config:t,redundancy:n};Vo[e]=r}return Vo[e]}function ud(e,t,n){let r,o;if(typeof e=="string"){const s=yr(e);if(!s)return n(void 0,424),Gs;o=s.send;const a=cd(e);a&&(r=a.redundancy)}else{const s=Ur(e);if(s){r=ul(s);const a=e.resources?e.resources[0]:"",l=yr(a);l&&(o=l.send)}}return!r||!o?(n(void 0,424),Gs):r.query(t,o,n)().abort}function Vs(){}function dd(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,od(e)}))}function fd(e){const t=[],n=[];return e.forEach(r=>{(r.match(tl)?t:n).push(r)}),{valid:t,invalid:n}}function bn(e,t,n){function r(){const o=e.pendingIcons;t.forEach(s=>{o&&o.delete(s),e.icons[s]||e.missing.add(s)})}if(n&&typeof n=="object")try{if(!sl(e,n).length){r();return}}catch(o){console.error(o)}r(),dd(e)}function zs(e,t){e instanceof Promise?e.then(n=>{t(n)}).catch(()=>{t(null)}):t(e)}function pd(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,o=e.iconsToLoad;if(delete e.iconsToLoad,!o||!o.length)return;const s=e.loadIcon;if(e.loadIcons&&(o.length>1||!s)){zs(e.loadIcons(o,r,n),u=>{bn(e,o,u)});return}if(s){o.forEach(u=>{const p=s(u,r,n);zs(p,h=>{const d=h?{prefix:r,icons:{[u]:h}}:null;bn(e,[u],d)})});return}const{valid:a,invalid:l}=fd(o);if(l.length&&bn(e,l,null),!a.length)return;const i=r.match(tl)?yr(n):null;if(!i){bn(e,a,null);return}i.prepare(n,r,a).forEach(u=>{ud(n,u,p=>{bn(e,u.icons,p)})})}))}const hd=(e,t)=>{const n=ad(e,!0,al()),r=nd(n);if(!r.pending.length){let i=!0;return t&&setTimeout(()=>{i&&t(r.loaded,r.missing,r.pending,Vs)}),()=>{i=!1}}const o=Object.create(null),s=[];let a,l;return r.pending.forEach(i=>{const{provider:c,prefix:u}=i;if(u===l&&c===a)return;a=c,l=u,s.push(cn(c,u));const p=o[c]||(o[c]=Object.create(null));p[u]||(p[u]=[])}),r.pending.forEach(i=>{const{provider:c,prefix:u,name:p}=i,h=cn(c,u),d=h.pendingIcons||(h.pendingIcons=new Set);d.has(p)||(d.add(p),o[c][u].push(p))}),s.forEach(i=>{const c=o[i.provider][i.prefix];c.length&&pd(i,c)}),t?sd(t,r,s):Vs};function gd(e,t){const n={...e};for(const r in t){const o=t[r],s=typeof o;r in ll?(o===null||o&&(s==="string"||s==="number"))&&(n[r]=o):s===typeof n[r]&&(n[r]=r==="rotate"?o%4:o)}return n}const md=/[\s,]+/;function vd(e,t){t.split(md).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function bd(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(o){for(;o<0;)o+=4;return o%4}if(n===""){const o=parseInt(e);return isNaN(o)?0:r(o)}else if(n!==e){let o=0;switch(n){case"%":o=25;break;case"deg":o=90}if(o){let s=parseFloat(e.slice(0,e.length-n.length));return isNaN(s)?0:(s=s/o,s%1===0?r(s):0)}}return t}function _d(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function yd(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function wd(e){return"data:image/svg+xml,"+yd(e)}function kd(e){return'url("'+wd(e)+'")'}const Ys={...il,inline:!1},Sd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},xd={display:"inline-block"},wr={backgroundColor:"currentColor"},dl={backgroundColor:"transparent"},qs={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Xs={webkitMask:wr,mask:wr,background:dl};for(const e in Xs){const t=Xs[e];for(const n in qs)t[e+n]=qs[n]}const io={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";io[e+"-flip"]=t,io[e.slice(0,1)+"-flip"]=t,io[e+"Flip"]=t});function Ks(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const Qs=(e,t)=>{const n=gd(Ys,t),r={...Sd},o=t.mode||"svg",s={},a=t.style,l=typeof a=="object"&&!(a instanceof Array)?a:{};for(let v in t){const w=t[v];if(w!==void 0)switch(v){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[v]=w===!0||w==="true"||w===1;break;case"flip":typeof w=="string"&&vd(n,w);break;case"color":s.color=w;break;case"rotate":typeof w=="string"?n[v]=bd(w):typeof w=="number"&&(n[v]=w);break;case"ariaHidden":case"aria-hidden":w!==!0&&w!=="true"&&delete r["aria-hidden"];break;default:{const m=io[v];m?(w===!0||w==="true"||w===1)&&(n[m]=!0):Ys[v]===void 0&&(r[v]=w)}}}const i=Hu(e,n),c=i.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),o==="svg"){r.style={...s,...l},Object.assign(r,c);let v=0,w=t.id;return typeof w=="string"&&(w=w.replace(/-/g,"_")),r.innerHTML=zu(i.body,w?()=>w+"ID"+v++:"iconifyVue"),Ln("svg",r)}const{body:u,width:p,height:h}=e,d=o==="mask"||(o==="bg"?!1:u.indexOf("currentColor")!==-1),y=_d(u,{...c,width:p+"",height:h+""});return r.style={...s,"--svg":kd(y),width:Ks(c.width),height:Ks(c.height),...xd,...d?wr:dl,...l},Ln("span",r)};al(!0);Yu("",td);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!Ou(r))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const r="IconifyProviders["+n+"] is invalid.";try{const o=t[n];if(typeof o!="object"||!o||o.resources===void 0)continue;qu(n,o)||console.error(r)}catch{console.error(r)}}}}const Ed={...Po,body:""},V=Te({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,t,n){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let r;if(typeof e!="string"||(r=$o(e,!1,!0))===null)return this.abortLoading(),null;let o=$u(r);if(!o)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",o!==null&&(this._loadingIcon={name:e,abort:hd([r],()=>{this.counter++})})),null;if(this.abortLoading(),this._name!==e&&(this._name=e,t&&t(e)),n){o=Object.assign({},o);const a=n(o.body,r.name,r.prefix,r.provider);typeof a=="string"&&(o.body=a)}const s=["iconify"];return r.prefix!==""&&s.push("iconify--"+r.prefix),r.provider!==""&&s.push("iconify--"+r.provider),{data:o,classes:s}}},render(){this.counter;const e=this.$attrs,t=this.iconMounted||e.ssr?this.getIcon(e.icon,e.onLoad,e.customise):null;if(!t)return Qs(Ed,e);let n=e;return t.classes&&(n={...e,class:(typeof e.class=="string"?e.class+" ":"")+t.classes.join(" ")}),Qs({...Po,...t.data},n)}}),Js=[{id:"google",name:"Google",icon:"ri:google-fill",url:"https://www.google.com/search?q=",placeholder:"在 Google 中搜索"},{id:"bing",name:"Bing",icon:"ri:microsoft-fill",url:"https://www.bing.com/search?q=",placeholder:"在 Bing 中搜索"},{id:"baidu",name:"百度",icon:"ri:baidu-fill",url:"https://www.baidu.com/s?wd=",placeholder:"在百度中搜索"},{id:"github",name:"GitHub",icon:"ri:github-fill",url:"https://github.com/search?q=",placeholder:"在 GitHub 中搜索"}],Zs="anheyu_custom_search_engines",Gr=Bn("search",()=>{const e=H([...Js]),t=st();function n(){try{const u=localStorage.getItem(Zs);if(u){const p=JSON.parse(u);e.value=[...Js,...p]}}catch{}}function r(){try{const u=e.value.filter(p=>p.isCustom);localStorage.setItem(Zs,JSON.stringify(u))}catch{}}const o=ne(()=>{const u=t.settings.searchEngine;return e.value.find(p=>p.id===u)||e.value[0]});function s(u){if(!u.trim())return;const p=o.value.url+encodeURIComponent(u);t.settings.openInNewTab?window.open(p,"_blank"):window.location.href=p}async function a(u){await t.updateSettings({searchEngine:u})}function l(u){const p={...u,id:`custom_${Date.now()}`,isCustom:!0};return e.value.push(p),r(),p}function i(u,p){const h=e.value.findIndex(d=>d.id===u&&d.isCustom);h!==-1&&(e.value[h]={...e.value[h],...p},r())}async function c(u){const p=e.value.find(h=>h.id===u);p!=null&&p.isCustom&&(e.value=e.value.filter(h=>h.id!==u),r(),o.value.id===u&&await a(e.value[0].id))}return n(),{engines:e,currentEngine:o,search:s,setEngine:a,addCustomEngine:l,updateCustomEngine:i,deleteCustomEngine:c}}),Cd=["onClick"],Id=["onClick"],Td={class:"history-text"},Ad={class:"history-text"},zo="anheyu_search_history",Dd=10,Nd=Te({__name:"SearchBox",emits:["focus-change"],setup(e,{emit:t}){const{t:n}=He(),r=t,o=Gr(),s=st(),a=H(""),l=H(!1),i=H(!1),c=H(!1),u=H([]),p=H(null),h=H(null),d=H(null),y=ne(()=>!a.value&&!l.value),v=ne(()=>l.value&&u.value.length>0&&s.settings.searchHistory);function w(){try{const I=localStorage.getItem(zo);I&&(u.value=JSON.parse(I))}catch{u.value=[]}}function m(I){if(!s.settings.searchHistory)return;const R=I.trim();if(!R)return;const M=u.value.filter(j=>j!==R);M.unshift(R),u.value=M.slice(0,Dd);try{localStorage.setItem(zo,JSON.stringify(u.value))}catch{}}function k(){u.value=[];try{localStorage.removeItem(zo)}catch{}}function E(){if(a.value.trim()){const I=a.value;m(I),o.search(I),s.settings.autoClearSearchBar&&setTimeout(()=>{a.value=""},100)}}function S(I){a.value=I,E()}function N(I){d.value=o.currentEngine.id,o.setEngine(I),c.value=!1}function L(I){I.stopPropagation(),c.value=!c.value}function D(){c.value=!1}function x(){l.value=!0,r("focus-change",!0)}function T(){setTimeout(()=>{l.value=!1,a.value="",r("focus-change",!1)},150)}function W(I){const R=s.settings.tabSwitchBehavior;if(R!=="nextControl"){if(I.preventDefault(),R==="searchEngine"){const M=o.engines,j=M.findIndex(Ne=>Ne.id===o.currentEngine.id);let re;I.shiftKey?re=j>0?j-1:M.length-1:re=j<M.length-1?j+1:0,N(M[re].id)}else if(R==="recentEngine")if(d.value&&d.value!==o.currentEngine.id)N(d.value);else{const M=o.engines,j=M.findIndex(Ne=>Ne.id===o.currentEngine.id),re=j<M.length-1?j+1:0;N(M[re].id)}else if(R==="searchSuggestion"&&u.value.length>0){const M=a.value.trim(),j=u.value.indexOf(M);I.shiftKey?j>0?a.value=u.value[j-1]:j===0?a.value="":a.value=u.value[u.value.length-1]:j===-1||j===u.value.length-1?a.value=u.value[0]:a.value=u.value[j+1]}}}function Q(I){if(h.value&&!h.value.contains(I.target)){if(I.target.closest("[data-poetry-area]"))return;l.value=!1,c.value=!1,a.value="",r("focus-change",!1)}}return Qe(l,I=>{I&&(c.value=!1)}),Qe(()=>s.settings.searchHistory,I=>{I||k()}),Ze(()=>{w(),document.addEventListener("click",Q);const I="anheyu_auto_focus_executed";!sessionStorage.getItem(I)&&s.settings.autoFocusSearch&&!s.settings.autoShowAppGrid&&setTimeout(()=>{var M;(M=p.value)==null||M.focus(),sessionStorage.setItem(I,"true")},600)}),Dt(()=>{document.removeEventListener("click",Q)}),(I,R)=>(C(),P("div",{ref_key:"containerRef",ref:h,class:"search-box-container"},[f("div",{class:J(["search-box",{"search-box-focused":l.value,"search-box-hovered":i.value&&!l.value,"search-box-shrink":g(s).settings.searchBoxAnimation}]),onMouseenter:R[4]||(R[4]=M=>i.value=!0),onMouseleave:R[5]||(R[5]=M=>i.value=!1)},[B(ke,{name:"fade"},{default:le(()=>[l.value?(C(),P("button",{key:0,class:"search-engine-btn",onMousedown:R[0]||(R[0]=ae(()=>{},["prevent"])),onClick:L},[B(g(V),{icon:g(o).currentEngine.icon,class:"w-4 h-4 sm:w-5 sm:h-5"},null,8,["icon"])],32)):Y("",!0)]),_:1}),dt(f("input",{ref_key:"inputRef",ref:p,"onUpdate:modelValue":R[1]||(R[1]=M=>a.value=M),type:"text",class:"search-input",onFocus:x,onBlur:T,onKeydown:[or(E,["enter"]),or(W,["tab"])]},null,544),[[vt,a.value]]),B(ke,{name:"placeholder-fade"},{default:le(()=>[y.value?(C(),P("div",{key:0,class:"search-placeholder",onClick:R[2]||(R[2]=M=>{var j;return(j=p.value)==null?void 0:j.focus()})},$(g(n)("search.placeholder")),1)):Y("",!0)]),_:1}),B(ke,{name:"fade"},{default:le(()=>[l.value?(C(),P("button",{key:0,class:"search-btn",onMousedown:R[3]||(R[3]=ae(()=>{},["prevent"])),onClick:E},[B(g(V),{icon:"ri:search-line",class:"w-4 h-4 sm:w-5 sm:h-5"})],32)):Y("",!0)]),_:1})],34),B(ke,{name:"dropdown"},{default:le(()=>[c.value?(C(),P("div",{key:0,class:"search-dropdown",onMousedown:R[6]||(R[6]=ae(()=>{},["prevent"])),onMouseleave:D},[(C(!0),P(be,null,De(g(o).engines,M=>(C(),P("button",{key:M.id,class:J(["dropdown-item",{"dropdown-item-active":M.id===g(o).currentEngine.id}]),onClick:j=>N(M.id)},[B(g(V),{icon:M.icon,class:"flex-shrink-0 w-4 h-4 sm:w-5 sm:h-5"},null,8,["icon"]),f("span",null,$(M.name),1),M.id===g(o).currentEngine.id?(C(),ce(g(V),{key:0,icon:"ri:check-line",class:"w-4 h-4 ml-auto check-icon"})):Y("",!0)],10,Cd))),128))],32)):Y("",!0)]),_:1}),B(ke,{name:"history-dropdown"},{default:le(()=>[v.value?(C(),P("div",{key:0,class:"history-dropdown",onMousedown:R[7]||(R[7]=ae(()=>{},["prevent"]))},[(C(!0),P(be,null,De(u.value,M=>(C(),P("button",{key:M,class:"history-item",onClick:j=>S(M)},[f("span",Td,$(M),1)],8,Id))),128)),f("button",{class:"history-item clear-history-item",onClick:k},[B(g(V),{icon:"ri:delete-bin-line",class:"w-3.5 h-3.5 opacity-60"}),f("span",Ad,$(g(n)("search.clearHistory")),1)])],32)):Y("",!0)]),_:1})],512))}}),Ld=Me(Nd,[["__scopeId","data-v-b6086a30"]]);var $d=Object.defineProperty,bo=Object.getOwnPropertySymbols,fl=Object.prototype.hasOwnProperty,pl=Object.prototype.propertyIsEnumerable,ea=(e,t,n)=>t in e?$d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,on=(e,t)=>{for(var n in t||(t={}))fl.call(t,n)&&ea(e,n,t[n]);if(bo)for(var n of bo(t))pl.call(t,n)&&ea(e,n,t[n]);return e},hl=(e,t)=>{var n={};for(var r in e)fl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bo)for(var r of bo(e))t.indexOf(r)<0&&pl.call(e,r)&&(n[r]=e[r]);return n};const gl="[vue-draggable-plus]: ";function Pd(e){console.warn(gl+e)}function Od(e){console.error(gl+e)}function ta(e,t,n){return n>=0&&n<e.length&&e.splice(n,0,e.splice(t,1)[0]),e}function Rd(e){return e.replace(/-(\w)/g,(t,n)=>n?n.toUpperCase():"")}function Md(e){return Object.keys(e).reduce((t,n)=>(typeof e[n]<"u"&&(t[Rd(n)]=e[n]),t),{})}function na(e,t){return Array.isArray(e)&&e.splice(t,1),e}function oa(e,t,n){return Array.isArray(e)&&e.splice(t,0,n),e}function Fd(e){return typeof e>"u"}function Bd(e){return typeof e=="string"}function ra(e,t,n){const r=e.children[n];e.insertBefore(t,r)}function Yo(e){e.parentNode&&e.parentNode.removeChild(e)}function Wd(e,t=document){var n;let r=null;return typeof(t==null?void 0:t.querySelector)=="function"?r=(n=t==null?void 0:t.querySelector)==null?void 0:n.call(t,e):r=document.querySelector(e),r||Pd(`Element not found: ${e}`),r}function Ud(e,t,n=null){return function(...r){return e.apply(n,r),t.apply(n,r)}}function Hd(e,t){const n=on({},e);return Object.keys(t).forEach(r=>{n[r]?n[r]=Ud(e[r],t[r]):n[r]=t[r]}),n}function jd(e){return e instanceof HTMLElement}function sa(e,t){Object.keys(e).forEach(n=>{t(n,e[n])})}function Gd(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)}const Vd=Object.assign;/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aa(Object(n),!0).forEach(function(r){zd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function co(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?co=function(t){return typeof t}:co=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(){return At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},At.apply(this,arguments)}function Yd(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function qd(e,t){if(e==null)return{};var n=Yd(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Xd="1.15.2";function Tt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Nt=Tt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Wn=Tt(/Edge/i),la=Tt(/firefox/i),Cn=Tt(/safari/i)&&!Tt(/chrome/i)&&!Tt(/android/i),ml=Tt(/iP(ad|od|hone)/i),vl=Tt(/chrome/i)&&Tt(/android/i),bl={capture:!1,passive:!1};function fe(e,t,n){e.addEventListener(t,n,!Nt&&bl)}function ie(e,t,n){e.removeEventListener(t,n,!Nt&&bl)}function _o(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Kd(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function it(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&_o(e,t):_o(e,t))||r&&e===n)return e;if(e===n)break}while(e=Kd(e))}return null}var ia=/\s+/g;function Ye(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(ia," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(ia," ")}}function ee(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function sn(e,t){var n="";if(typeof e=="string")n=e;else do{var r=ee(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function _l(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,s=r.length;if(n)for(;o<s;o++)n(r[o],o);return r}return[]}function _t(){var e=document.scrollingElement;return e||document.documentElement}function $e(e,t,n,r,o){if(!(!e.getBoundingClientRect&&e!==window)){var s,a,l,i,c,u,p;if(e!==window&&e.parentNode&&e!==_t()?(s=e.getBoundingClientRect(),a=s.top,l=s.left,i=s.bottom,c=s.right,u=s.height,p=s.width):(a=0,l=0,i=window.innerHeight,c=window.innerWidth,u=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!Nt))do if(o&&o.getBoundingClientRect&&(ee(o,"transform")!=="none"||n&&ee(o,"position")!=="static")){var h=o.getBoundingClientRect();a-=h.top+parseInt(ee(o,"border-top-width")),l-=h.left+parseInt(ee(o,"border-left-width")),i=a+s.height,c=l+s.width;break}while(o=o.parentNode);if(r&&e!==window){var d=sn(o||e),y=d&&d.a,v=d&&d.d;d&&(a/=v,l/=y,p/=y,u/=v,i=a+u,c=l+p)}return{top:a,left:l,bottom:i,right:c,width:p,height:u}}}function ca(e,t,n){for(var r=Pt(e,!0),o=$e(e)[t];r;){var s=$e(r)[n],a=void 0;if(a=o>=s,!a)return r;if(r===_t())break;r=Pt(r,!1)}return!1}function un(e,t,n,r){for(var o=0,s=0,a=e.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==te.ghost&&(r||a[s]!==te.dragged)&&it(a[s],n.draggable,e,!1)){if(o===t)return a[s];o++}s++}return null}function Vr(e,t){for(var n=e.lastElementChild;n&&(n===te.ghost||ee(n,"display")==="none"||t&&!_o(n,t));)n=n.previousElementSibling;return n||null}function tt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==te.clone&&(!t||_o(e,t))&&n++;return n}function ua(e){var t=0,n=0,r=_t();if(e)do{var o=sn(e),s=o.a,a=o.d;t+=e.scrollLeft*s,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function Qd(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Pt(e,t){if(!e||!e.getBoundingClientRect)return _t();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=ee(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return _t();if(r||t)return n;r=!0}}while(n=n.parentNode);return _t()}function Jd(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function qo(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var In;function yl(e,t){return function(){if(!In){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),In=setTimeout(function(){In=void 0},t)}}}function Zd(){clearTimeout(In),In=void 0}function wl(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function kl(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Sl(e,t,n){var r={};return Array.from(e.children).forEach(function(o){var s,a,l,i;if(!(!it(o,t.draggable,e,!1)||o.animated||o===n)){var c=$e(o);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,c.left),r.top=Math.min((a=r.top)!==null&&a!==void 0?a:1/0,c.top),r.right=Math.max((l=r.right)!==null&&l!==void 0?l:-1/0,c.right),r.bottom=Math.max((i=r.bottom)!==null&&i!==void 0?i:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Xe="Sortable"+new Date().getTime();function ef(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(ee(r,"display")==="none"||r===te.ghost)){e.push({target:r,rect:$e(r)});var o=yt({},e[e.length-1].rect);if(r.thisAnimationDuration){var s=sn(r,!0);s&&(o.top-=s.f,o.left-=s.e)}r.fromRect=o}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(Qd(e,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var o=!1,s=0;e.forEach(function(a){var l=0,i=a.target,c=i.fromRect,u=$e(i),p=i.prevFromRect,h=i.prevToRect,d=a.rect,y=sn(i,!0);y&&(u.top-=y.f,u.left-=y.e),i.toRect=u,i.thisAnimationDuration&&qo(p,u)&&!qo(c,u)&&(d.top-u.top)/(d.left-u.left)===(c.top-u.top)/(c.left-u.left)&&(l=nf(d,p,h,r.options)),qo(u,c)||(i.prevFromRect=c,i.prevToRect=u,l||(l=r.options.animation),r.animate(i,d,u,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout(function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null},l),i.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),e=[]},animate:function(n,r,o,s){if(s){ee(n,"transition",""),ee(n,"transform","");var a=sn(this.el),l=a&&a.a,i=a&&a.d,c=(r.left-o.left)/(l||1),u=(r.top-o.top)/(i||1);n.animatingX=!!c,n.animatingY=!!u,ee(n,"transform","translate3d("+c+"px,"+u+"px,0)"),this.forRepaintDummy=tf(n),ee(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),ee(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){ee(n,"transition",""),ee(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function tf(e){return e.offsetWidth}function nf(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Jt=[],Xo={initializeByDefault:!0},Un={mount:function(e){for(var t in Xo)Xo.hasOwnProperty(t)&&!(t in e)&&(e[t]=Xo[t]);Jt.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Jt.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";Jt.forEach(function(s){t[s.pluginName]&&(t[s.pluginName][o]&&t[s.pluginName][o](yt({sortable:t},n)),t.options[s.pluginName]&&t[s.pluginName][e]&&t[s.pluginName][e](yt({sortable:t},n)))})},initializePlugins:function(e,t,n,r){Jt.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var i=new a(e,t,e.options);i.sortable=e,i.options=e.options,e[l]=i,At(n,i.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var s=this.modifyOption(e,o,e.options[o]);typeof s<"u"&&(e.options[o]=s)}},getEventProperties:function(e,t){var n={};return Jt.forEach(function(r){typeof r.eventProperties=="function"&&At(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return Jt.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(r=o.optionListeners[t].call(e[o.pluginName],n))}),r}};function of(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,s=e.cloneEl,a=e.toEl,l=e.fromEl,i=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,p=e.newDraggableIndex,h=e.originalEvent,d=e.putSortable,y=e.extraEventProperties;if(t=t||n&&n[Xe],!!t){var v,w=t.options,m="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Nt&&!Wn?v=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(r,!0,!0)),v.to=a||n,v.from=l||n,v.item=o||n,v.clone=s,v.oldIndex=i,v.newIndex=c,v.oldDraggableIndex=u,v.newDraggableIndex=p,v.originalEvent=h,v.pullMode=d?d.lastPutMode:void 0;var k=yt(yt({},y),Un.getEventProperties(r,t));for(var E in k)v[E]=k[E];n&&n.dispatchEvent(v),w[m]&&w[m].call(t,v)}}var rf=["evt"],Ge=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,o=qd(n,rf);Un.pluginEvent.bind(te)(e,t,yt({dragEl:U,parentEl:Ce,ghostEl:oe,rootEl:xe,nextEl:Gt,lastDownEl:uo,cloneEl:Ee,cloneHidden:$t,dragStarted:wn,putSortable:Re,activeSortable:te.active,originalEvent:r,oldIndex:rn,oldDraggableIndex:Tn,newIndex:qe,newDraggableIndex:Lt,hideGhostForTarget:Il,unhideGhostForTarget:Tl,cloneNowHidden:function(){$t=!0},cloneNowShown:function(){$t=!1},dispatchSortableEvent:function(s){We({sortable:t,name:s,originalEvent:r})}},o))};function We(e){of(yt({putSortable:Re,cloneEl:Ee,targetEl:U,rootEl:xe,oldIndex:rn,oldDraggableIndex:Tn,newIndex:qe,newDraggableIndex:Lt},e))}var U,Ce,oe,xe,Gt,uo,Ee,$t,rn,qe,Tn,Lt,Kn,Re,tn=!1,yo=!1,wo=[],Ht,lt,Ko,Qo,da,fa,wn,Zt,An,Dn=!1,Qn=!1,fo,Fe,Jo=[],kr=!1,ko=[],Oo=typeof document<"u",Jn=ml,pa=Wn||Nt?"cssFloat":"float",sf=Oo&&!vl&&!ml&&"draggable"in document.createElement("div"),xl=(function(){if(Oo){if(Nt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}})(),El=function(e,t){var n=ee(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=un(e,0,t),s=un(e,1,t),a=o&&ee(o),l=s&&ee(s),i=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+$e(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+$e(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var u=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===u)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||i>=r&&n[pa]==="none"||s&&n[pa]==="none"&&i+c>r)?"vertical":"horizontal"},af=function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,s=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,i=n?t.width:t.height;return r===a||o===l||r+s/2===a+i/2},lf=function(e,t){var n;return wo.some(function(r){var o=r[Xe].options.emptyInsertThreshold;if(!(!o||Vr(r))){var s=$e(r),a=e>=s.left-o&&e<=s.right+o,l=t>=s.top-o&&t<=s.bottom+o;if(a&&l)return n=r}}),n},Cl=function(e){function t(o,s){return function(a,l,i,c){var u=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||u))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return t(o(a,l,i,c),s)(a,l,i,c);var p=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===p||o.join&&o.indexOf(p)>-1}}var n={},r=e.group;(!r||co(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Il=function(){!xl&&oe&&ee(oe,"display","none")},Tl=function(){!xl&&oe&&ee(oe,"display","")};Oo&&!vl&&document.addEventListener("click",function(e){if(yo)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),yo=!1,!1},!0);var jt=function(e){if(U){e=e.touches?e.touches[0]:e;var t=lf(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Xe]._onDragOver(n)}}},cf=function(e){U&&U.parentNode[Xe]._isOutsideThisEl(e.target)};function te(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=At({},t),e[Xe]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return El(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:te.supportPointer!==!1&&"PointerEvent"in window&&!Cn,emptyInsertThreshold:5};Un.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);Cl(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:sf,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?fe(e,"pointerdown",this._onTapStart):(fe(e,"mousedown",this._onTapStart),fe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(fe(e,"dragover",this),fe(e,"dragenter",this)),wo.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),At(this,ef())}te.prototype={constructor:te,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Zt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,U):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,s=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,i=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=r.filter;if(vf(n),!U&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||r.disabled)&&!i.isContentEditable&&!(!this.nativeDraggable&&Cn&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=it(l,r.draggable,n,!1),!(l&&l.animated)&&uo!==l)){if(rn=tt(l),Tn=tt(l,r.draggable),typeof c=="function"){if(c.call(this,e,l,this)){We({sortable:t,rootEl:i,name:"filter",targetEl:l,toEl:n,fromEl:n}),Ge("filter",t,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(u){if(u=it(i,u.trim(),n,!1),u)return We({sortable:t,rootEl:u,name:"filter",targetEl:l,fromEl:n,toEl:n}),Ge("filter",t,{evt:e}),!0}),c)){o&&e.cancelable&&e.preventDefault();return}r.handle&&!it(i,r.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var r=this,o=r.el,s=r.options,a=o.ownerDocument,l;if(n&&!U&&n.parentNode===o){var i=$e(n);if(xe=o,U=n,Ce=U.parentNode,Gt=U.nextSibling,uo=n,Kn=s.group,te.dragged=U,Ht={target:U,clientX:(t||e).clientX,clientY:(t||e).clientY},da=Ht.clientX-i.left,fa=Ht.clientY-i.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,U.style["will-change"]="all",l=function(){if(Ge("delayEnded",r,{evt:e}),te.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!la&&r.nativeDraggable&&(U.draggable=!0),r._triggerDragStart(e,t),We({sortable:r,name:"choose",originalEvent:e}),Ye(U,s.chosenClass,!0)},s.ignore.split(",").forEach(function(c){_l(U,c.trim(),Zo)}),fe(a,"dragover",jt),fe(a,"mousemove",jt),fe(a,"touchmove",jt),fe(a,"mouseup",r._onDrop),fe(a,"touchend",r._onDrop),fe(a,"touchcancel",r._onDrop),la&&this.nativeDraggable&&(this.options.touchStartThreshold=4,U.draggable=!0),Ge("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Wn||Nt))){if(te.eventCanceled){this._onDrop();return}fe(a,"mouseup",r._disableDelayedDrag),fe(a,"touchend",r._disableDelayedDrag),fe(a,"touchcancel",r._disableDelayedDrag),fe(a,"mousemove",r._delayedDragTouchMoveHandler),fe(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&fe(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){U&&Zo(U),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ie(e,"mouseup",this._disableDelayedDrag),ie(e,"touchend",this._disableDelayedDrag),ie(e,"touchcancel",this._disableDelayedDrag),ie(e,"mousemove",this._delayedDragTouchMoveHandler),ie(e,"touchmove",this._delayedDragTouchMoveHandler),ie(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?fe(document,"pointermove",this._onTouchMove):t?fe(document,"touchmove",this._onTouchMove):fe(document,"mousemove",this._onTouchMove):(fe(U,"dragend",this),fe(xe,"dragstart",this._onDragStart));try{document.selection?po(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(tn=!1,xe&&U){Ge("dragStarted",this,{evt:t}),this.nativeDraggable&&fe(document,"dragover",cf);var n=this.options;!e&&Ye(U,n.dragClass,!1),Ye(U,n.ghostClass,!0),te.active=this,e&&this._appendGhost(),We({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(lt){this._lastX=lt.clientX,this._lastY=lt.clientY,Il();for(var e=document.elementFromPoint(lt.clientX,lt.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(lt.clientX,lt.clientY),e!==t);)t=e;if(U.parentNode[Xe]._isOutsideThisEl(e),t)do{if(t[Xe]){var n=void 0;if(n=t[Xe]._onDragOver({clientX:lt.clientX,clientY:lt.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Tl()}},_onTouchMove:function(e){if(Ht){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,s=oe&&sn(oe,!0),a=oe&&s&&s.a,l=oe&&s&&s.d,i=Jn&&Fe&&ua(Fe),c=(o.clientX-Ht.clientX+r.x)/(a||1)+(i?i[0]-Jo[0]:0)/(a||1),u=(o.clientY-Ht.clientY+r.y)/(l||1)+(i?i[1]-Jo[1]:0)/(l||1);if(!te.active&&!tn){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(oe){s?(s.e+=c-(Ko||0),s.f+=u-(Qo||0)):s={a:1,b:0,c:0,d:1,e:c,f:u};var p="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");ee(oe,"webkitTransform",p),ee(oe,"mozTransform",p),ee(oe,"msTransform",p),ee(oe,"transform",p),Ko=c,Qo=u,lt=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!oe){var e=this.options.fallbackOnBody?document.body:xe,t=$e(U,!0,Jn,!0,e),n=this.options;if(Jn){for(Fe=e;ee(Fe,"position")==="static"&&ee(Fe,"transform")==="none"&&Fe!==document;)Fe=Fe.parentNode;Fe!==document.body&&Fe!==document.documentElement?(Fe===document&&(Fe=_t()),t.top+=Fe.scrollTop,t.left+=Fe.scrollLeft):Fe=_t(),Jo=ua(Fe)}oe=U.cloneNode(!0),Ye(oe,n.ghostClass,!1),Ye(oe,n.fallbackClass,!0),Ye(oe,n.dragClass,!0),ee(oe,"transition",""),ee(oe,"transform",""),ee(oe,"box-sizing","border-box"),ee(oe,"margin",0),ee(oe,"top",t.top),ee(oe,"left",t.left),ee(oe,"width",t.width),ee(oe,"height",t.height),ee(oe,"opacity","0.8"),ee(oe,"position",Jn?"absolute":"fixed"),ee(oe,"zIndex","100000"),ee(oe,"pointerEvents","none"),te.ghost=oe,e.appendChild(oe),ee(oe,"transform-origin",da/parseInt(oe.style.width)*100+"% "+fa/parseInt(oe.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;if(Ge("dragStart",this,{evt:e}),te.eventCanceled){this._onDrop();return}Ge("setupClone",this),te.eventCanceled||(Ee=kl(U),Ee.removeAttribute("id"),Ee.draggable=!1,Ee.style["will-change"]="",this._hideClone(),Ye(Ee,this.options.chosenClass,!1),te.clone=Ee),n.cloneId=po(function(){Ge("clone",n),!te.eventCanceled&&(n.options.removeCloneOnHide||xe.insertBefore(Ee,U),n._hideClone(),We({sortable:n,name:"clone"}))}),!t&&Ye(U,o.dragClass,!0),t?(yo=!0,n._loopId=setInterval(n._emulateDragOver,50)):(ie(document,"mouseup",n._onDrop),ie(document,"touchend",n._onDrop),ie(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,U)),fe(document,"drop",n),ee(U,"transform","translateZ(0)")),tn=!0,n._dragStartId=po(n._dragStarted.bind(n,t,e)),fe(document,"selectstart",n),wn=!0,Cn&&ee(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,r,o,s,a=this.options,l=a.group,i=te.active,c=Kn===l,u=a.sort,p=Re||i,h,d=this,y=!1;if(kr)return;function v(Ne,kt){Ge(Ne,d,yt({evt:e,isOwner:c,axis:h?"vertical":"horizontal",revert:s,dragRect:r,targetRect:o,canSort:u,fromSortable:p,target:n,completed:m,onMove:function(je,St){return Zn(xe,t,U,r,je,$e(je),e,St)},changed:k},kt))}function w(){v("dragOverAnimationCapture"),d.captureAnimationState(),d!==p&&p.captureAnimationState()}function m(Ne){return v("dragOverCompleted",{insertion:Ne}),Ne&&(c?i._hideClone():i._showClone(d),d!==p&&(Ye(U,Re?Re.options.ghostClass:i.options.ghostClass,!1),Ye(U,a.ghostClass,!0)),Re!==d&&d!==te.active?Re=d:d===te.active&&Re&&(Re=null),p===d&&(d._ignoreWhileAnimating=n),d.animateAll(function(){v("dragOverAnimationComplete"),d._ignoreWhileAnimating=null}),d!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===U&&!U.animated||n===t&&!n.animated)&&(Zt=null),!a.dragoverBubble&&!e.rootEl&&n!==document&&(U.parentNode[Xe]._isOutsideThisEl(e.target),!Ne&&jt(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function k(){qe=tt(U),Lt=tt(U,a.draggable),We({sortable:d,name:"change",toEl:t,newIndex:qe,newDraggableIndex:Lt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=it(n,a.draggable,t,!0),v("dragOver"),te.eventCanceled)return y;if(U.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||d._ignoreWhileAnimating===n)return m(!1);if(yo=!1,i&&!a.disabled&&(c?u||(s=Ce!==xe):Re===this||(this.lastPutMode=Kn.checkPull(this,i,U,e))&&l.checkPut(this,i,U,e))){if(h=this._getDirection(e,n)==="vertical",r=$e(U),v("dragOverValid"),te.eventCanceled)return y;if(s)return Ce=xe,w(),this._hideClone(),v("revert"),te.eventCanceled||(Gt?xe.insertBefore(U,Gt):xe.appendChild(U)),m(!0);var E=Vr(t,a.draggable);if(!E||pf(e,h,this)&&!E.animated){if(E===U)return m(!1);if(E&&t===e.target&&(n=E),n&&(o=$e(n)),Zn(xe,t,U,r,n,o,e,!!n)!==!1)return w(),E&&E.nextSibling?t.insertBefore(U,E.nextSibling):t.appendChild(U),Ce=t,k(),m(!0)}else if(E&&ff(e,h,this)){var S=un(t,0,a,!0);if(S===U)return m(!1);if(n=S,o=$e(n),Zn(xe,t,U,r,n,o,e,!1)!==!1)return w(),t.insertBefore(U,S),Ce=t,k(),m(!0)}else if(n.parentNode===t){o=$e(n);var N=0,L,D=U.parentNode!==t,x=!af(U.animated&&U.toRect||r,n.animated&&n.toRect||o,h),T=h?"top":"left",W=ca(n,"top","top")||ca(U,"top","top"),Q=W?W.scrollTop:void 0;Zt!==n&&(L=o[T],Dn=!1,Qn=!x&&a.invertSwap||D),N=hf(e,n,o,h,x?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Qn,Zt===n);var I;if(N!==0){var R=tt(U);do R-=N,I=Ce.children[R];while(I&&(ee(I,"display")==="none"||I===oe))}if(N===0||I===n)return m(!1);Zt=n,An=N;var M=n.nextElementSibling,j=!1;j=N===1;var re=Zn(xe,t,U,r,n,o,e,j);if(re!==!1)return(re===1||re===-1)&&(j=re===1),kr=!0,setTimeout(df,30),w(),j&&!M?t.appendChild(U):n.parentNode.insertBefore(U,j?M:n),W&&wl(W,0,Q-W.scrollTop),Ce=U.parentNode,L!==void 0&&!Qn&&(fo=Math.abs(L-$e(n)[T])),k(),m(!0)}if(t.contains(U))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ie(document,"mousemove",this._onTouchMove),ie(document,"touchmove",this._onTouchMove),ie(document,"pointermove",this._onTouchMove),ie(document,"dragover",jt),ie(document,"mousemove",jt),ie(document,"touchmove",jt)},_offUpEvents:function(){var e=this.el.ownerDocument;ie(e,"mouseup",this._onDrop),ie(e,"touchend",this._onDrop),ie(e,"pointerup",this._onDrop),ie(e,"touchcancel",this._onDrop),ie(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(qe=tt(U),Lt=tt(U,n.draggable),Ge("drop",this,{evt:e}),Ce=U&&U.parentNode,qe=tt(U),Lt=tt(U,n.draggable),te.eventCanceled){this._nulling();return}tn=!1,Qn=!1,Dn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Sr(this.cloneId),Sr(this._dragStartId),this.nativeDraggable&&(ie(document,"drop",this),ie(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Cn&&ee(document.body,"user-select",""),ee(U,"transform",""),e&&(wn&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),oe&&oe.parentNode&&oe.parentNode.removeChild(oe),(xe===Ce||Re&&Re.lastPutMode!=="clone")&&Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee),U&&(this.nativeDraggable&&ie(U,"dragend",this),Zo(U),U.style["will-change"]="",wn&&!tn&&Ye(U,Re?Re.options.ghostClass:this.options.ghostClass,!1),Ye(U,this.options.chosenClass,!1),We({sortable:this,name:"unchoose",toEl:Ce,newIndex:null,newDraggableIndex:null,originalEvent:e}),xe!==Ce?(qe>=0&&(We({rootEl:Ce,name:"add",toEl:Ce,fromEl:xe,originalEvent:e}),We({sortable:this,name:"remove",toEl:Ce,originalEvent:e}),We({rootEl:Ce,name:"sort",toEl:Ce,fromEl:xe,originalEvent:e}),We({sortable:this,name:"sort",toEl:Ce,originalEvent:e})),Re&&Re.save()):qe!==rn&&qe>=0&&(We({sortable:this,name:"update",toEl:Ce,originalEvent:e}),We({sortable:this,name:"sort",toEl:Ce,originalEvent:e})),te.active&&((qe==null||qe===-1)&&(qe=rn,Lt=Tn),We({sortable:this,name:"end",toEl:Ce,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ge("nulling",this),xe=U=Ce=oe=Gt=Ee=uo=$t=Ht=lt=wn=qe=Lt=rn=Tn=Zt=An=Re=Kn=te.dragged=te.ghost=te.clone=te.active=null,ko.forEach(function(e){e.checked=!0}),ko.length=Ko=Qo=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":U&&(this._onDragOver(e),uf(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,r=0,o=n.length,s=this.options;r<o;r++)t=n[r],it(t,s.draggable,this.el,!1)&&e.push(t.getAttribute(s.dataIdAttr)||mf(t));return e},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(o,s){var a=r.children[s];it(a,this.options.draggable,r,!1)&&(n[o]=a)},this),t&&this.captureAnimationState(),e.forEach(function(o){n[o]&&(r.removeChild(n[o]),r.appendChild(n[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return it(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var r=Un.modifyOption(this,e,t);typeof r<"u"?n[e]=r:n[e]=t,e==="group"&&Cl(n)},destroy:function(){Ge("destroy",this);var e=this.el;e[Xe]=null,ie(e,"mousedown",this._onTapStart),ie(e,"touchstart",this._onTapStart),ie(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ie(e,"dragover",this),ie(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),wo.splice(wo.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!$t){if(Ge("hideClone",this),te.eventCanceled)return;ee(Ee,"display","none"),this.options.removeCloneOnHide&&Ee.parentNode&&Ee.parentNode.removeChild(Ee),$t=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if($t){if(Ge("showClone",this),te.eventCanceled)return;U.parentNode==xe&&!this.options.group.revertClone?xe.insertBefore(Ee,U):Gt?xe.insertBefore(Ee,Gt):xe.appendChild(Ee),this.options.group.revertClone&&this.animate(U,Ee),ee(Ee,"display",""),$t=!1}}};function uf(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Zn(e,t,n,r,o,s,a,l){var i,c=e[Xe],u=c.options.onMove,p;return window.CustomEvent&&!Nt&&!Wn?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=t,i.from=e,i.dragged=n,i.draggedRect=r,i.related=o||t,i.relatedRect=s||$e(t),i.willInsertAfter=l,i.originalEvent=a,e.dispatchEvent(i),u&&(p=u.call(c,i,a)),p}function Zo(e){e.draggable=!1}function df(){kr=!1}function ff(e,t,n){var r=$e(un(n.el,0,n.options,!0)),o=Sl(n.el,n.options,oe),s=10;return t?e.clientX<o.left-s||e.clientY<r.top&&e.clientX<r.right:e.clientY<o.top-s||e.clientY<r.bottom&&e.clientX<r.left}function pf(e,t,n){var r=$e(Vr(n.el,n.options.draggable)),o=Sl(n.el,n.options,oe),s=10;return t?e.clientX>o.right+s||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>o.bottom+s||e.clientX>r.right&&e.clientY>r.top}function hf(e,t,n,r,o,s,a,l){var i=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,p=r?n.bottom:n.right,h=!1;if(!a){if(l&&fo<c*o){if(!Dn&&(An===1?i>u+c*s/2:i<p-c*s/2)&&(Dn=!0),Dn)h=!0;else if(An===1?i<u+fo:i>p-fo)return-An}else if(i>u+c*(1-o)/2&&i<p-c*(1-o)/2)return gf(t)}return h=h||a,h&&(i<u+c*s/2||i>p-c*s/2)?i>u+c/2?1:-1:0}function gf(e){return tt(U)<tt(e)?1:-1}function mf(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function vf(e){ko.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&ko.push(r)}}function po(e){return setTimeout(e,0)}function Sr(e){return clearTimeout(e)}Oo&&fe(document,"touchmove",function(e){(te.active||tn)&&e.cancelable&&e.preventDefault()});te.utils={on:fe,off:ie,css:ee,find:_l,is:function(e,t){return!!it(e,t,e,!1)},extend:Jd,throttle:yl,closest:it,toggleClass:Ye,clone:kl,index:tt,nextTick:po,cancelNextTick:Sr,detectDirection:El,getChild:un};te.get=function(e){return e[Xe]};te.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(te.utils=yt(yt({},te.utils),r.utils)),Un.mount(r)})};te.create=function(e,t){return new te(e,t)};te.version=Xd;var Le=[],kn,xr,Er=!1,er,tr,So,Sn;function bf(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?fe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?fe(document,"pointermove",this._handleFallbackAutoScroll):n.touches?fe(document,"touchmove",this._handleFallbackAutoScroll):fe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?ie(document,"dragover",this._handleAutoScroll):(ie(document,"pointermove",this._handleFallbackAutoScroll),ie(document,"touchmove",this._handleFallbackAutoScroll),ie(document,"mousemove",this._handleFallbackAutoScroll)),ha(),ho(),Zd()},nulling:function(){So=xr=kn=Er=Sn=er=tr=null,Le.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var r=this,o=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(o,s);if(So=t,n||this.options.forceAutoScrollFallback||Wn||Nt||Cn){nr(t,this.options,a,n);var l=Pt(a,!0);Er&&(!Sn||o!==er||s!==tr)&&(Sn&&ha(),Sn=setInterval(function(){var i=Pt(document.elementFromPoint(o,s),!0);i!==l&&(l=i,ho()),nr(t,r.options,i,n)},10),er=o,tr=s)}else{if(!this.options.bubbleScroll||Pt(a,!0)===_t()){ho();return}nr(t,this.options,Pt(a,!1),!1)}}},At(e,{pluginName:"scroll",initializeByDefault:!0})}function ho(){Le.forEach(function(e){clearInterval(e.pid)}),Le=[]}function ha(){clearInterval(Sn)}var nr=yl(function(e,t,n,r){if(t.scroll){var o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,i=_t(),c=!1,u;xr!==n&&(xr=n,ho(),kn=t.scroll,u=t.scrollFn,kn===!0&&(kn=Pt(n,!0)));var p=0,h=kn;do{var d=h,y=$e(d),v=y.top,w=y.bottom,m=y.left,k=y.right,E=y.width,S=y.height,N=void 0,L=void 0,D=d.scrollWidth,x=d.scrollHeight,T=ee(d),W=d.scrollLeft,Q=d.scrollTop;d===i?(N=E<D&&(T.overflowX==="auto"||T.overflowX==="scroll"||T.overflowX==="visible"),L=S<x&&(T.overflowY==="auto"||T.overflowY==="scroll"||T.overflowY==="visible")):(N=E<D&&(T.overflowX==="auto"||T.overflowX==="scroll"),L=S<x&&(T.overflowY==="auto"||T.overflowY==="scroll"));var I=N&&(Math.abs(k-o)<=a&&W+E<D)-(Math.abs(m-o)<=a&&!!W),R=L&&(Math.abs(w-s)<=a&&Q+S<x)-(Math.abs(v-s)<=a&&!!Q);if(!Le[p])for(var M=0;M<=p;M++)Le[M]||(Le[M]={});(Le[p].vx!=I||Le[p].vy!=R||Le[p].el!==d)&&(Le[p].el=d,Le[p].vx=I,Le[p].vy=R,clearInterval(Le[p].pid),(I!=0||R!=0)&&(c=!0,Le[p].pid=setInterval((function(){r&&this.layer===0&&te.active._onTouchMove(So);var j=Le[this.layer].vy?Le[this.layer].vy*l:0,re=Le[this.layer].vx?Le[this.layer].vx*l:0;typeof u=="function"&&u.call(te.dragged.parentNode[Xe],re,j,e,So,Le[this.layer].el)!=="continue"||wl(Le[this.layer].el,re,j)}).bind({layer:p}),24))),p++}while(t.bubbleScroll&&h!==i&&(h=Pt(h,!1)));Er=c}},30),Al=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,s=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var i=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);l(),i&&!i.el.contains(u)&&(s("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function zr(){}zr.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=un(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Al};At(zr,{pluginName:"revertOnSpill"});function Yr(){}Yr.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:Al};At(Yr,{pluginName:"removeOnSpill"});te.mount(new bf);te.mount(Yr,zr);function _f(e){return e==null?e:JSON.parse(JSON.stringify(e))}function yf(e){Io()&&Dt(e)}function wf(e){Io()?Ze(e):To(e)}let Dl=null,Nl=null;function ga(e=null,t=null){Dl=e,Nl=t}function kf(){return{data:Dl,clonedData:Nl}}const ma=Symbol("cloneElement");function Sf(...e){var t,n;const r=(t=Io())==null?void 0:t.proxy;let o=null;const s=e[0];let[,a,l]=e;Array.isArray(g(a))||(l=a,a=null);let i=null;const{immediate:c=!0,clone:u=_f,customUpdate:p}=(n=g(l))!=null?n:{};function h(x){var T;const{from:W,oldIndex:Q,item:I}=x;o=Array.from(W.childNodes);const R=g((T=g(a))==null?void 0:T[Q]),M=u(R);ga(R,M),I[ma]=M}function d(x){const T=x.item[ma];if(!Fd(T)){if(Yo(x.item),no(a)){const W=[...g(a)];a.value=oa(W,x.newDraggableIndex,T);return}oa(g(a),x.newDraggableIndex,T)}}function y(x){const{from:T,item:W,oldIndex:Q,oldDraggableIndex:I,pullMode:R,clone:M}=x;if(ra(T,W,Q),R==="clone"){Yo(M);return}if(no(a)){const j=[...g(a)];a.value=na(j,I);return}na(g(a),I)}function v(x){if(p){p(x);return}const{from:T,item:W,oldIndex:Q,newIndex:I}=x;if(Yo(W),ra(T,W,Q),no(a)){const R=[...g(a)];a.value=ta(R,Q,I);return}ta(g(a),Q,I)}function w(x){const{newIndex:T,oldIndex:W,from:Q,to:I}=x;let R=null;const M=T===W&&Q===I;try{if(M){let j=null;o==null||o.some((re,Ne)=>{if(j&&(o==null?void 0:o.length)!==I.childNodes.length)return Q.insertBefore(j,re.nextSibling),!0;const kt=I.childNodes[Ne];j=I==null?void 0:I.replaceChild(re,kt)})}}catch(j){R=j}finally{o=null}To(()=>{if(ga(),R)throw R})}const m={onUpdate:v,onStart:h,onAdd:d,onRemove:y,onEnd:w};function k(x){const T=g(s);return x||(x=Bd(T)?Wd(T,r==null?void 0:r.$el):T),x&&!jd(x)&&(x=x.$el),x||Od("Root element not found"),x}function E(){var x;const T=(x=g(l))!=null?x:{},{immediate:W,clone:Q}=T,I=hl(T,["immediate","clone"]);return sa(I,(R,M)=>{Gd(R)&&(I[R]=(j,...re)=>{const Ne=kf();return Vd(j,Ne),M(j,...re)})}),Hd(a===null?{}:m,I)}const S=x=>{x=k(x),i&&N.destroy(),i=new te(x,E())};Qe(()=>l,()=>{i&&sa(E(),(x,T)=>{i==null||i.option(x,T)})},{deep:!0});const N={option:(x,T)=>i==null?void 0:i.option(x,T),destroy:()=>{i==null||i.destroy(),i=null},save:()=>i==null?void 0:i.save(),toArray:()=>i==null?void 0:i.toArray(),closest:(...x)=>i==null?void 0:i.closest(...x)},L=()=>N==null?void 0:N.option("disabled",!0),D=()=>N==null?void 0:N.option("disabled",!1);return wf(()=>{c&&S()}),yf(N.destroy),on({start:S,pause:L,resume:D},N)}const Cr=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],xf=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...Cr.map(e=>`on${e.replace(/^\S/,t=>t.toUpperCase())}`)],Ll=Te({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:xf,emits:["update:modelValue",...Cr],setup(e,{slots:t,emit:n,expose:r,attrs:o}){const s=Cr.reduce((u,p)=>{const h=`on${p.replace(/^\S/,d=>d.toUpperCase())}`;return u[h]=(...d)=>n(p,...d),u},{}),a=ne(()=>{const u=Ql(e),{modelValue:p}=u,h=hl(u,["modelValue"]),d=Object.entries(h).reduce((y,[v,w])=>{const m=g(w);return m!==void 0&&(y[v]=m),y},{});return on(on({},s),Md(on(on({},o),d)))}),l=ne({get:()=>e.modelValue,set:u=>n("update:modelValue",u)}),i=H(),c=Jl(Sf(e.target||i,l,a));return r(c),()=>{var u;return Ln(e.tag||"div",{ref:i},(u=t==null?void 0:t.default)==null?void 0:u.call(t,c))}}}),Ef={class:"dock-container","data-dock-bar":""},Cf={class:"dock-bar glass-dock animate-slide-up-dock"},If={class:"dock-scrollable"},Tf={class:"dock-content"},Af={class:"dock-tooltip"},Df=["onClick"],Nf=["src","alt"],Lf={class:"dock-tooltip"},$f=Te({__name:"DockBar",props:{showGrid:{type:Boolean}},emits:["toggle-grid","open-notes"],setup(e,{emit:t}){const{t:n}=He(),r=t,o=Lo(),s=st(),a=H(!1);function l(){a.value=("ontouchstart"in window||navigator.maxTouchPoints>0)&&window.innerWidth<768}Ze(()=>{l(),window.addEventListener("resize",l),window.addEventListener("orientationchange",l)}),Dt(()=>{window.removeEventListener("resize",l),window.removeEventListener("orientationchange",l)});const i=H([]);Qe(()=>o.dockApps,d=>{i.value=[...d]},{immediate:!0,deep:!0});async function c(){try{await o.reorderDockApps(i.value)}catch(d){console.error("保存 dock 应用顺序失败:",d)}}function u(d){d==="#theme-toggle"?s.toggleTheme():d==="#notes"?r("open-notes"):window.open(d,"_blank")}function p(d){return!d.iconColor}function h(d){if(d.iconColor)return{"--dock-icon-color":d.iconColor}}return(d,y)=>(C(),P("div",Ef,[f("div",Cf,[f("div",If,[f("div",Tf,[f("button",{class:"dock-icon dock-icon-wrapper",onClick:y[0]||(y[0]=ae(v=>r("toggle-grid"),["stop"]))},[B(g(V),{icon:"ri:apps-2-line",class:J(["dock-icon-size",e.showGrid?"text-accent":"text-muted"])},null,8,["class"]),f("span",Af,$(g(n)("dock.apps")),1)]),B(g(Ll),{modelValue:i.value,"onUpdate:modelValue":y[1]||(y[1]=v=>i.value=v),animation:150,disabled:a.value,class:"dock-draggable-contents",onEnd:c},{default:le(()=>[(C(!0),P(be,null,De(i.value,v=>(C(),P("button",{key:v.id,class:"dock-icon dock-icon-wrapper",style:Ke(h(v)),onClick:ae(w=>u(v.url),["stop"])},[v.iconType==="iconify"?(C(),ce(g(V),{key:0,icon:v.icon,class:J(["dock-icon-size",{"dock-icon-default-color":p(v),"dock-icon-custom-color":!p(v)}])},null,8,["icon","class"])):v.iconType==="url"?(C(),P("img",{key:1,src:v.icon,alt:v.name,class:"object-contain dock-icon-size"},null,8,Nf)):(C(),P("span",{key:2,class:J(["text-base font-semibold sm:text-lg",{"dock-icon-default-color":p(v),"dock-icon-custom-color":!p(v)}])},$(v.name.charAt(0)),3)),f("span",Lf,$(v.name),1)],12,Df))),128))]),_:1},8,["modelValue","disabled"])])])])]))}}),Pf=Me($f,[["__scopeId","data-v-d6963645"]]),Of={class:"mb-4 text-xl font-semibold text-primary"},Rf={class:"block mb-1 text-sm font-medium text-secondary"},Mf=["placeholder"],Ff={class:"block mb-1 text-sm font-medium text-secondary"},Bf=["placeholder"],Wf={class:"block mb-1 text-sm font-medium text-secondary"},Uf={class:"flex items-center gap-2 mb-2"},Hf={class:"icon-grid-wrapper"},jf={class:"icon-grid"},Gf=["onClick"],Vf={class:"block mb-1 text-sm font-medium text-secondary"},zf={class:"flex flex-wrap gap-1"},Yf=["onClick"],qf={class:"flex items-center gap-2"},Xf={for:"isInDock",class:"text-sm text-secondary"},Kf={class:"flex justify-end gap-3 pt-4"},Qf={type:"submit",class:"px-6 py-2 text-white transition-colors rounded-lg btn-accent"},Jf=Te({__name:"EditAppDialog",props:{app:{},isNew:{type:Boolean}},emits:["save","close"],setup(e,{emit:t}){const{t:n}=He(),r=e,o=t,s=H({...r.app});Qe(()=>r.app,p=>{s.value={...p}},{immediate:!0});const a=["ri:home-line","ri:search-line","ri:settings-3-line","ri:user-line","ri:heart-line","ri:star-line","ri:bookmark-line","ri:folder-line","ri:file-line","ri:image-line","ri:video-line","ri:music-line","ri:mail-line","ri:message-line","ri:notification-line","ri:calendar-line","ri:time-line","ri:map-pin-line","ri:shopping-cart-line","ri:wallet-line","ri:bank-card-line","ri:gift-line","ri:trophy-line","ri:gamepad-line","ri:code-line","ri:terminal-line","ri:github-fill","ri:twitter-x-line","ri:instagram-line","ri:youtube-line","ri:bilibili-line","ri:netease-cloud-music-line","ri:spotify-line","ri:apple-fill","ri:google-fill","ri:microsoft-fill","ri:amazon-fill","ri:facebook-circle-fill","ri:linkedin-fill","ri:discord-fill","ri:telegram-fill","ri:whatsapp-line","ri:wechat-line","ri:qq-line","ri:weibo-line","ri:zhihu-line","ri:douban-line","ri:dribbble-line","ri:behance-line"],l=["#333333","#666666","#999999","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548"];function i(){!s.value.name||!s.value.url||o("save",s.value)}function c(p){s.value.icon=p}function u(p){s.value.iconColor=p}return(p,h)=>(C(),P("div",{class:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50",onClick:h[6]||(h[6]=ae(d=>o("close"),["self"]))},[f("div",{class:"w-full max-w-md p-6 shadow-2xl dialog-bg rounded-2xl animate-scale-in",onClick:h[5]||(h[5]=ae(()=>{},["stop"]))},[f("h2",Of,$(e.isNew?g(n)("editApp.addApp"):g(n)("editApp.editApp")),1),f("form",{class:"space-y-4",onSubmit:ae(i,["prevent"])},[f("div",null,[f("label",Rf,$(g(n)("editApp.name")),1),dt(f("input",{"onUpdate:modelValue":h[0]||(h[0]=d=>s.value.name=d),type:"text",class:"w-full px-4 py-2 border rounded-lg input-bg border-color focus:ring-2 focus:ring-accent focus:border-transparent text-primary",placeholder:g(n)("editApp.namePlaceholder"),required:""},null,8,Mf),[[vt,s.value.name]])]),f("div",null,[f("label",Ff,$(g(n)("editApp.url")),1),dt(f("input",{"onUpdate:modelValue":h[1]||(h[1]=d=>s.value.url=d),type:"url",class:"w-full px-4 py-2 border rounded-lg input-bg border-color focus:ring-2 focus:ring-accent focus:border-transparent text-primary",placeholder:g(n)("editApp.urlPlaceholder"),required:""},null,8,Bf),[[vt,s.value.url]])]),f("div",null,[f("label",Wf,$(g(n)("editApp.icon")),1),f("div",Uf,[f("div",{class:"flex items-center justify-center w-12 h-12 rounded-xl",style:Ke({backgroundColor:s.value.backgroundColor})},[B(g(V),{icon:s.value.icon,class:"w-6 h-6",style:Ke({color:s.value.iconColor})},null,8,["icon","style"])],4),dt(f("input",{"onUpdate:modelValue":h[2]||(h[2]=d=>s.value.icon=d),type:"text",class:"flex-1 px-4 py-2 text-sm border rounded-lg input-bg border-color focus:ring-2 focus:ring-accent focus:border-transparent text-primary",placeholder:"ri:home-line"},null,512),[[vt,s.value.icon]])]),f("div",Hf,[f("div",jf,[(C(),P(be,null,De(a,d=>f("button",{key:d,type:"button",class:J(["icon-btn",{"icon-btn-selected":s.value.icon===d}]),onClick:y=>c(d)},[B(g(V),{icon:d,class:"w-5 h-5 text-secondary"},null,8,["icon"])],10,Gf)),64))])])]),f("div",null,[f("label",Vf,$(g(n)("editApp.iconColor")),1),f("div",zf,[(C(),P(be,null,De(l,d=>f("button",{key:d,type:"button",class:J(["w-6 h-6 transition-all border-2 rounded-full",s.value.iconColor===d?"border-primary scale-110":"border-transparent"]),style:Ke({backgroundColor:d}),onClick:y=>u(d)},null,14,Yf)),64))])]),f("div",qf,[dt(f("input",{id:"isInDock","onUpdate:modelValue":h[3]||(h[3]=d=>s.value.isInDock=d),type:"checkbox",class:"w-4 h-4 rounded checkbox-accent"},null,512),[[Zl,s.value.isInDock]]),f("label",Xf,$(g(n)("editApp.addToDock")),1)]),f("div",Kf,[f("button",{type:"button",class:"px-4 py-2 transition-colors text-secondary hover:text-primary",onClick:h[4]||(h[4]=d=>o("close"))},$(g(n)("common.cancel")),1),f("button",Qf,$(g(n)("common.save")),1)])],32)])]))}}),Zf=Me(Jf,[["__scopeId","data-v-2ca1c824"]]),ep=["data-app-id","onClick"],tp=["src","alt"],np={class:"app-name"},op=["onClick"],rp=["onClick"],sp={class:"app-grid-item"},ap={class:"app-name"},lp=Te({__name:"AppGrid",emits:["open-notes"],setup(e,{emit:t}){const{t:n}=He(),r=t,o=Lo(),s=st(),a=H(window.innerWidth);function l(){a.value=window.innerWidth}Ze(()=>{window.addEventListener("resize",l)}),Dt(()=>{window.removeEventListener("resize",l)});const i=ne(()=>{const I=a.value,R=s.settings.showMoreShortcutsPerRow;return I>=1280&&R?7:I>=640||I>=480?5:4});function c(I){if(!I)return!0;const R=I.toLowerCase().trim();return R==="#ffffff"||R==="#fff"||R==="rgb(255, 255, 255)"||R==="rgba(255, 255, 255, 1)"||R==="white"}function u(I){return!I.backgroundColor||c(I.backgroundColor)}function p(I){return!I.iconColor}function h(I){const R=parseInt(I.id,10);return!isNaN(R)&&R>=1&&R<=10}function d(I){const R={};return I.backgroundColor&&!c(I.backgroundColor)&&(R["--app-bg-color"]=I.backgroundColor),I.iconColor&&(R["--app-icon-color"]=I.iconColor),Object.keys(R).length>0?R:void 0}const y=H(null),v=H(!1),w=H(!1),m=H([]),k=H(!1);Qe(()=>o.allApps,I=>{m.value=[...I]},{immediate:!0,deep:!0});function E(){k.value=!0}async function S(){k.value=!1;try{await o.reorderApps(m.value)}catch(I){console.error("保存应用顺序失败:",I)}}function N(I){k.value||(I.url==="#theme-toggle"?s.toggleTheme():I.url==="#notes"?r("open-notes"):window.open(I.url,"_blank"))}function L(I){h(I)||(y.value={...I},w.value=!1,v.value=!0)}function D(I){h(I)||confirm(n("appGrid.confirmDelete",{name:I.name}))&&o.deleteApp(I.id)}function x(){y.value={id:"",name:"",url:"",icon:"ri:link",iconType:"iconify",iconColor:"",backgroundColor:"",isInDock:!1,order:0},w.value=!0,v.value=!0}function T(I){w.value?o.addApp(I):o.updateApp(I.id,I),v.value=!1,y.value=null}function W(){v.value=!1,y.value=null}function Q(I){I.target.closest(".app-icon-card, .app-icon-card *, button, button *")&&I.stopPropagation()}return(I,R)=>(C(),P(be,null,[f("div",{class:J(["app-grid-container",{"app-grid-container-expanded":a.value>=1280&&g(s).settings.showMoreShortcutsPerRow}]),onClick:Q},[f("div",{class:"app-grid",style:Ke({gridTemplateColumns:`repeat(${i.value}, 1fr)`})},[B(g(Ll),{modelValue:m.value,"onUpdate:modelValue":R[1]||(R[1]=M=>m.value=M),animation:150,class:"draggable-contents",onStart:E,onEnd:S},{default:le(()=>[(C(!0),P(be,null,De(m.value,M=>(C(),P("div",{key:M.id,"data-app-id":M.id,class:"app-grid-item group",style:Ke(d(M)),onClick:j=>N(M)},[f("div",{class:J(["app-icon-card app-icon",{"app-icon-default-bg":u(M),"app-icon-custom-bg":!u(M),"app-icon-blur":g(s).settings.shortcutBlur}])},[M.iconType==="iconify"?(C(),ce(g(V),{key:0,icon:M.icon,class:J(["icon-size",{"app-icon-default-color":p(M),"app-icon-custom-color":!p(M)}])},null,8,["icon","class"])):M.iconType==="url"?(C(),P("img",{key:1,src:M.icon,alt:M.name,class:"object-contain icon-size"},null,8,tp)):(C(),P("span",{key:2,class:J(["text-xl font-bold sm:text-2xl",{"app-icon-default-color":p(M),"app-icon-custom-color":!p(M)}])},$(M.name.charAt(0)),3))],2),f("span",np,$(M.name),1),h(M)?Y("",!0):(C(),P("div",{key:0,class:"edit-buttons",onClick:R[0]||(R[0]=ae(()=>{},["stop"]))},[f("button",{class:"edit-btn hover:text-accent",onClick:j=>L(M)},[B(g(V),{icon:"ri:edit-line",class:"w-3 h-3 sm:w-3.5 sm:h-3.5"})],8,op),f("button",{class:"edit-btn edit-btn-delete",onClick:j=>D(M)},[B(g(V),{icon:"ri:delete-bin-line",class:"w-3 h-3 sm:w-3.5 sm:h-3.5"})],8,rp)]))],12,ep))),128))]),_:1},8,["modelValue"]),f("div",sp,[f("button",{class:"transition-all app-icon-card app-icon add-btn-bg add-btn-icon hover:add-btn-bg-hover hover:add-btn-icon-hover",onClick:ae(x,["stop"])},[B(g(V),{icon:"ri:add-line",class:"icon-size"})]),f("span",ap,$(g(n)("appGrid.add")),1)])],4)],2),v.value&&y.value?(C(),ce(Zf,{key:0,app:y.value,"is-new":w.value,onSave:T,onClose:W},null,8,["app","is-new"])):Y("",!0)],64))}}),ip=Me(lp,[["__scopeId","data-v-ac8aa012"]]),cp={class:"relative flex items-center justify-center h-12 px-5 border-b shrink-0 border-color"},up={class:"flex items-center justify-center rounded-full close-button w-9 h-9 text-muted"},dp={key:1,class:"mb-4"},fp=["placeholder"],pp={class:"dialog-content-inner"},va=60,hp="sm:w-[600px] sm:h-[500px]",gp=Te({__name:"SettingsDialog",props:rs({title:{},showLargeTitle:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!1},searchPlaceholder:{default:"搜索设置"}},{searchQuery:{default:""},searchQueryModifiers:{}}),emits:rs(["close"],["update:searchQuery"]),setup(e,{emit:t}){const n=st(),r=e,o=t,s=ei(e,"searchQuery"),a=H(null),l=H(0),i=ne(()=>r.showLargeTitle?Math.max(0,1-l.value/va):0),c=ne(()=>r.showLargeTitle?Math.min(1,l.value/va):1);function u(h){const d=h.target;l.value=d.scrollTop}function p(h){h.target===h.currentTarget&&o("close")}return(h,d)=>(C(),P("div",{class:"fixed inset-0 z-50 flex items-center justify-center dialog-backdrop dialog-perspective",onClick:ae(p,["stop"])},[f("div",{class:J(["relative w-full h-full shadow-2xl dialog-bg sm:rounded-2xl overflow-hidden flex flex-col dialog-card",hp,{"no-tilt":g(n).settings.reduceMotion}]),onClick:d[2]||(d[2]=ae(()=>{},["stop"]))},[f("div",cp,[f("h2",{class:"text-sm font-semibold transition-opacity duration-200 text-primary",style:Ke({opacity:c.value})},$(e.title),5),f("div",{class:"absolute top-0 right-0 flex items-center justify-end w-24 h-12 pr-3 close-trigger-zone",onClick:d[0]||(d[0]=y=>o("close"))},[f("div",up,[B(g(V),{icon:"ri:close-line",class:"w-5 h-5"})])])]),f("div",{ref_key:"scrollContainer",ref:a,class:"flex-1 min-h-0 px-5 py-4 overflow-y-auto dialog-content",onScroll:u},[e.showLargeTitle?(C(),P("h1",{key:0,class:"mb-4 text-xl font-bold transition-opacity duration-200 text-primary",style:Ke({opacity:i.value})},$(e.title),5)):Y("",!0),e.showSearch?(C(),P("div",dp,[dt(f("input",{"onUpdate:modelValue":d[1]||(d[1]=y=>s.value=y),type:"text",placeholder:e.searchPlaceholder,class:"w-full px-3 py-2 text-sm rounded-lg search-input text-secondary placeholder:text-muted focus:outline-none"},null,8,fp),[[vt,s.value]])])):Y("",!0),f("div",pp,[ti(h.$slots,"default",{},void 0)])],544)],2)]))}}),Hn=Me(gp,[["__scopeId","data-v-31440272"]]),mp={class:"space-y-4"},vp={key:0},bp={class:"section-title"},_p={class:"space-y-2"},yp={key:0,class:"setting-item"},wp={class:"setting-item-label"},kp={class:"label-text"},Sp={key:0,class:"dark-mode-dropdown"},xp=["onClick"],Ep={class:"flex-1 text-left"},Cp={class:"setting-item-label"},Ip={class:"extension-hint"},Tp={class:"text-warning"},Ap={class:"label-text text-muted"},Dp={key:1,class:"setting-item"},Np={class:"setting-item-label"},Lp={class:"label-text"},$p={key:0,class:"label-description"},Pp=["onClick"],Op={key:2,class:"flex flex-col gap-2 px-3 py-2.5 rounded-lg setting-item-bg"},Rp={class:"text-sm text-secondary"},Mp={class:"flex-1 text-left truncate"},Fp={key:0,class:"custom-dropdown"},Bp=["onClick"],Wp={class:"flex-1 text-left"},Up={key:1,class:"flex flex-col gap-2 px-3 py-2.5 rounded-lg setting-item-bg"},Hp={class:"text-sm text-secondary"},jp={class:"flex-1 text-left truncate"},Gp={key:0,class:"custom-dropdown"},Vp=["onClick"],zp={class:"flex-1 text-left"},Yp={key:2,class:"flex flex-col gap-2 px-3 py-2.5 rounded-lg setting-item-bg"},qp={class:"text-sm text-secondary"},Xp=["value","placeholder"],Kp={key:3,class:"flex flex-col gap-2 px-3 py-2.5 rounded-lg setting-item-bg"},Qp={class:"text-sm text-secondary"},Jp={class:"flex-1 text-left truncate"},Zp={key:0,class:"custom-dropdown"},eh=["onClick"],th={class:"flex-1 text-left"},nh={key:4,class:"setting-item reset-item"},oh={class:"setting-item-label"},rh={class:"label-text"},sh={class:"label-description"},ah={key:1},lh={class:"section-title"},ih={class:"space-y-2"},ch={class:"setting-item"},uh={class:"setting-item-label"},dh={class:"label-text"},fh={class:"flex gap-2"},ph=["onClick"],hh={class:"setting-item"},gh={class:"setting-item-label"},mh={class:"label-text"},vh={key:0,class:"dark-mode-dropdown"},bh=["onClick"],_h={class:"flex-1 text-left"},yh={class:"setting-item"},wh={class:"setting-item-label"},kh={class:"label-text"},Sh={key:0,class:"py-8 text-center"},xh={class:"text-muted"},Eh={class:"confirm-header"},Ch={class:"confirm-title"},Ih={class:"confirm-message"},Th={class:"confirm-actions"},Ah={class:"confirm-header"},Dh={class:"confirm-title"},Nh={class:"confirm-message"},Lh={class:"confirm-actions"},$h=Te({__name:"GeneralSettings",emits:["close"],setup(e,{emit:t}){const{t:n}=He(),r=t,o=st(),s=Lo(),a=H(""),l=H(!1),i=H(!1),c=[{value:"green",color:"#4ade80"},{value:"cyan",color:"#60d4f8"},{value:"purple",color:"#a78bfa"},{value:"red",color:"#f87171"},{value:"blue",color:"#3578F7"}];function u(Z){o.updateSettings({accentColor:Z})}const p=ne(()=>[{value:"system",label:n("generalSettings.darkModeSystem")},{value:"dark",label:n("generalSettings.darkModeOn")},{value:"light",label:n("generalSettings.darkModeOff")}]),h=H(!1),d=H();function y(){h.value=!h.value}function v(Z){o.setTheme(Z),h.value=!1}function w(Z){const G=d.value;G&&Z.target instanceof Node&&typeof G.contains=="function"&&!G.contains(Z.target)&&(h.value=!1)}function m(){const Z=p.value.find(G=>G.value===o.settings.theme);return(Z==null?void 0:Z.label)||n("generalSettings.darkModeOff")}const k=[{value:"zh-CN",label:"简体中文"},{value:"zh-TW",label:"繁體中文"},{value:"en",label:"English"}],E=H(!1),S=H();function N(){E.value=!E.value}function L(Z){o.updateSettings({language:Z}),E.value=!1}function D(Z){const G=S.value;G&&Z.target instanceof Node&&typeof G.contains=="function"&&!G.contains(Z.target)&&(E.value=!1)}function x(){const Z=k.find(G=>G.value===o.settings.language);return(Z==null?void 0:Z.label)||"简体中文"}const T=ne(()=>[{value:"searchEngine",label:n("generalSettings.tabSwitchEngine")},{value:"searchSuggestion",label:n("generalSettings.tabSwitchSuggestion")},{value:"recentEngine",label:n("generalSettings.tabSwitchRecent")},{value:"nextControl",label:n("generalSettings.tabSwitchControl")}]),W=H(!1),Q=H();function I(){W.value=!W.value}function R(Z){o.updateSettings({tabSwitchBehavior:Z}),W.value=!1}function M(Z){const G=Q.value;G&&Z.target instanceof Node&&typeof G.contains=="function"&&!G.contains(Z.target)&&(W.value=!1)}Ze(()=>{document.addEventListener("click",M),document.addEventListener("click",St),document.addEventListener("click",Xt),document.addEventListener("click",w),document.addEventListener("click",D)}),Dt(()=>{document.removeEventListener("click",M),document.removeEventListener("click",St),document.removeEventListener("click",Xt),document.removeEventListener("click",D),document.removeEventListener("click",w)});const j=ne(()=>[{value:"normal",label:n("generalSettings.fontNormal")},{value:"medium",label:n("generalSettings.fontMedium")},{value:"semibold",label:n("generalSettings.fontSemibold")},{value:"bold",label:n("generalSettings.fontBold")}]),re=H(!1),Ne=H();function kt(){re.value=!re.value}function je(Z){o.updateSettings({timeFontWeight:Z}),re.value=!1}function St(Z){const G=Ne.value;G&&Z.target instanceof Node&&typeof G.contains=="function"&&!G.contains(Z.target)&&(re.value=!1)}const Ft=ne(()=>[{value:"1080p",label:n("generalSettings.resolution1080p")},{value:"original",label:n("generalSettings.resolutionOriginal")}]),pt=H(!1),qt=H();function fn(){pt.value=!pt.value}function Gn(Z){o.updateSettings({wallpaperResolution:Z}),pt.value=!1}function Xt(Z){const G=qt.value;G&&Z.target instanceof Node&&typeof G.contains=="function"&&!G.contains(Z.target)&&(pt.value=!1)}const pn=ne(()=>[{id:"theme",section:n("generalSettings.color"),label:n("generalSettings.accentColor"),type:"theme"},{id:"darkMode",section:n("generalSettings.color"),label:n("generalSettings.darkMode"),type:"select"},{id:"wallpaperVignette",section:n("generalSettings.color"),label:n("generalSettings.wallpaperVignette"),type:"toggle"},{id:"language",section:n("generalSettings.general"),label:n("generalSettings.language"),type:"select"},{id:"showPoetry",section:n("generalSettings.general"),label:n("generalSettings.poetry"),description:n("generalSettings.poetryDesc"),type:"toggle"},{id:"showFullNote",section:n("generalSettings.general"),label:n("generalSettings.showFullNote"),type:"toggle"},{id:"use24Hour",section:n("generalSettings.time"),label:n("generalSettings.use24Hour"),type:"toggle"},{id:"showSeconds",section:n("generalSettings.time"),label:n("generalSettings.showSeconds"),type:"toggle"},{id:"blinkSeparator",section:n("generalSettings.time"),label:n("generalSettings.blinkSeparator"),type:"toggle"},{id:"autoFocusSearch",section:n("generalSettings.initialization"),label:n("generalSettings.autoFocusSearch"),type:"toggle"},{id:"autoShowAppGrid",section:n("generalSettings.initialization"),label:n("generalSettings.autoShowAppGrid"),type:"toggle"},{id:"showGreeting",section:n("generalSettings.initialization"),label:n("generalSettings.showGreeting"),type:"toggle"},{id:"smoothMode",section:n("generalSettings.performance"),label:n("generalSettings.smoothMode"),description:n("generalSettings.smoothModeDesc"),type:"toggle"},{id:"reduceMotion",section:n("generalSettings.performance"),label:n("generalSettings.reduceMotion"),description:n("generalSettings.reduceMotionDesc"),type:"toggle"},{id:"searchBoxAnimation",section:n("generalSettings.performance"),label:n("generalSettings.searchBoxAnimation"),type:"toggle"},{id:"overlayBlur",section:n("generalSettings.performance"),label:n("generalSettings.overlayBlur"),description:n("generalSettings.overlayBlurDesc"),type:"toggle"},{id:"shortcutBlur",section:n("generalSettings.performance"),label:n("generalSettings.shortcutBlur"),description:n("generalSettings.shortcutBlurDesc"),type:"toggle"},{id:"autoClearSearchBar",section:n("generalSettings.searchSection"),label:n("generalSettings.autoClearSearchBar"),type:"toggle"},{id:"searchHistory",section:n("generalSettings.searchSection"),label:n("generalSettings.searchHistory"),type:"toggle"},{id:"tabSwitchBehavior",section:n("generalSettings.searchSection"),label:n("generalSettings.tabSwitchBehavior"),type:"select"},{id:"showShortcutDock",section:n("generalSettings.navigation"),label:n("generalSettings.showShortcutDock"),type:"toggle"},{id:"openInNewTab",section:n("generalSettings.navigation"),label:n("generalSettings.openInNewTab"),type:"toggle"},{id:"showMoreShortcutsPerRow",section:n("generalSettings.navigation"),label:n("generalSettings.showMoreShortcuts"),description:n("generalSettings.showMoreShortcutsDesc"),type:"toggle"}]),Bt=ne(()=>{const Z=a.value.toLowerCase().trim(),G=pn.value,ye=n("generalSettings.color"),et=n("generalSettings.general"),at=n("generalSettings.time"),K=n("generalSettings.initialization"),b=n("generalSettings.performance"),_=n("generalSettings.searchSection"),O=n("generalSettings.navigation");if(!Z)return[{name:ye,items:G.filter(q=>q.section===ye)},{name:et,items:G.filter(q=>q.section===et)},{name:at,items:G.filter(q=>q.section===at)},{name:K,items:G.filter(q=>q.section===K)},{name:b,items:G.filter(q=>q.section===b)},{name:_,items:G.filter(q=>q.section===_)},{name:O,items:G.filter(q=>q.section===O)}].filter(q=>q.items.length>0);const X=G.filter(q=>q.label.toLowerCase().includes(Z)||q.section.toLowerCase().includes(Z)),ge=new Map;return X.forEach(q=>{ge.has(q.section)||ge.set(q.section,[]),ge.get(q.section).push(q)}),Array.from(ge.entries()).map(([q,A])=>({name:q,items:A}))});function Kt(Z){const G=o.settings[Z];typeof G=="boolean"&&o.updateSettings({[Z]:!G})}function Wt(Z){return o.settings[Z]}async function hn(){await s.resetToDefault(),l.value=!1}return(Z,G)=>(C(),ce(Hn,{title:g(n)("generalSettings.title"),"show-large-title":!0,"show-search":!0,"search-placeholder":g(n)("generalSettings.searchPlaceholder"),"search-query":a.value,"onUpdate:searchQuery":G[10]||(G[10]=ye=>a.value=ye),onClose:G[11]||(G[11]=ye=>r("close"))},{default:le(()=>[f("div",mp,[(C(!0),P(be,null,De(Bt.value,ye=>{var et,at;return C(),P(be,{key:ye.name},[ye.name!==g(n)("generalSettings.color")?(C(),P("div",vp,[f("h3",bp,$(ye.name),1),f("div",_p,[ye.name===g(n)("generalSettings.general")?(C(),P("div",yp,[f("div",wp,[f("span",kp,$(g(n)("generalSettings.language")),1)]),f("div",{class:"relative",ref_for:!0,ref_key:"languageDropdownButton",ref:S},[f("button",{class:"dark-mode-select",onClick:ae(N,["stop"])},[f("span",null,$(x()),1),B(g(V),{icon:"ri:arrow-down-s-line",class:J(["w-4 h-4 transition-transform duration-200 text-muted",{"rotate-180":E.value}])},null,8,["class"])]),B(ke,{name:"dropdown"},{default:le(()=>[E.value?(C(),P("div",Sp,[(C(),P(be,null,De(k,K=>f("button",{key:K.value,class:J(["dropdown-item",{"dropdown-item-active":g(o).settings.language===K.value}]),onClick:ae(b=>L(K.value),["stop"])},[f("span",Ep,$(K.label),1),g(o).settings.language===K.value?(C(),ce(g(V),{key:0,icon:"ri:check-line",class:"w-4 h-4 text-accent"})):Y("",!0)],10,xp)),64))])):Y("",!0)]),_:1})],512)])):Y("",!0),(C(!0),P(be,null,De(ye.items,K=>{var b;return C(),P(be,{key:K.id},[K.type==="toggle"&&K.id==="autoFocusSearch"?(C(),P("div",{key:0,class:"setting-item extension-controlled",onClick:G[0]||(G[0]=_=>i.value=!0)},[f("div",Cp,[f("div",Ip,[B(g(V),{icon:"ri:alert-fill",class:"w-4 h-4 text-warning"}),f("span",Tp,$(g(n)("generalSettings.extensionControlled")),1)]),f("span",Ap,$(K.label),1)]),f("button",{class:J(["toggle-switch",{"toggle-on":Wt(K.id)}]),disabled:""},[...G[12]||(G[12]=[f("span",{class:"toggle-knob"},null,-1)])],2)])):K.type==="toggle"?(C(),P("div",Dp,[f("div",Np,[f("span",Lp,$(K.label),1),K.description?(C(),P("p",$p,$(K.description),1)):Y("",!0)]),f("button",{class:J(["toggle-switch",{"toggle-on":Wt(K.id)}]),onClick:_=>Kt(K.id)},[...G[13]||(G[13]=[f("span",{class:"toggle-knob"},null,-1)])],10,Pp)])):K.type==="select"&&K.id!=="language"?(C(),P("div",Op,[f("span",Rp,$(K.label),1),f("div",{class:"relative",ref_for:!0,ref_key:"dropdownButton",ref:Q},[f("button",{class:"custom-select",onClick:ae(I,["stop"])},[f("span",Mp,$((b=T.value.find(_=>_.value===g(o).settings.tabSwitchBehavior))==null?void 0:b.label),1),B(g(V),{icon:"ri:arrow-down-s-line",class:J(["w-4 h-4 transition-transform duration-200 text-muted",{"rotate-180":W.value}])},null,8,["class"])]),B(ke,{name:"dropdown"},{default:le(()=>[W.value?(C(),P("div",Fp,[(C(!0),P(be,null,De(T.value,_=>(C(),P("button",{key:_.value,class:J(["dropdown-item",{"dropdown-item-active":g(o).settings.tabSwitchBehavior===_.value}]),onClick:ae(O=>R(_.value),["stop"])},[f("span",Wp,$(_.label),1),g(o).settings.tabSwitchBehavior===_.value?(C(),ce(g(V),{key:0,icon:"ri:check-line",class:"w-4 h-4 text-accent"})):Y("",!0)],10,Bp))),128))])):Y("",!0)]),_:1})],512)])):Y("",!0)],64)}),128)),ye.name===g(n)("generalSettings.time")?(C(),P("div",Up,[f("span",Hp,$(g(n)("generalSettings.timeFont")),1),f("div",{class:"relative",ref_for:!0,ref_key:"fontWeightDropdownButton",ref:Ne},[f("button",{class:"custom-select",onClick:ae(kt,["stop"])},[f("span",jp,$((et=j.value.find(K=>K.value===g(o).settings.timeFontWeight))==null?void 0:et.label),1),B(g(V),{icon:"ri:arrow-down-s-line",class:J(["w-4 h-4 transition-transform duration-200 text-muted",{"rotate-180":re.value}])},null,8,["class"])]),B(ke,{name:"dropdown"},{default:le(()=>[re.value?(C(),P("div",Gp,[(C(!0),P(be,null,De(j.value,K=>(C(),P("button",{key:K.value,class:J(["dropdown-item",{"dropdown-item-active":g(o).settings.timeFontWeight===K.value}]),onClick:ae(b=>je(K.value),["stop"])},[f("span",zp,$(K.label),1),g(o).settings.timeFontWeight===K.value?(C(),ce(g(V),{key:0,icon:"ri:check-line",class:"w-4 h-4 text-accent"})):Y("",!0)],10,Vp))),128))])):Y("",!0)]),_:1})],512)])):Y("",!0),ye.name===g(n)("generalSettings.initialization")?(C(),P("div",Yp,[f("span",qp,$(g(n)("generalSettings.username")),1),f("input",{type:"text",class:"custom-input",value:g(o).settings.username,onInput:G[1]||(G[1]=K=>g(o).updateSettings({username:K.target.value})),placeholder:g(n)("generalSettings.usernamePlaceholder"),maxlength:"20"},null,40,Xp)])):Y("",!0),ye.name===g(n)("generalSettings.performance")?(C(),P("div",Kp,[f("span",Qp,$(g(n)("generalSettings.wallpaperResolution")),1),f("div",{class:"relative",ref_for:!0,ref_key:"resolutionDropdownButton",ref:qt},[f("button",{class:"custom-select",onClick:ae(fn,["stop"])},[f("span",Jp,$((at=Ft.value.find(K=>K.value===g(o).settings.wallpaperResolution))==null?void 0:at.label),1),B(g(V),{icon:"ri:arrow-down-s-line",class:J(["w-4 h-4 transition-transform duration-200 text-muted",{"rotate-180":pt.value}])},null,8,["class"])]),B(ke,{name:"dropdown"},{default:le(()=>[pt.value?(C(),P("div",Zp,[(C(!0),P(be,null,De(Ft.value,K=>(C(),P("button",{key:K.value,class:J(["dropdown-item",{"dropdown-item-active":g(o).settings.wallpaperResolution===K.value}]),onClick:ae(b=>Gn(K.value),["stop"])},[f("span",th,$(K.label),1),g(o).settings.wallpaperResolution===K.value?(C(),ce(g(V),{key:0,icon:"ri:check-line",class:"w-4 h-4 text-accent"})):Y("",!0)],10,eh))),128))])):Y("",!0)]),_:1})],512)])):Y("",!0),ye.name===g(n)("generalSettings.navigation")?(C(),P("div",nh,[f("div",oh,[f("span",rh,$(g(n)("generalSettings.resetShortcuts")),1),f("p",sh,$(g(n)("generalSettings.resetShortcutsDesc")),1)]),f("button",{class:"reset-button",onClick:G[2]||(G[2]=K=>l.value=!0)},$(g(n)("common.reset")),1)])):Y("",!0)])])):(C(),P("div",ah,[f("h3",lh,$(ye.name),1),f("div",ih,[f("div",ch,[f("div",uh,[f("span",dh,$(g(n)("generalSettings.accentColor")),1)]),f("div",fh,[(C(),P(be,null,De(c,K=>f("button",{key:K.value,class:J(["color-option",{"color-option-active":g(o).settings.accentColor===K.value}]),style:Ke({backgroundColor:K.color}),onClick:b=>u(K.value)},[g(o).settings.accentColor===K.value?(C(),ce(g(V),{key:0,icon:"ri:check-line",class:"w-4 h-4 text-white"})):Y("",!0)],14,ph)),64))])]),f("div",hh,[f("div",gh,[f("span",mh,$(g(n)("generalSettings.darkMode")),1)]),f("div",{class:"relative",ref_for:!0,ref_key:"darkModeDropdownButton",ref:d},[f("button",{class:"dark-mode-select",onClick:ae(y,["stop"])},[f("span",null,$(m()),1),B(g(V),{icon:"ri:arrow-down-s-line",class:J(["w-4 h-4 transition-transform duration-200 text-muted",{"rotate-180":h.value}])},null,8,["class"])]),B(ke,{name:"dropdown"},{default:le(()=>[h.value?(C(),P("div",vh,[(C(!0),P(be,null,De(p.value,K=>(C(),P("button",{key:K.value,class:J(["dropdown-item",{"dropdown-item-active":g(o).settings.theme===K.value}]),onClick:ae(b=>v(K.value),["stop"])},[f("span",_h,$(K.label),1),g(o).settings.theme===K.value?(C(),ce(g(V),{key:0,icon:"ri:check-line",class:"w-4 h-4 text-accent"})):Y("",!0)],10,bh))),128))])):Y("",!0)]),_:1})],512)]),f("div",yh,[f("div",wh,[f("span",kh,$(g(n)("generalSettings.wallpaperVignette")),1)]),f("button",{class:J(["toggle-switch",{"toggle-on":g(o).settings.wallpaperVignette}]),onClick:G[3]||(G[3]=K=>Kt("wallpaperVignette"))},[...G[14]||(G[14]=[f("span",{class:"toggle-knob"},null,-1)])],2)])])]))],64)}),128)),Bt.value.length===0?(C(),P("div",Sh,[B(g(V),{icon:"ri:search-line",class:"w-12 h-12 mx-auto mb-3 text-muted"}),f("p",xh,$(g(n)("generalSettings.noResults")),1)])):Y("",!0)]),B(ke,{name:"fade"},{default:le(()=>[l.value?(C(),P("div",{key:0,class:"confirm-overlay",onClick:G[6]||(G[6]=ye=>l.value=!1)},[f("div",{class:"confirm-dialog",onClick:G[5]||(G[5]=ae(()=>{},["stop"]))},[f("div",Eh,[B(g(V),{icon:"ri:alert-line",class:"confirm-icon"}),f("h3",Ch,$(g(n)("generalSettings.resetShortcutsTitle")),1)]),f("p",Ih,$(g(n)("generalSettings.resetShortcutsConfirm")),1),f("div",Th,[f("button",{class:"confirm-button confirm-button-cancel",onClick:G[4]||(G[4]=ye=>l.value=!1)},$(g(n)("common.cancel")),1),f("button",{class:"confirm-button confirm-button-primary",onClick:hn},$(g(n)("common.reset")),1)])])])):Y("",!0)]),_:1}),B(ke,{name:"fade"},{default:le(()=>[i.value?(C(),P("div",{key:0,class:"confirm-overlay",onClick:G[9]||(G[9]=ye=>i.value=!1)},[f("div",{class:"confirm-dialog",onClick:G[8]||(G[8]=ae(()=>{},["stop"]))},[f("div",Ah,[B(g(V),{icon:"ri:information-fill",class:"confirm-icon info-icon"}),f("h3",Dh,$(g(n)("generalSettings.hint")),1)]),f("p",Nh,$(g(n)("generalSettings.extensionHint")),1),f("div",Lh,[f("button",{class:"confirm-button confirm-button-primary",onClick:G[7]||(G[7]=ye=>i.value=!1)},$(g(n)("generalSettings.ok")),1)])])])):Y("",!0)]),_:1})]),_:1},8,["title","search-placeholder","search-query"]))}}),Ph=Me($h,[["__scopeId","data-v-1cd164ea"]]),Oh={class:"space-y-2"},Rh={class:"mb-4 section-description"},Mh=["onClick"],Fh={class:"flex-1 text-left"},Bh={class:"font-medium text-secondary"},Wh={class:"text-xs truncate text-muted"},Uh={class:"flex items-center gap-2"},Hh=["title","onClick"],jh=["title","onClick"],Gh={class:"mb-4 text-xl font-semibold text-primary"},Vh={class:"block mb-1 text-sm font-medium text-secondary"},zh=["placeholder"],Yh={class:"block mb-1 text-sm font-medium text-secondary"},qh=["placeholder"],Xh={class:"mt-1 text-xs text-muted"},Kh={class:"block mb-1 text-sm font-medium text-secondary"},Qh={class:"mt-1 text-xs text-muted"},Jh={class:"flex justify-end gap-3 pt-4"},Zh={type:"submit",class:"px-6 py-2 text-white transition-colors rounded-lg btn-accent"},eg=Te({__name:"SearchSettings",emits:["close"],setup(e,{emit:t}){const{t:n}=He(),r=t,o=Gr(),s=H(!1),a=H(null),l=H(""),i=H(""),c=H("ri:search-line");function u(){a.value=null,l.value="",i.value="",c.value="ri:search-line",s.value=!0}function p(v){a.value=v,l.value=v.name,i.value=v.url,c.value=v.icon,s.value=!0}function h(){const v=l.value.trim(),w=i.value.trim();if(!v||!w){alert(n("searchSettings.fillRequired"));return}if(!w.startsWith("https://")&&!w.startsWith("http://")){alert(n("searchSettings.urlInvalid"));return}if(!w.includes("%s")){alert(n("searchSettings.urlMissingPlaceholder"));return}a.value?o.updateCustomEngine(a.value.id,{name:v,url:w,icon:c.value,placeholder:`在 ${v} 中搜索`}):o.addCustomEngine({name:v,url:w,icon:c.value,placeholder:`在 ${v} 中搜索`}),y()}function d(v){confirm(n("searchSettings.confirmDelete",{name:v.name}))&&o.deleteCustomEngine(v.id)}function y(){s.value=!1,a.value=null,l.value="",i.value="",c.value="ri:search-line"}return(v,w)=>(C(),ce(Hn,{title:g(n)("searchSettings.title"),"show-large-title":!0,"show-search":!1,onClose:w[4]||(w[4]=m=>r("close"))},{default:le(()=>[f("div",Oh,[f("p",Rh,$(g(n)("searchSettings.selectDefault")),1),(C(!0),P(be,null,De(g(o).engines,m=>(C(),P("button",{key:m.id,class:J(["w-full selection-card group",{"selection-card-active":g(o).currentEngine.id===m.id}]),onClick:k=>g(o).setEngine(m.id)},[f("div",{class:J(["flex items-center justify-center w-10 h-10 rounded-lg",g(o).currentEngine.id===m.id?"bg-accent-light":"icon-bg"])},[B(g(V),{icon:m.icon,class:"w-5 h-5 text-secondary"},null,8,["icon"])],2),f("div",Fh,[f("p",Bh,$(m.name),1),f("p",Wh,$(m.url),1)]),f("div",Uh,[m.isCustom?(C(),P("button",{key:0,class:"opacity-0 custom-action-btn group-hover:opacity-100",title:g(n)("common.edit"),onClick:ae(k=>p(m),["stop"])},[B(g(V),{icon:"ri:edit-line",class:"w-4 h-4"})],8,Hh)):Y("",!0),m.isCustom?(C(),P("button",{key:1,class:"opacity-0 custom-action-btn custom-action-btn-danger group-hover:opacity-100",title:g(n)("common.delete"),onClick:ae(k=>d(m),["stop"])},[B(g(V),{icon:"ri:delete-bin-line",class:"w-4 h-4"})],8,jh)):Y("",!0),g(o).currentEngine.id===m.id?(C(),ce(g(V),{key:2,icon:"ri:check-line",class:"w-5 h-5 text-accent"})):Y("",!0)])],10,Mh))),128)),f("button",{class:"w-full add-custom-btn",onClick:u},[B(g(V),{icon:"ri:add-line",class:"w-5 h-5"}),f("span",null,$(g(n)("searchSettings.addCustom")),1)])]),(C(),ce(ni,{to:"body"},[B(ke,{name:"dialog-fade"},{default:le(()=>[s.value?(C(),P("div",{key:0,class:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50",onClick:ae(y,["self"])},[f("div",{class:"w-full max-w-md p-6 shadow-2xl dialog-bg rounded-2xl animate-scale-in",onClick:w[3]||(w[3]=ae(()=>{},["stop"]))},[f("h2",Gh,$(a.value?g(n)("searchSettings.editCustomTitle"):g(n)("searchSettings.addCustomTitle")),1),f("form",{class:"space-y-4",onSubmit:ae(h,["prevent"])},[f("div",null,[f("label",Vh,$(g(n)("searchSettings.name")),1),dt(f("input",{"onUpdate:modelValue":w[0]||(w[0]=m=>l.value=m),type:"text",class:"w-full px-4 py-2 border rounded-lg input-bg border-color focus:ring-2 focus:ring-accent focus:border-transparent text-primary",placeholder:g(n)("searchSettings.namePlaceholder"),required:""},null,8,zh),[[vt,l.value]])]),f("div",null,[f("label",Yh,$(g(n)("searchSettings.url")),1),dt(f("input",{"onUpdate:modelValue":w[1]||(w[1]=m=>i.value=m),type:"text",class:"w-full px-4 py-2 border rounded-lg input-bg border-color focus:ring-2 focus:ring-accent focus:border-transparent text-primary",placeholder:g(n)("searchSettings.urlPlaceholder"),required:""},null,8,qh),[[vt,i.value]]),f("p",Xh,$(g(n)("searchSettings.urlHint")),1)]),f("div",null,[f("label",Kh,$(g(n)("searchSettings.icon")),1),dt(f("input",{"onUpdate:modelValue":w[2]||(w[2]=m=>c.value=m),type:"text",class:"w-full px-4 py-2 border rounded-lg input-bg border-color focus:ring-2 focus:ring-accent focus:border-transparent text-primary",placeholder:"ri:search-line"},null,512),[[vt,c.value]]),f("p",Qh,[w[5]||(w[5]=f("a",{href:"https://icon-sets.iconify.design/",target:"_blank",class:"form-link"},"Iconify",-1)),En(" "+$(g(n)("searchSettings.iconHint")),1)])]),f("div",Jh,[f("button",{type:"button",class:"px-4 py-2 transition-colors text-secondary hover:text-primary",onClick:y},$(g(n)("common.cancel")),1),f("button",Zh,$(g(n)("common.save")),1)])],32)])])):Y("",!0)]),_:1})]))]),_:1},8,["title"]))}}),tg=Me(eg,[["__scopeId","data-v-1d6ba6de"]]),ng={class:"wallpaper-settings"},og={class:"custom-section"},rg={class:"section-label"},sg={class:"custom-content"},ag=["src"],lg=["src","alt"],ig={key:2,class:"preview-placeholder"},cg={key:3,class:"video-indicator"},ug={key:0,class:"selected-badge"},dg={class:"custom-info"},fg={class:"custom-title"},pg={class:"custom-desc"},hg={class:"custom-actions"},gg={class:"today-section"},mg={class:"section-label"},vg={class:"today-preview"},bg=["src","alt"],_g={key:1,class:"preview-placeholder"},yg={key:0,class:"selected-badge"},wg={class:"today-info"},kg={class:"today-title"},Sg={class:"today-copyright"},xg={class:"today-actions"},Eg={class:"today-source"},Cg={class:"dynamic-section"},Ig={class:"section-label"},Tg={class:"wallpaper-grid wallpaper-grid-4"},Ag=["onClick"],Dg=["src","alt"],Ng={key:0,class:"selected-badge"},Lg={class:"default-section"},$g={class:"section-label"},Pg={class:"wallpaper-grid"},Og=["onClick"],Rg=["src","alt"],Mg={key:0,class:"selected-badge"},Fg={class:"url-dialog"},Bg={class:"url-dialog-title"},Wg={class:"url-dialog-actions"},Ug=Te({__name:"WallpaperSettings",emits:["close"],setup(e,{emit:t}){const{t:n}=He(),r=t,o=el(),s=H(null),a=H(!1),l=H("");Ze(()=>{o.bingWallpaper||o.fetchBingWallpaper()});const i=ne(()=>{const T=o.settings.localImages;return Array.isArray(T)&&T.length>0?T[0]:o.settings.localData?o.settings.localData:o.settings.url?o.settings.url:null}),c=ne(()=>vr(i.value)),u=ne(()=>o.settings.type==="local"||o.settings.type==="url"),p=ne(()=>o.settings.type==="bing");function h(){var T;(T=s.value)==null||T.click()}async function d(T){const W=T.target,Q=W.files;if(!Q||Q.length===0)return;const I=[];for(const R of Q){const M=await y(R);M&&I.push(M)}I.length>0&&await o.addLocalImages(I),W.value=""}function y(T){return new Promise(W=>{const Q=new FileReader;Q.onload=I=>{var R;W((R=I.target)==null?void 0:R.result)},Q.onerror=()=>{W(null)},Q.readAsDataURL(T)})}function v(){l.value=o.settings.url||"",a.value=!0}function w(){l.value.trim()&&o.setUrl(l.value.trim()),a.value=!1}function m(){a.value=!1,l.value=""}function k(){alert(n("wallpaperSettings.aiGenerateHint"))}function E(T){o.setDefaultIndex(T)}function S(T){return o.settings.type==="default"&&o.settings.defaultIndex===T}function N(T){o.setDynamicIndex(T)}function L(T){return o.settings.type==="dynamic"&&o.settings.dynamicIndex===T}function D(){o.selectBingWallpaper()}function x(){o.downloadBingWallpaper()}return(T,W)=>(C(),ce(Hn,{title:g(n)("wallpaperSettings.title"),"show-large-title":!0,"show-search":!1,onClose:W[1]||(W[1]=Q=>r("close"))},{default:le(()=>{var Q,I,R;return[f("div",ng,[f("section",og,[f("h3",rg,$(g(n)("wallpaperSettings.custom")),1),f("div",sg,[f("div",{class:J(["custom-preview",{"custom-preview-selected":u.value}])},[i.value&&c.value?(C(),P("video",{key:0,src:i.value,class:"preview-media",autoplay:"",loop:"",muted:"",playsinline:""},null,8,ag)):i.value?(C(),P("img",{key:1,src:i.value,alt:g(n)("wallpaperSettings.custom"),class:"preview-media"},null,8,lg)):(C(),P("div",ig,[B(g(V),{icon:"ri:image-add-line",class:"placeholder-icon"})])),i.value&&c.value?(C(),P("div",cg,[B(g(V),{icon:"ri:play-circle-fill",class:"video-icon"})])):Y("",!0),B(ke,{name:"check-fade"},{default:le(()=>[u.value?(C(),P("div",ug,[B(g(V),{icon:"ri:check-line",class:"check-icon"})])):Y("",!0)]),_:1})],2),f("div",dg,[f("h4",fg,$(g(n)("wallpaperSettings.customTitle")),1),f("p",pg,$(g(n)("wallpaperSettings.customDesc")),1),f("div",hg,[f("button",{class:"action-btn",onClick:h},[B(g(V),{icon:"ri:folder-image-line",class:"btn-icon"}),f("span",null,$(g(n)("wallpaperSettings.localImage")),1)]),f("button",{class:"action-btn",onClick:v},[B(g(V),{icon:"ri:link",class:"btn-icon"}),f("span",null,$(g(n)("wallpaperSettings.onlineImage")),1)]),f("button",{class:"action-btn action-btn-ai",onClick:k},[B(g(V),{icon:"ri:palette-line",class:"btn-icon"}),f("span",null,$(g(n)("wallpaperSettings.aiGenerate")),1),B(g(V),{icon:"ri:arrow-right-s-line",class:"arrow-icon"})])])])])]),f("section",gg,[f("h3",mg,$(g(n)("wallpaperSettings.today")),1),f("div",{class:J(["today-content",{"today-content-selected":p.value}]),onClick:D},[f("div",vg,[(Q=g(o).bingWallpaper)!=null&&Q.url?(C(),P("img",{key:0,src:g(o).bingWallpaper.url,alt:g(n)("wallpaperSettings.today")},null,8,bg)):(C(),P("div",_g,[g(o).loading?(C(),ce(g(V),{key:0,icon:"ri:loader-4-line",class:"placeholder-icon spinning"})):(C(),ce(g(V),{key:1,icon:"ri:image-line",class:"placeholder-icon"}))])),B(ke,{name:"check-fade"},{default:le(()=>[p.value?(C(),P("div",yg,[B(g(V),{icon:"ri:check-line",class:"check-icon"})])):Y("",!0)]),_:1})]),f("div",wg,[f("h4",kg,$(((I=g(o).bingWallpaper)==null?void 0:I.title)||g(n)("common.loading")),1),f("p",Sg,$(((R=g(o).bingWallpaper)==null?void 0:R.copyright)||""),1),f("div",xg,[f("button",{class:"today-action-btn",onClick:ae(x,["stop"])},[B(g(V),{icon:"ri:download-line",class:"btn-icon"}),f("span",null,$(g(n)("wallpaperSettings.downloadOriginal")),1)]),f("span",Eg,$(g(n)("wallpaperSettings.imageSource")),1)])])],2)]),f("section",Cg,[f("h3",Ig,$(g(n)("wallpaperSettings.dynamic")),1),f("div",Tg,[(C(!0),P(be,null,De(g(gr),(M,j)=>(C(),P("button",{key:j,class:J(["wallpaper-item",{"wallpaper-item-selected":L(j)}]),onClick:re=>N(j)},[f("img",{src:g(mr)[j],alt:`动态壁纸 ${j+1}`,loading:"lazy"},null,8,Dg),B(ke,{name:"check-fade"},{default:le(()=>[L(j)?(C(),P("div",Ng,[B(g(V),{icon:"ri:check-line",class:"check-icon"})])):Y("",!0)]),_:2},1024)],10,Ag))),128))])]),f("section",Lg,[f("h3",$g,$(g(n)("wallpaperSettings.default")),1),f("div",Pg,[(C(!0),P(be,null,De(g(Br),(M,j)=>(C(),P("button",{key:j,class:J(["wallpaper-item",{"wallpaper-item-selected":S(j)}]),onClick:re=>E(j)},[f("img",{src:M,alt:`默认壁纸 ${j+1}`,loading:"lazy"},null,8,Rg),B(ke,{name:"check-fade"},{default:le(()=>[S(j)?(C(),P("div",Mg,[B(g(V),{icon:"ri:check-line",class:"check-icon"})])):Y("",!0)]),_:2},1024)],10,Og))),128))])]),f("input",{ref_key:"fileInput",ref:s,type:"file",accept:"image/*,video/*",multiple:"",class:"hidden-input",onChange:d},null,544),B(ke,{name:"dialog-fade"},{default:le(()=>[a.value?(C(),P("div",{key:0,class:"url-dialog-overlay",onClick:ae(m,["self"])},[f("div",Fg,[f("h4",Bg,$(g(n)("wallpaperSettings.onlineImageTitle")),1),dt(f("input",{"onUpdate:modelValue":W[0]||(W[0]=M=>l.value=M),type:"url",placeholder:"https://example.com/image.jpg",class:"url-input",onKeyup:or(w,["enter"])},null,544),[[vt,l.value]]),f("div",Wg,[f("button",{class:"dialog-btn dialog-btn-cancel",onClick:m},$(g(n)("common.cancel")),1),f("button",{class:"dialog-btn dialog-btn-confirm",onClick:w},$(g(n)("common.confirm")),1)])])])):Y("",!0)]),_:1})])]}),_:1},8,["title"]))}}),Hg=Me(Ug,[["__scopeId","data-v-89bc36cb"]]),jg={class:"space-y-6"},Gg={class:"setting-item"},Vg={class:"setting-item-label"},zg={class:"font-medium label-text"},Yg={class:"label-description"},qg=["disabled"],Xg={key:0,class:"info-box info-box-accent"},Kg={class:"flex items-center gap-3"},Qg={class:"text-sm text-accent"},Jg={class:"info-box"},Zg={class:"flex items-start gap-3"},em={class:"flex-1 space-y-2 text-sm text-secondary"},tm={class:"text-primary"},nm={class:"text-primary"},om={class:"text-primary"},rm={class:"p-4 space-y-2 border rounded-xl border-color"},sm={class:"text-sm font-medium text-primary"},am={class:"space-y-1 text-sm list-disc list-inside text-secondary"},lm=Te({__name:"SyncSettings",emits:["close"],setup(e,{emit:t}){const{t:n}=He(),r=t,o=st(),s=H(!1),a=H(!1);Ze(()=>{s.value=o.settings.enableSync??!1});async function l(){if(s.value=!s.value,s.value){a.value=!0;try{await o.updateSettings({enableSync:!0}),await new Promise(i=>setTimeout(i,1e3)),window.location.reload()}catch(i){console.error("启用同步失败:",i),s.value=!1}finally{a.value=!1}}else await o.updateSettings({enableSync:!1})}return(i,c)=>(C(),ce(Hn,{title:g(n)("syncSettings.title"),"show-large-title":!0,"show-search":!1,onClose:c[0]||(c[0]=u=>r("close"))},{default:le(()=>[f("div",jg,[f("div",Gg,[f("div",Vg,[f("div",zg,$(g(n)("syncSettings.enable")),1),f("div",Yg,$(g(n)("syncSettings.enableDesc")),1)]),f("button",{class:J(["toggle-switch",{"toggle-on":s.value}]),disabled:a.value,onClick:l},[...c[1]||(c[1]=[f("span",{class:"toggle-knob"},null,-1)])],10,qg)]),a.value?(C(),P("div",Xg,[f("div",Kg,[B(g(V),{icon:"ri:loader-4-line",class:"w-5 h-5 animate-spin text-accent"}),f("span",Qg,$(g(n)("syncSettings.syncing")),1)])])):Y("",!0),f("div",Jg,[f("div",Zg,[B(g(V),{icon:"ri:information-line",class:"w-5 h-5 flex-shrink-0 mt-0.5 text-muted"}),f("div",em,[f("p",null,[f("strong",tm,$(g(n)("syncSettings.chromeEdge")),1),En(" "+$(g(n)("syncSettings.chromeEdgeDesc")),1)]),f("p",null,[f("strong",nm,$(g(n)("syncSettings.firefox")),1),En(" "+$(g(n)("syncSettings.firefoxDesc")),1)]),f("p",null,[f("strong",om,$(g(n)("syncSettings.note")),1),En(" "+$(g(n)("syncSettings.noteDesc")),1)])])])]),f("div",rm,[f("h3",sm,$(g(n)("syncSettings.limits")),1),f("ul",am,[f("li",null,$(g(n)("syncSettings.limitStorage")),1),f("li",null,$(g(n)("syncSettings.limitItem")),1),f("li",null,$(g(n)("syncSettings.limitExceed")),1)])])])]),_:1},8,["title"]))}}),im=Me(lm,[["__scopeId","data-v-bf786e8b"]]),cm={class:"text-center"},um={class:"mb-1 text-xl font-semibold text-primary"},dm={class:"mb-4 text-sm text-muted"},fm={class:"mb-6 text-sm text-secondary"},pm={class:"flex justify-center gap-6 mb-6"},hm=["href"],gm={class:"text-xs"},mm={class:"mb-4 text-xs text-muted"},vm={class:"text-xs text-muted"},bm="1.0.0",_m=Te({__name:"AboutDialog",emits:["close"],setup(e,{emit:t}){const{t:n}=He(),r=t,o=ne(()=>[{label:n("about.github"),icon:"ri:github-fill",url:"https://github.com"},{label:n("about.website"),icon:"ri:global-line",url:"https://anheyu.com"},{label:n("about.feedback"),icon:"ri:feedback-line",url:"https://github.com"}]);return(s,a)=>(C(),ce(Hn,{title:g(n)("about.title"),"show-large-title":!1,"show-search":!1,onClose:a[0]||(a[0]=l=>r("close"))},{default:le(()=>[f("div",cm,[a[1]||(a[1]=f("div",{class:"flex items-center justify-center w-20 h-20 mx-auto mb-4 shadow-lg rounded-2xl logo-bg"},[f("svg",{viewBox:"0 0 49.06 44.67",class:"w-12 h-12"},[f("path",{fill:"#017aff",d:"M46.87,39.7h0c-1.1-1.26-2.66-3.38-2.51-5.09,5.45-7.01,6.25-18.04,1.93-25.92-.3-.55-.95-.81-1.55-.64-5.94,1.71-10.93,6.18-13.71,11.66-.56,1.13-1.11,2.31-2.44,2.55-1.58,.29-4.36,2.51-5.43,4.12h0c-.47,.46-.11,1.34,.56,1.32,.13-.01,4.37-.4,4.51-.41,1.39,11.9-16.2,13.32-16.71,1.33-.09-4.74,3.54-5.54,2.26-7.41-1.21-1.7-3.29,.54-4.5,1.11-3.05,2.29-4.75,0-4.79-3.43-.26-2.1,.16-3.82-.92-5.46-.66-.92-2.1-.79-2.55,.25-6.66,22.16,21.16,40.58,38.99,25.5,1.73,.87,4.22,1.81,6.17,1.8,.69,.14,1.18-.77,.7-1.27h0Zm-3.51-17.42c-2.57,.5-3.33-3.34-.79-3.88,2.57-.49,3.32,3.34,.79,3.88Z"}),f("path",{fill:"#003cfc",d:"M5.33,10.23c3.01,3.08-.36,10.31,2.61,10.22,.41-.04,.75-.28,.93-.64,1.68-2.04,3.38-2.99,6.17-3.37,1.19-.14,2.18,1.47,4.28,.86,2.6-.75,2.01-3.86,.72-4.56-1.75-1.34-5.62-1.25-7.23,0,3.83-3.52,10.97-4.21,12.48,1.92,.89,3.22,4.16,3.42,5.26,.23,1.34-7.03-7.33-12.62-13.66-10.36,1.55-.79,3.32-1.01,4.85-1.78,1-.64,1.21-2.07,0-2.67-5.12-.75-10.54,4.47-12.28,8.98-.74-1.86-3.18-4.04-5.34-3.82-1.13,.24-1.56,1.63-.78,2.48,.75,.9,1.32,1.57,1.97,2.52Z"}),f("path",{fill:"#003cfc",d:"M25.64,2.7s.02,0,.03,0c0,0,0,0,0,0,3.78-.43,4.27,2.23,6.58,1.86,2.16-.42,1.99-3.29-.06-3.77-2.08-.65-5,.1-6.68,1.66-.08,.1,0,.26,.12,.26Z"})])],-1)),f("h2",um,$(g(n)("about.appName")),1),f("p",dm,$(g(n)("about.version"))+" "+$(bm),1),f("p",fm,$(g(n)("about.description")),1),f("div",pm,[(C(!0),P(be,null,De(o.value,l=>(C(),P("a",{key:l.label,href:l.url,target:"_blank",class:"flex flex-col items-center gap-1 transition-colors text-muted hover:text-accent"},[B(g(V),{icon:l.icon,class:"w-6 h-6"},null,8,["icon"]),f("span",gm,$(l.label),1)],8,hm))),128))]),f("div",mm,$(g(n)("about.builtWith")),1),f("p",vm,"© "+$(new Date().getFullYear())+" Anheyu. All rights reserved.",1)])]),_:1},8,["title"]))}}),ym=Me(_m,[["__scopeId","data-v-db96e4c7"]]),wm={class:"relative"},km={class:"flex items-center gap-2"},Sm={class:"px-2 py-2"},xm={key:0,class:"h-px mx-2 my-2 divider-bg"},Em=["onClick"],Cm={class:"text-[14px]"},Im=Te({__name:"SettingsMenu",setup(e){const{t}=He(),n=H(!1),r=H(null),o=[{id:"general",labelKey:"settingsMenu.general",icon:"ri:settings-3-line"},{id:"search",labelKey:"settingsMenu.search",icon:"ri:search-line"},{id:"wallpaper",labelKey:"settingsMenu.wallpaper",icon:"ri:image-line"},{id:"sync",labelKey:"settingsMenu.sync",icon:"ri:cloud-line"},{id:"divider1",labelKey:"",icon:"",divider:!0},{id:"help",labelKey:"settingsMenu.helpFeedback",icon:"ri:question-line",external:"https://github.com"},{id:"about",labelKey:"settingsMenu.about",icon:"ri:information-line"}],s=ne(()=>o.map(u=>({...u,label:u.labelKey?t(u.labelKey):""})));function a(u){u.divider||(u.external?window.open(u.external,"_blank"):r.value=u.id,n.value=!1)}function l(){r.value=null}function i(){n.value=!n.value}function c(){n.value=!1}return(u,p)=>(C(),P("div",wm,[f("div",km,[f("button",{class:J(["flex items-center justify-center transition-all duration-300 rounded-full shadow-sm w-9 h-9 settings-button backdrop-blur-md",{active:n.value}]),onClick:i},[B(g(V),{icon:"ri:settings-3-line",class:J(["settings-icon w-[22px] h-[22px]",{active:n.value}])},null,8,["class"])],2)]),B(ke,{name:"menu-expand"},{default:le(()=>[n.value?(C(),P("div",{key:0,class:"absolute right-0 z-50 mt-2 settings-menu w-44 top-full",onMouseleave:c},[f("div",Sm,[(C(!0),P(be,null,De(s.value,h=>(C(),P(be,{key:h.id},[h.divider?(C(),P("div",xm)):(C(),P("button",{key:1,class:"flex items-center w-full gap-3 px-3 py-2 text-left settings-item text-secondary",onClick:d=>a(h)},[B(g(V),{icon:h.icon,class:"w-[18px] h-[18px] text-muted"},null,8,["icon"]),f("span",Cm,$(h.label),1)],8,Em))],64))),128))])],32)):Y("",!0)]),_:1}),r.value==="general"?(C(),ce(Ph,{key:0,onClose:l})):Y("",!0),r.value==="search"?(C(),ce(tg,{key:1,onClose:l})):Y("",!0),r.value==="wallpaper"?(C(),ce(Hg,{key:2,onClose:l})):Y("",!0),r.value==="sync"?(C(),ce(im,{key:3,onClose:l})):Y("",!0),r.value==="about"?(C(),ce(ym,{key:4,onClose:l})):Y("",!0)]))}}),Tm=Me(Im,[["__scopeId","data-v-886a5a92"]]),Am={class:"poetry-content"},Dm={class:"poetry-origin"},Nm=Te({__name:"PoetryDisplay",setup(e,{expose:t}){const n=Gr(),r=[{content:"满目山河空念远，落花风雨更伤春。",origin:"浣溪沙·一向年光有限身"},{content:"人生若只如初见，何事秋风悲画扇。",origin:"木兰词·拟古决绝词柬友"},{content:"山有木兮木有枝，心悦君兮君不知。",origin:"越人歌"},{content:"曾经沧海难为水，除却巫山不是云。",origin:"离思五首·其四"},{content:"此情可待成追忆，只是当时已惘然。",origin:"锦瑟"},{content:"愿得一心人，白头不相离。",origin:"白头吟"},{content:"两情若是久长时，又岂在朝朝暮暮。",origin:"鹊桥仙·纤云弄巧"},{content:"春风得意马蹄疾，一日看尽长安花。",origin:"登科后"},{content:"海内存知己，天涯若比邻。",origin:"送杜少府之任蜀州"},{content:"但愿人长久，千里共婵娟。",origin:"水调歌头·明月几时有"},{content:"采菊东篱下，悠然见南山。",origin:"饮酒·其五"},{content:"会当凌绝顶，一览众山小。",origin:"望岳"},{content:"长风破浪会有时，直挂云帆济沧海。",origin:"行路难·其一"},{content:"天生我材必有用，千金散尽还复来。",origin:"将进酒"},{content:"桃李春风一杯酒，江湖夜雨十年灯。",origin:"寄黄几复"}],o=H(r[0]),s=H(!1),a=H(!1);let l=null;function i(){const y=Math.floor(Math.random()*r.length);o.value=r[y]}function c(y){y.stopPropagation(),l&&(clearTimeout(l),l=null),a.value=!a.value}function u(){l&&clearTimeout(l),l=setTimeout(()=>{a.value=!1,l=null},200)}function p(){l&&(clearTimeout(l),l=null)}function h(y){y.stopPropagation();const v=`${o.value.content} —— ${o.value.origin}`;navigator.clipboard.writeText(v),u()}function d(y){y.stopPropagation(),n.search(o.value.content),u()}return t({refresh:i}),Ze(()=>{i()}),Dt(()=>{l&&(clearTimeout(l),l=null)}),(y,v)=>(C(),P("div",{class:"poetry-wrapper","data-poetry-area":"",onMouseenter:v[2]||(v[2]=w=>{s.value=!0,p()}),onMouseleave:v[3]||(v[3]=w=>{s.value=!1,u()}),onMousedown:v[4]||(v[4]=ae(()=>{},["prevent"]))},[f("div",{class:J(["poetry-container",{"poetry-hovered":s.value}]),onClick:i},[f("div",Am,"「"+$(o.value.content)+"」",1),f("div",Dm,"—— "+$(o.value.origin),1),B(ke,{name:"fade"},{default:le(()=>[s.value?(C(),P("button",{key:0,class:"menu-btn",onClick:c},[B(g(V),{icon:"ri:more-2-fill",class:"w-4 h-4"})])):Y("",!0)]),_:1}),B(ke,{name:"dropdown"},{default:le(()=>[a.value?(C(),P("div",{key:0,class:"poetry-menu",onMouseenter:v[0]||(v[0]=w=>p()),onMouseleave:v[1]||(v[1]=w=>u())},[f("button",{class:"menu-item",onClick:h},[B(g(V),{icon:"ri:file-copy-line",class:"w-4 h-4"}),v[5]||(v[5]=f("span",null,"复制",-1))]),f("button",{class:"menu-item",onClick:d},[B(g(V),{icon:"ri:search-line",class:"w-4 h-4"}),v[6]||(v[6]=f("span",null,"搜索",-1))])],32)):Y("",!0)]),_:1})],2)],32))}}),Lm=Me(Nm,[["__scopeId","data-v-703b7a57"]]),$m={key:0,class:"greeting-toast"},Pm={class:"greeting-text"},Om=Te({__name:"GreetingToast",setup(e){const{t}=He(),n=st(),r=H(!1),o=ne(()=>{const s=new Date().getHours();let a="",l="",i="";s>=5&&s<12?(a="greeting.morning",l="ri:sun-line",i="#f59e0b"):s>=12&&s<14?(a="greeting.noon",l="ri:sun-fill",i="#f97316"):s>=14&&s<18?(a="greeting.afternoon",l="ri:cloudy-line",i="#3b82f6"):s>=18&&s<22?(a="greeting.evening",l="ri:moon-line",i="#8b5cf6"):(a="greeting.night",l="ri:moon-clear-line",i="#6366f1");let c=t(a);const u=n.settings.username.trim();if(u){const h=n.settings.language==="en"?", ":"，";c=`${c}${h}${u}`}return{text:c,icon:l,color:i}});return Ze(()=>{const s="anheyu_greeting_shown";sessionStorage.getItem(s)||(setTimeout(()=>{r.value=!0,sessionStorage.setItem(s,"true")},800),setTimeout(()=>{r.value=!1},4e3))}),(s,a)=>(C(),ce(ke,{name:"toast"},{default:le(()=>[r.value?(C(),P("div",$m,[B(g(V),{icon:o.value.icon,class:"greeting-icon",style:Ke({color:o.value.color})},null,8,["icon","style"]),f("span",Pm,$(o.value.text),1)])):Y("",!0)]),_:1}))}}),Rm=Me(Om,[["__scopeId","data-v-78fcebff"]]);function qr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Yt=qr();function $l(e){Yt=e}var Nn={exec:()=>null};function de(e,t=""){let n=typeof e=="string"?e:e.source,r={replace:(o,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(Ue.caret,"$1"),n=n.replace(o,a),r},getRegex:()=>new RegExp(n,t)};return r}var Mm=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Ue={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Fm=/^(?:[ \t]*(?:\n|$))+/,Bm=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Wm=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,jn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Um=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Xr=/(?:[*+-]|\d{1,9}[.)])/,Pl=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ol=de(Pl).replace(/bull/g,Xr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Hm=de(Pl).replace(/bull/g,Xr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Kr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,jm=/^[^\n]+/,Qr=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Gm=de(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Qr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Vm=de(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Xr).getRegex(),Ro="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Jr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,zm=de("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Jr).replace("tag",Ro).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Rl=de(Kr).replace("hr",jn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ro).getRegex(),Ym=de(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Rl).getRegex(),Zr={blockquote:Ym,code:Bm,def:Gm,fences:Wm,heading:Um,hr:jn,html:zm,lheading:Ol,list:Vm,newline:Fm,paragraph:Rl,table:Nn,text:jm},ba=de("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",jn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ro).getRegex(),qm={...Zr,lheading:Hm,table:ba,paragraph:de(Kr).replace("hr",jn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ba).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ro).getRegex()},Xm={...Zr,html:de(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Jr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Nn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:de(Kr).replace("hr",jn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ol).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Km=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Qm=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ml=/^( {2,}|\\)\n(?!\s*$)/,Jm=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Mo=/[\p{P}\p{S}]/u,es=/[\s\p{P}\p{S}]/u,Fl=/[^\s\p{P}\p{S}]/u,Zm=de(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,es).getRegex(),Bl=/(?!~)[\p{P}\p{S}]/u,ev=/(?!~)[\s\p{P}\p{S}]/u,tv=/(?:[^\s\p{P}\p{S}]|~)/u,nv=de(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Mm?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Wl=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ov=de(Wl,"u").replace(/punct/g,Mo).getRegex(),rv=de(Wl,"u").replace(/punct/g,Bl).getRegex(),Ul="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",sv=de(Ul,"gu").replace(/notPunctSpace/g,Fl).replace(/punctSpace/g,es).replace(/punct/g,Mo).getRegex(),av=de(Ul,"gu").replace(/notPunctSpace/g,tv).replace(/punctSpace/g,ev).replace(/punct/g,Bl).getRegex(),lv=de("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Fl).replace(/punctSpace/g,es).replace(/punct/g,Mo).getRegex(),iv=de(/\\(punct)/,"gu").replace(/punct/g,Mo).getRegex(),cv=de(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),uv=de(Jr).replace("(?:-->|$)","-->").getRegex(),dv=de("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",uv).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),xo=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,fv=de(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",xo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Hl=de(/^!?\[(label)\]\[(ref)\]/).replace("label",xo).replace("ref",Qr).getRegex(),jl=de(/^!?\[(ref)\](?:\[\])?/).replace("ref",Qr).getRegex(),pv=de("reflink|nolink(?!\\()","g").replace("reflink",Hl).replace("nolink",jl).getRegex(),_a=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,ts={_backpedal:Nn,anyPunctuation:iv,autolink:cv,blockSkip:nv,br:Ml,code:Qm,del:Nn,emStrongLDelim:ov,emStrongRDelimAst:sv,emStrongRDelimUnd:lv,escape:Km,link:fv,nolink:jl,punctuation:Zm,reflink:Hl,reflinkSearch:pv,tag:dv,text:Jm,url:Nn},hv={...ts,link:de(/^!?\[(label)\]\((.*?)\)/).replace("label",xo).getRegex(),reflink:de(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xo).getRegex()},Ir={...ts,emStrongRDelimAst:av,emStrongLDelim:rv,url:de(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",_a).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:de(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",_a).getRegex()},gv={...Ir,br:de(Ml).replace("{2,}","*").getRegex(),text:de(Ir.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},eo={normal:Zr,gfm:qm,pedantic:Xm},_n={normal:ts,gfm:Ir,breaks:gv,pedantic:hv},mv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ya=e=>mv[e];function Et(e,t){if(t){if(Ue.escapeTest.test(e))return e.replace(Ue.escapeReplace,ya)}else if(Ue.escapeTestNoEncode.test(e))return e.replace(Ue.escapeReplaceNoEncode,ya);return e}function wa(e){try{e=encodeURI(e).replace(Ue.percentDecode,"%")}catch{return null}return e}function ka(e,t){var s;let n=e.replace(Ue.findPipe,(a,l,i)=>{let c=!1,u=l;for(;--u>=0&&i[u]==="\\";)c=!c;return c?"|":" |"}),r=n.split(Ue.splitPipe),o=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(Ue.slashPipe,"|");return r}function yn(e,t,n){let r=e.length;if(r===0)return"";let o=0;for(;o<r&&e.charAt(r-o-1)===t;)o++;return e.slice(0,r-o)}function vv(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function Sa(e,t,n,r,o){let s=t.href,a=t.title||null,l=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;let i={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,i}function bv(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(r===null)return t;let o=r[1];return t.split(`
`).map(s=>{let a=s.match(n.other.beginningSpace);if(a===null)return s;let[l]=a;return l.length>=o.length?s.slice(o.length):s}).join(`
`)}var Eo=class{constructor(e){ve(this,"options");ve(this,"rules");ve(this,"lexer");this.options=e||Yt}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:yn(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=bv(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=yn(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:yn(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=yn(t[0],`
`).split(`
`),r="",o="",s=[];for(;n.length>0;){let a=!1,l=[],i;for(i=0;i<n.length;i++)if(this.rules.other.blockquoteStart.test(n[i]))l.push(n[i]),a=!0;else if(!a)l.push(n[i]);else break;n=n.slice(i);let c=l.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,o=o?`${o}
${u}`:u;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=p,n.length===0)break;let h=s.at(-1);if((h==null?void 0:h.type)==="code")break;if((h==null?void 0:h.type)==="blockquote"){let d=h,y=d.raw+`
`+n.join(`
`),v=this.blockquote(y);s[s.length-1]=v,r=r.substring(0,r.length-d.raw.length)+v.raw,o=o.substring(0,o.length-d.text.length)+v.text;break}else if((h==null?void 0:h.type)==="list"){let d=h,y=d.raw+`
`+n.join(`
`),v=this.list(y);s[s.length-1]=v,r=r.substring(0,r.length-h.raw.length)+v.raw,o=o.substring(0,o.length-d.raw.length)+v.raw,n=y.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:o}}}list(e){var n,r;let t=this.rules.block.list.exec(e);if(t){let o=t[1].trim(),s=o.length>1,a={type:"list",raw:"",ordered:s,start:s?+o.slice(0,-1):"",loose:!1,items:[]};o=s?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=s?o:"[*+-]");let l=this.rules.other.listItemRegex(o),i=!1;for(;e;){let u=!1,p="",h="";if(!(t=l.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,m=>" ".repeat(3*m.length)),y=e.split(`
`,1)[0],v=!d.trim(),w=0;if(this.options.pedantic?(w=2,h=d.trimStart()):v?w=t[1].length+1:(w=t[2].search(this.rules.other.nonSpaceChar),w=w>4?1:w,h=d.slice(w),w+=t[1].length),v&&this.rules.other.blankLine.test(y)&&(p+=y+`
`,e=e.substring(y.length+1),u=!0),!u){let m=this.rules.other.nextBulletRegex(w),k=this.rules.other.hrRegex(w),E=this.rules.other.fencesBeginRegex(w),S=this.rules.other.headingBeginRegex(w),N=this.rules.other.htmlBeginRegex(w);for(;e;){let L=e.split(`
`,1)[0],D;if(y=L,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),D=y):D=y.replace(this.rules.other.tabCharGlobal,"    "),E.test(y)||S.test(y)||N.test(y)||m.test(y)||k.test(y))break;if(D.search(this.rules.other.nonSpaceChar)>=w||!y.trim())h+=`
`+D.slice(w);else{if(v||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||E.test(d)||S.test(d)||k.test(d))break;h+=`
`+y}!v&&!y.trim()&&(v=!0),p+=L+`
`,e=e.substring(L.length+1),d=D.slice(w)}}a.loose||(i?a.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(i=!0)),a.items.push({type:"list_item",raw:p,task:!!this.options.gfm&&this.rules.other.listIsTask.test(h),loose:!1,text:h,tokens:[]}),a.raw+=p}let c=a.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let u of a.items){if(this.lexer.state.top=!1,u.tokens=this.lexer.blockTokens(u.text,[]),u.task){if(u.text=u.text.replace(this.rules.other.listReplaceTask,""),((n=u.tokens[0])==null?void 0:n.type)==="text"||((r=u.tokens[0])==null?void 0:r.type)==="paragraph"){u.tokens[0].raw=u.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),u.tokens[0].text=u.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let h=this.lexer.inlineQueue.length-1;h>=0;h--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[h].src)){this.lexer.inlineQueue[h].src=this.lexer.inlineQueue[h].src.replace(this.rules.other.listReplaceTask,"");break}}let p=this.rules.other.listTaskCheckbox.exec(u.raw);if(p){let h={type:"checkbox",raw:p[0]+" ",checked:p[0]!=="[ ]"};u.checked=h.checked,a.loose?u.tokens[0]&&["paragraph","text"].includes(u.tokens[0].type)&&"tokens"in u.tokens[0]&&u.tokens[0].tokens?(u.tokens[0].raw=h.raw+u.tokens[0].raw,u.tokens[0].text=h.raw+u.tokens[0].text,u.tokens[0].tokens.unshift(h)):u.tokens.unshift({type:"paragraph",raw:h.raw,text:h.raw,tokens:[h]}):u.tokens.unshift(h)}}if(!a.loose){let p=u.tokens.filter(d=>d.type==="space"),h=p.length>0&&p.some(d=>this.rules.other.anyLine.test(d.raw));a.loose=h}}if(a.loose)for(let u of a.items){u.loose=!0;for(let p of u.tokens)p.type==="text"&&(p.type="paragraph")}return a}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}}table(e){var a;let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=ka(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(a=t[3])!=null&&a.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let l of r)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<n.length;l++)s.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:s.align[l]});for(let l of o)s.rows.push(ka(l,s.header.length).map((i,c)=>({text:i,tokens:this.lexer.inline(i),header:!1,align:s.align[c]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=yn(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=vv(t[2],"()");if(s===-2)return;if(s>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Sa(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[r.toLowerCase()];if(!o){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Sa(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let o=[...r[0]].length-1,s,a,l=o,i=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);(r=c.exec(t))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(a=[...s].length,r[3]||r[4]){l+=a;continue}else if((r[5]||r[6])&&o%3&&!((o+a)%3)){i+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+i);let u=[...r[0]][0].length,p=e.slice(0,o+r.index+u+a);if(Math.min(o,a)%2){let d=p.slice(1,-1);return{type:"em",raw:p,text:d,tokens:this.lexer.inlineTokens(d)}}let h=p.slice(2,-2);return{type:"strong",raw:p,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let r,o;if(t[2]==="@")r=t[0],o="mailto:"+r;else{let s;do s=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(s!==t[0]);r=t[0],t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},ct=class Tr{constructor(t){ve(this,"tokens");ve(this,"options");ve(this,"state");ve(this,"inlineQueue");ve(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Yt,this.options.tokenizer=this.options.tokenizer||new Eo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Ue,block:eo.normal,inline:_n.normal};this.options.pedantic?(n.block=eo.pedantic,n.inline=_n.pedantic):this.options.gfm&&(n.block=eo.gfm,this.options.breaks?n.inline=_n.breaks:n.inline=_n.gfm),this.tokenizer.rules=n}static get rules(){return{block:eo,inline:_n}}static lex(t,n){return new Tr(n).lex(t)}static lexInline(t,n){return new Tr(n).inlineTokens(t)}lex(t){t=t.replace(Ue.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){var o,s,a;for(this.options.pedantic&&(t=t.replace(Ue.tabCharGlobal,"    ").replace(Ue.spaceLine,""));t;){let l;if((s=(o=this.options.extensions)==null?void 0:o.block)!=null&&s.some(c=>(l=c.call({lexer:this},t,n))?(t=t.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);let c=n.at(-1);l.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.text,this.inlineQueue.at(-1).src=c.text):n.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title},n.push(l));continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),n.push(l);continue}let i=t;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0,u=t.slice(1),p;this.options.extensions.startBlock.forEach(h=>{p=h.call({lexer:this},u),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(i=t.substring(0,c+1))}if(this.state.top&&(l=this.tokenizer.paragraph(i))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(l),r=i.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(l);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var i,c,u,p,h;let r=t,o=null;if(this.tokens.links){let d=Object.keys(this.tokens.links);if(d.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)d.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(o=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=o[2]?o[2].length:0,r=r.slice(0,o.index+s)+"["+"a".repeat(o[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((c=(i=this.options.hooks)==null?void 0:i.emStrongMask)==null?void 0:c.call({lexer:this},r))??r;let a=!1,l="";for(;t;){a||(l=""),a=!1;let d;if((p=(u=this.options.extensions)==null?void 0:u.inline)!=null&&p.some(v=>(d=v.call({lexer:this},t,n))?(t=t.substring(d.raw.length),n.push(d),!0):!1))continue;if(d=this.tokenizer.escape(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.tag(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.link(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(d.raw.length);let v=n.at(-1);d.type==="text"&&(v==null?void 0:v.type)==="text"?(v.raw+=d.raw,v.text+=d.text):n.push(d);continue}if(d=this.tokenizer.emStrong(t,r,l)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.codespan(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.br(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.del(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.autolink(t)){t=t.substring(d.raw.length),n.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(t))){t=t.substring(d.raw.length),n.push(d);continue}let y=t;if((h=this.options.extensions)!=null&&h.startInline){let v=1/0,w=t.slice(1),m;this.options.extensions.startInline.forEach(k=>{m=k.call({lexer:this},w),typeof m=="number"&&m>=0&&(v=Math.min(v,m))}),v<1/0&&v>=0&&(y=t.substring(0,v+1))}if(d=this.tokenizer.inlineText(y)){t=t.substring(d.raw.length),d.raw.slice(-1)!=="_"&&(l=d.raw.slice(-1)),a=!0;let v=n.at(-1);(v==null?void 0:v.type)==="text"?(v.raw+=d.raw,v.text+=d.text):n.push(d);continue}if(t){let v="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return n}},Co=class{constructor(e){ve(this,"options");ve(this,"parser");this.options=e||Yt}space(e){return""}code({text:e,lang:t,escaped:n}){var s;let r=(s=(t||"").match(Ue.notSpaceStart))==null?void 0:s[0],o=e.replace(Ue.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Et(r)+'">'+(n?o:Et(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:Et(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,r="";for(let a=0;a<e.items.length;a++){let l=e.items[a];r+=this.listitem(l)}let o=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+o+s+`>
`+r+"</"+o+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let r="";for(let o=0;o<e.rows.length;o++){let s=e.rows[o];n="";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Et(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),o=wa(e);if(o===null)return r;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+Et(t)+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let o=wa(e);if(o===null)return Et(n);e=o;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${Et(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Et(e.text)}},ns=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},ut=class Ar{constructor(t){ve(this,"options");ve(this,"renderer");ve(this,"textRenderer");this.options=t||Yt,this.options.renderer=this.options.renderer||new Co,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ns}static parse(t,n){return new Ar(n).parse(t)}static parseInline(t,n){return new Ar(n).parseInline(t)}parse(t){var r,o;let n="";for(let s=0;s<t.length;s++){let a=t[s];if((o=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&o[a.type]){let i=a,c=this.options.extensions.renderers[i.type].call({parser:this},i);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(i.type)){n+=c||"";continue}}let l=a;switch(l.type){case"space":{n+=this.renderer.space(l);break}case"hr":{n+=this.renderer.hr(l);break}case"heading":{n+=this.renderer.heading(l);break}case"code":{n+=this.renderer.code(l);break}case"table":{n+=this.renderer.table(l);break}case"blockquote":{n+=this.renderer.blockquote(l);break}case"list":{n+=this.renderer.list(l);break}case"checkbox":{n+=this.renderer.checkbox(l);break}case"html":{n+=this.renderer.html(l);break}case"def":{n+=this.renderer.def(l);break}case"paragraph":{n+=this.renderer.paragraph(l);break}case"text":{n+=this.renderer.text(l);break}default:{let i='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return n}parseInline(t,n=this.renderer){var o,s;let r="";for(let a=0;a<t.length;a++){let l=t[a];if((s=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&s[l.type]){let c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){r+=c||"";continue}}let i=l;switch(i.type){case"escape":{r+=n.text(i);break}case"html":{r+=n.html(i);break}case"link":{r+=n.link(i);break}case"image":{r+=n.image(i);break}case"checkbox":{r+=n.checkbox(i);break}case"strong":{r+=n.strong(i);break}case"em":{r+=n.em(i);break}case"codespan":{r+=n.codespan(i);break}case"br":{r+=n.br(i);break}case"del":{r+=n.del(i);break}case"text":{r+=n.text(i);break}default:{let c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},to,xn=(to=class{constructor(e){ve(this,"options");ve(this,"block");this.options=e||Yt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?ct.lex:ct.lexInline}provideParser(){return this.block?ut.parse:ut.parseInline}},ve(to,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),ve(to,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),to),_v=class{constructor(...e){ve(this,"defaults",qr());ve(this,"options",this.setOptions);ve(this,"parse",this.parseMarkdown(!0));ve(this,"parseInline",this.parseMarkdown(!1));ve(this,"Parser",ut);ve(this,"Renderer",Co);ve(this,"TextRenderer",ns);ve(this,"Lexer",ct);ve(this,"Tokenizer",Eo);ve(this,"Hooks",xn);this.use(...e)}walkTokens(e,t){var r,o;let n=[];for(let s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{let a=s;for(let l of a.header)n=n.concat(this.walkTokens(l.tokens,t));for(let l of a.rows)for(let i of l)n=n.concat(this.walkTokens(i.tokens,t));break}case"list":{let a=s;n=n.concat(this.walkTokens(a.items,t));break}default:{let a=s;(o=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&o[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{let i=a[l].flat(1/0);n=n.concat(this.walkTokens(i,t))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let s=t.renderers[o.name];s?t.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){let o=this.defaults.renderer||new Co(this.defaults);for(let s in n.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,l=n.renderer[a],i=o[a];o[a]=(...c)=>{let u=l.apply(o,c);return u===!1&&(u=i.apply(o,c)),u||""}}r.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new Eo(this.defaults);for(let s in n.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,l=n.tokenizer[a],i=o[a];o[a]=(...c)=>{let u=l.apply(o,c);return u===!1&&(u=i.apply(o,c)),u}}r.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new xn;for(let s in n.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,l=n.hooks[a],i=o[a];xn.passThroughHooks.has(s)?o[a]=c=>{if(this.defaults.async&&xn.passThroughHooksRespectAsync.has(s))return(async()=>{let p=await l.call(o,c);return i.call(o,p)})();let u=l.call(o,c);return i.call(o,u)}:o[a]=(...c)=>{if(this.defaults.async)return(async()=>{let p=await l.apply(o,c);return p===!1&&(p=await i.apply(o,c)),p})();let u=l.apply(o,c);return u===!1&&(u=i.apply(o,c)),u}}r.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),o&&(l=l.concat(o.call(this,a))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ct.lex(e,t??this.defaults)}parser(e,t){return ut.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},o={...this.defaults,...r},s=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&r.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(o.hooks&&(o.hooks.options=o,o.hooks.block=e),o.async)return(async()=>{let a=o.hooks?await o.hooks.preprocess(t):t,l=await(o.hooks?await o.hooks.provideLexer():e?ct.lex:ct.lexInline)(a,o),i=o.hooks?await o.hooks.processAllTokens(l):l;o.walkTokens&&await Promise.all(this.walkTokens(i,o.walkTokens));let c=await(o.hooks?await o.hooks.provideParser():e?ut.parse:ut.parseInline)(i,o);return o.hooks?await o.hooks.postprocess(c):c})().catch(s);try{o.hooks&&(t=o.hooks.preprocess(t));let a=(o.hooks?o.hooks.provideLexer():e?ct.lex:ct.lexInline)(t,o);o.hooks&&(a=o.hooks.processAllTokens(a)),o.walkTokens&&this.walkTokens(a,o.walkTokens);let l=(o.hooks?o.hooks.provideParser():e?ut.parse:ut.parseInline)(a,o);return o.hooks&&(l=o.hooks.postprocess(l)),l}catch(a){return s(a)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+Et(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},zt=new _v;function me(e,t){return zt.parse(e,t)}me.options=me.setOptions=function(e){return zt.setOptions(e),me.defaults=zt.defaults,$l(me.defaults),me};me.getDefaults=qr;me.defaults=Yt;me.use=function(...e){return zt.use(...e),me.defaults=zt.defaults,$l(me.defaults),me};me.walkTokens=function(e,t){return zt.walkTokens(e,t)};me.parseInline=zt.parseInline;me.Parser=ut;me.parser=ut.parse;me.Renderer=Co;me.TextRenderer=ns;me.Lexer=ct;me.lexer=ct.lex;me.Tokenizer=Eo;me.Hooks=xn;me.parse=me;me.options;me.setOptions;me.use;me.walkTokens;me.parseInline;ut.parse;ct.lex;const yv={class:"relative flex items-center justify-between h-12 px-5 border-b shrink-0 border-color"},wv={class:"text-base font-semibold text-primary"},kv={class:"flex items-center gap-2"},Sv=["title"],xv=["title"],Ev={class:"flex flex-1 min-h-0"},Cv={class:"w-[280px] shrink-0 border-r border-color flex flex-col"},Iv={class:"flex-1 overflow-y-auto notes-list"},Tv=["onClick"],Av={class:"note-item-content"},Dv={class:"note-item-preview"},Nv={class:"note-item-date"},Lv={key:0,class:"empty-state"},$v={class:"text-muted"},Pv={class:"flex flex-col flex-1 min-w-0"},Ov={class:"flex items-center gap-1 px-3 py-2 border-b border-color toolbar"},Rv=["disabled","title"],Mv=["disabled","title"],Fv=["disabled","title"],Bv=["disabled","title"],Wv={key:1,class:"flex items-center gap-3 text-xs text-muted"},Uv={class:"flex items-center gap-1"},Hv={class:"flex flex-1 min-h-0"},jv=["placeholder"],Gv={key:1,class:"flex items-center justify-center h-full empty-editor"},Vv={class:"text-center"},zv={class:"text-muted"},Yv={key:1,class:"flex-1 min-w-0 overflow-y-auto preview-container"},qv=["innerHTML"],Xv=Te({__name:"NotesDialog",emits:["close"],setup(e,{emit:t}){const{t:n}=He(),r=t,o=Wr(),s=st(),a=H(""),l=H(!1),i=H(!0),c=H("idle");let u=null;const p=ne(()=>a.value.length),h=ne(()=>a.value?me(a.value):"");Qe(()=>o.selectedNote,S=>{S?(a.value=S.content,c.value="saved"):(a.value="",c.value="idle")},{immediate:!0}),Qe(a,S=>{o.selectedNoteId&&(u&&clearTimeout(u),c.value="saving",u=setTimeout(async()=>{await o.updateNote(o.selectedNoteId,S),c.value="saved"},500))}),Ze(async()=>{await o.init(),o.sortedNotes.length>0&&!o.selectedNoteId&&o.selectNote(o.sortedNotes[0].id)});async function d(){const S=await o.addNote("");o.selectNote(S.id),l.value=!1,await To();const N=document.querySelector(".note-editor");N==null||N.focus()}function y(S){o.selectNote(S),l.value=!1}async function v(){if(!o.selectedNoteId)return;const S=o.sortedNotes.findIndex(N=>N.id===o.selectedNoteId);if(await o.deleteNote(o.selectedNoteId),o.sortedNotes.length>0){const N=Math.min(S,o.sortedNotes.length-1);o.selectNote(o.sortedNotes[N].id)}}async function w(){if(!o.selectedNoteId)return;await o.togglePin(o.selectedNoteId)||console.warn(`最多只能固定 ${o.MAX_PINNED_NOTES} 个便笺`)}function m(){l.value=!l.value}function k(){i.value=!i.value}function E(S){S.target===S.currentTarget&&r("close")}return(S,N)=>{var L,D;return C(),P("div",{class:"fixed inset-0 z-50 flex items-center justify-center dialog-backdrop dialog-perspective",onClick:ae(E,["stop"])},[f("div",{class:J(["relative w-full h-full shadow-2xl dialog-bg sm:rounded-2xl overflow-hidden flex flex-col dialog-card sm:w-[800px] sm:h-[550px]",{"no-tilt":g(s).settings.reduceMotion}]),onClick:N[2]||(N[2]=ae(()=>{},["stop"]))},[f("div",yv,[f("h2",wv,$(g(n)("notes.title")),1),f("div",kv,[f("button",{class:"header-btn",title:g(n)("notes.fullscreen")},[B(g(V),{icon:"ri:fullscreen-line",class:"w-4 h-4"})],8,Sv),f("button",{class:"header-btn",title:g(n)("common.close"),onClick:N[0]||(N[0]=x=>r("close"))},[B(g(V),{icon:"ri:close-line",class:"w-5 h-5"})],8,xv)])]),f("div",Ev,[f("div",Cv,[f("button",{class:"new-note-btn",onClick:d},[B(g(V),{icon:"ri:add-line",class:"w-4 h-4"}),f("span",null,$(g(n)("notes.newNote")),1)]),f("div",Iv,[(C(!0),P(be,null,De(g(o).sortedNotes,x=>(C(),P("div",{key:x.id,class:J(["note-item",{"note-item-active":g(o).selectedNoteId===x.id}]),onClick:T=>y(x.id)},[f("div",Av,[f("span",Dv,$(g(o).getNotePreview(x)),1),f("span",Nv,$(g(o).formatDate(x.updatedAt)),1)])],10,Tv))),128)),g(o).sortedNotes.length===0?(C(),P("div",Lv,[B(g(V),{icon:"ri:sticky-note-line",class:"w-12 h-12 text-muted"}),f("p",$v,$(g(n)("notes.noNotes")),1)])):Y("",!0)])]),f("div",Pv,[f("div",Ov,[f("button",{class:J(["toolbar-btn",{"toolbar-btn-active":(L=g(o).selectedNote)==null?void 0:L.isPinned}]),disabled:!g(o).selectedNoteId,title:(D=g(o).selectedNote)!=null&&D.isPinned?g(n)("notes.unpin"):g(n)("notes.pin"),onClick:w},[B(g(V),{icon:"ri:pushpin-line",class:"w-4 h-4"})],10,Rv),f("button",{class:J(["toolbar-btn",{"toolbar-btn-active":l.value}]),disabled:!g(o).selectedNoteId,title:g(n)("notes.preview"),onClick:m},[B(g(V),{icon:"ri:markdown-line",class:"w-4 h-4"})],10,Mv),l.value?(C(),P("button",{key:0,class:J(["toolbar-btn",{"toolbar-btn-active":i.value}]),disabled:!g(o).selectedNoteId,title:g(n)("notes.splitView"),onClick:k},[B(g(V),{icon:"ri:layout-column-line",class:"w-4 h-4"})],10,Fv)):Y("",!0),f("button",{class:"toolbar-btn toolbar-btn-danger",disabled:!g(o).selectedNoteId,title:g(n)("common.delete"),onClick:v},[B(g(V),{icon:"ri:delete-bin-line",class:"w-4 h-4"})],8,Bv),N[3]||(N[3]=f("div",{class:"flex-1"},null,-1)),g(o).selectedNoteId?(C(),P("div",Wv,[f("span",null,$(g(n)("notes.wordCount",{count:p.value})),1),f("span",Uv,[c.value==="saved"?(C(),ce(g(V),{key:0,icon:"ri:cloud-line",class:"w-3.5 h-3.5"})):c.value==="saving"?(C(),ce(g(V),{key:1,icon:"ri:loader-4-line",class:"w-3.5 h-3.5 animate-spin"})):Y("",!0),En(" "+$(c.value==="saved"?g(n)("notes.saved"):c.value==="saving"?g(n)("notes.saving"):""),1)])])):Y("",!0)]),f("div",Hv,[!l.value||i.value?(C(),P("div",{key:0,class:J(["flex-1 min-w-0 editor-container",{"border-r border-color":l.value&&i.value}])},[g(o).selectedNoteId?dt((C(),P("textarea",{key:0,"onUpdate:modelValue":N[1]||(N[1]=x=>a.value=x),class:"note-editor",placeholder:g(n)("notes.placeholder")},null,8,jv)),[[vt,a.value]]):(C(),P("div",Gv,[f("div",Vv,[B(g(V),{icon:"ri:sticky-note-line",class:"w-16 h-16 mx-auto mb-4 text-muted"}),f("p",zv,$(g(n)("notes.selectOrCreate")),1)])]))],2)):Y("",!0),l.value&&g(o).selectedNoteId?(C(),P("div",Yv,[f("div",{class:"p-4 prose-sm prose markdown-preview",innerHTML:h.value},null,8,qv)])):Y("",!0)])])])],2)])}}}),Kv=Me(Xv,[["__scopeId","data-v-d2da6f94"]]),Qv={key:0,class:"pinned-notes-container"},Jv=["onClick"],Zv=["onClick"],eb={class:"pinned-note-content"},tb={class:"pinned-note-date"},nb=Te({__name:"PinnedNotes",emits:["open-notes"],setup(e,{emit:t}){const n=t,r=Wr(),o=st(),s=ne(()=>o.settings.showFullNote);function a(c){return s.value?c.content.length>200?c.content.substring(0,200)+"...":c.content||"空便笺":r.getNotePreview(c)}async function l(c,u){c.stopPropagation(),await r.unpin(u)}function i(c){n("open-notes",c)}return(c,u)=>g(r).pinnedNotes.length>0?(C(),P("div",Qv,[B(oi,{name:"pinned-note"},{default:le(()=>[(C(!0),P(be,null,De(g(r).pinnedNotes,p=>(C(),P("div",{key:p.id,class:J(["pinned-note",{"pinned-note-full":s.value}]),onClick:h=>i(p.id)},[f("button",{class:"pinned-note-close",onClick:h=>l(h,p.id),title:"取消固定"},[B(g(V),{icon:"ri:close-line",class:"w-3.5 h-3.5"})],8,Zv),f("div",eb,[f("p",{class:J(["pinned-note-text",{"pinned-note-text-full":s.value}])},$(a(p)),3),f("span",tb,$(g(r).formatDate(p.updatedAt)),1)])],10,Jv))),128))]),_:1})])):Y("",!0)}}),ob=Me(nb,[["__scopeId","data-v-c0a4329d"]]),rb=["src"],sb=["src"],ab={class:"main-content"},lb={class:"time-wrapper","data-time-display":""},ib={class:"switch-container"},cb={key:"search-view",class:"view-panel search-panel"},ub={class:"search-wrapper"},db={key:"grid-view",class:"view-panel grid-panel"},fb={key:0,class:"settings-container","data-settings-menu":""},xa="/wallpaper/static/1.jpg",pb=Te({__name:"App",setup(e){const t=st(),n=Lo(),r=el(),o=Wr(),s=H(!1),a=H(!1),l=H(!1),i=H(!0),c=H(!1),u=H(!1);function p(T){a.value=T}const h=H(!1),d=ne(()=>r.settings.type==="dynamic"&&h.value?yu(r.settings.dynamicIndex):r.isVideoWallpaper&&h.value?xa:r.currentUrl||xa);function y(){requestAnimationFrame(()=>{c.value=!0})}function v(){h.value=!0,c.value=!0}function w(){h.value=!1,c.value=!0}Qe(d,()=>{c.value=!1,h.value=!1}),Qe([s,a],([T,W])=>{T||W?u.value=!0:u.value=!1},{immediate:!0});const m=ne(()=>{const W=s.value&&r.settings.blur&&t.settings.overlayBlur?r.settings.blurAmount||10:0,Q=u.value?1.1:1;return{filter:`blur(${W}px)`,transform:`translate(-50%, -50%) scale(${Q})`}});Ze(async()=>{await t.init();const T="anheyu_auto_grid_executed";!sessionStorage.getItem(T)&&t.settings.autoShowAppGrid&&(s.value=!0,sessionStorage.setItem(T,"true")),n.init(),r.init(),o.init(),await To(),i.value=!1});function k(T){T&&o.selectNote(T),l.value=!0}function E(){l.value=!1}Dt(()=>{});function S(){s.value=!s.value}function N(){s.value=!1}function L(T){T.target.closest("button, a, input, [data-no-context]")||(T.preventDefault(),S())}function D(T){T.stopPropagation(),S()}function x(T){const W=T.target;if(W.closest("[data-dock-bar]")||!s.value)return;W.closest("[data-settings-menu], [data-settings-menu] *, .app-icon-card, .app-icon-card *, [data-time-display], [data-time-display] *")||N()}return(T,W)=>(C(),P("div",{class:J(["relative w-full h-full overflow-hidden",[`accent-${g(t).settings.accentColor}`,{"smooth-mode":g(t).settings.smoothMode,"reduce-motion":g(t).settings.reduceMotion}]]),onContextmenu:L},[W[1]||(W[1]=f("div",{class:"wallpaper-placeholder"},null,-1)),f("div",{class:J(["wallpaper-container",{"wallpaper-visible":c.value}])},[g(r).isVideoWallpaper&&!h.value?(C(),P("video",{key:0,src:d.value,class:"wallpaper-video wallpaper-transition",style:Ke(m.value),autoplay:"",loop:"",muted:"",playsinline:"",onLoadeddata:w,onError:v},null,44,rb)):(C(),P("img",{key:1,src:d.value,alt:"wallpaper",class:"wallpaper-img wallpaper-transition",style:Ke(m.value),onLoad:y},null,44,sb))],2),f("div",{class:J(["gradient-overlay",{"overlay-blur":s.value&&g(t).settings.overlayBlur,"vignette-effect":g(t).settings.wallpaperVignette}])},null,2),f("div",{class:"relative z-10 flex flex-col items-center w-full h-full",onClick:x},[f("div",ab,[f("div",lb,[B(Cu,{onClick:D})]),f("div",ib,[B(ke,{name:i.value?"":"view-switch"},{default:le(()=>[s.value?Y("",!0):(C(),P("div",cb,[f("div",ub,[B(Ld,{onFocusChange:p})]),B(ke,{name:"poetry-fade"},{default:le(()=>[a.value?(C(),ce(Lm,{key:0,class:J(["poetry-bottom",{"poetry-no-dock":!g(t).settings.showShortcutDock}]),"data-poetry-area":"",onMousedown:W[0]||(W[0]=ae(()=>{},["prevent"]))},null,8,["class"])):Y("",!0)]),_:1})]))]),_:1},8,["name"]),B(ke,{name:i.value?"":"grid-fade"},{default:le(()=>[s.value?(C(),P("div",db,[(C(),ce(ip,{key:`grid-${s.value}`,onOpenNotes:k}))])):Y("",!0)]),_:1},8,["name"])])]),B(ke,{name:i.value?"":"settings-slide"},{default:le(()=>[s.value?(C(),P("div",fb,[B(Tm)])):Y("",!0)]),_:1},8,["name"]),B(ke,{name:"dock-slide"},{default:le(()=>[g(t).settings.showShortcutDock?(C(),ce(Pf,{key:0,"show-grid":s.value,onToggleGrid:S,onOpenNotes:k},null,8,["show-grid"])):Y("",!0)]),_:1}),B(ob,{onOpenNotes:k})]),g(t).settings.showGreeting?(C(),ce(Rm,{key:0})):Y("",!0),l.value?(C(),ce(Kv,{key:1,onClose:E})):Y("",!0)],34))}}),hb=Me(pb,[["__scopeId","data-v-5d3f53e6"]]),os=ri(hb),gb=si();os.use(gb);os.use(Za);os.mount("#app");
